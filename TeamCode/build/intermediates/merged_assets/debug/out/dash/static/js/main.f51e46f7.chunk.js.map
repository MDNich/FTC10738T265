{"version":3,"sources":["containers/canvas.js","enums/ConfigurableView.ts","components/TileGrid.jsx","components/Tile.jsx","containers/BaseView.tsx","components/MultipleCheckbox.jsx","containers/Graph.js","components/AutoFitCanvas.jsx","containers/GraphCanvas.jsx","components/inputs/TextInput.jsx","assets/icons/chart.svg","assets/icons/close.svg","assets/icons/play_arrow.svg","assets/icons/pause.svg","components/inputs/validation.js","containers/GraphView.tsx","assets/field.png","containers/Field.js","containers/FieldView.jsx","components/inputs/BooleanInput.jsx","components/inputs/EnumInput.jsx","enums/VariableType.ts","containers/BasicVariable.jsx","assets/icons/expand_more.svg","containers/CustomVariable.jsx","assets/icons/save.svg","assets/icons/refresh.svg","store/types/camera.ts","store/types/config.ts","store/types/gamepad.ts","store/types/opmode.ts","store/types/settings.ts","store/types/socket.ts","store/types/status.ts","store/types/telemetry.ts","store/actions/config.ts","containers/ConfigView.tsx","containers/TelemetryView.tsx","containers/CameraView.jsx","enums/OpModeStatus.ts","assets/icons/gamepad.svg","containers/OpModeView.tsx","store/actions/opmode.ts","components/RadialFab/RadialFab.tsx","components/RadialFab/RadialFabChild.tsx","hooks/useDelayedTooltip.tsx","assets/icons/camera.svg","assets/icons/settings.svg","assets/icons/api.svg","assets/icons/subject.svg","assets/icons/widgets.svg","components/ViewPicker.tsx","hooks/useUndoHistory.tsx","assets/icons/add.svg","assets/icons/delete_sweep.svg","assets/icons/delete_x.svg","assets/icons/lock.svg","assets/icons/remove_circle.svg","assets/icons/remove_circle_outline.svg","assets/icons/create.svg","components/ConfigurableLayout.tsx","hooks/useMouseIdleListener.tsx","enums/LayoutPreset.tsx","store/actions/socket.ts","store/actions/status.ts","store/actions/settings.ts","assets/icons/wifi.svg","assets/icons/wifi_off.svg","store/actions/gamepad.ts","store/middleware/socketMiddleware.ts","containers/Dashboard.jsx","enums/GamepadType.ts","store/middleware/gamepadMiddleware.ts","store/middleware/storageMiddleware.ts","store/reducers/telemetry.ts","store/reducers/socket.ts","store/reducers/config.ts","store/reducers/status.ts","store/reducers/camera.ts","store/reducers/settings.ts","store/reducers/gamepad.ts","store/reducers/index.ts","store/configureStore.ts","index.jsx"],"names":["alignCoord","x","scaling","roundX","Math","round","sign","CanvasRenderingContext2D","prototype","getScalingFactors","transform","arr","this","getTransform","mozCurrentTransform","Error","window","DOMMatrix","fromFloat64Array","Float64Array","from","a","b","c","d","scalingX","sqrt","scalingY","fineMoveTo","y","moveTo","fineLineTo","lineTo","ConfigurableView","TileGrid","gridTemplate","children","className","style","Tile","row","col","gridRow","gridColumn","BaseView","styled","div","attrs","props","isUnlocked","BaseViewHeading","h2","isDraggable","BaseViewBody","BaseViewIcons","BaseViewIcon","BaseViewIconButton","button","MultipleCheckbox","state","selected","uuid","uuid4","evt","val","target","checked","setState","onChange","filter","el","exclude","indexOf","map","id","type","handleChange","htmlFor","React","Component","DEFAULT_OPTIONS","windowMs","colors","lineWidth","padding","keySpacing","keyLineLength","gridLineWidth","gridLineColor","fontSize","textColor","maxTicks","niceNum","range","exponent","floor","log10","fraction","pow","getAxisScaling","min","max","tickSpacing","spacing","formatTicks","tickValue","ticks","delta","length","abs","logDelta","tickString","numDecimal","toFixed","scale","value","fromLow","fromHigh","toLow","toHigh","Graph","canvas","options","ctx","getContext","cloneDeep","Object","assign","hasGraphableContent","clear","time","datasets","lastSampleTime","sample","lastSimTime","Date","now","push","color","i","name","data","j","Number","MAX_VALUE","MIN_VALUE","o","width","devicePixelRatio","font","textBaseline","textAlign","height","fillStyle","fillRect","keyHeight","renderKey","renderGraph","save","numSets","lineY","lineX","measureText","strokeStyle","beginPath","stroke","fillText","restore","shift","graphHeight","axis","getAxis","tickStrings","s","getTicks","axisWidth","renderAxisLabels","graphWidth","renderGridLines","renderGraphLines","textWidth","vertSpacing","numTicksX","numTicksY","horSpacing","translate","rect","clip","AutoFitCanvas","resize","bind","containerRef","createRef","resizeObserver","ResizeObserver","entries","current","observe","disconnect","innerRef","clientWidth","clientHeight","onResize","containerHeight","ref","defaultProps","ForwardedAutoFitCanvas","forwardRef","displayName","GraphCanvas","canvasRef","graph","requestId","cancelAnimationFrame","prevProps","forEach","addSample","paused","render","requestAnimationFrame","TextInput","inputRef","handleKeyDown","setCustomValidity","valid","validate","validated","onSave","keyCode","size","onKeyDown","_extends","arguments","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","SvgChart","_ref","svgRef","title","titleId","viewBox","xmlns","ForwardRef","SvgClose","SvgPlayArrow","SvgPause","validateDouble","isNaN","parseFloat","validateInt","test","parseInt","validateString","connector","connect","telemetry","graphing","start","stop","play","pause","handleDocumentKeydown","addEventListener","removeEventListener","code","latestPacket","numericKeys","showNoNumeric","showEmpty","showText","graphData","packet","timestamp","includes","tabIndex","onClick","fieldImage","Image","fieldsToRender","fieldLoaded","onload","field","src","fieldImageName","alpha","fieldSize","splineSamples","Field","overlay","ops","renderField","globalAlpha","drawImage","renderOverlay","rotate","PI","lineCap","op","arc","radius","xPoints","yPoints","closePath","ax","bx","cx","dx","ex","fx","ay","by","cy","dy","ey","fy","t","sx","sy","FieldView","setOverlay","fieldOverlay","BooleanInput","EnumInput","enumValues","enumValue","VariableType","BOOLEAN","INT","DOUBLE","STRING","ENUM","CUSTOM","BasicVariable","input","enumClass","modified","optionOnChange","__type","__value","__valid","optionOnSave","__enumClass","userSelect","opacity","SvgExpandMore","CustomVariable","expanded","toggleVisibility","sortedKeys","sort","child","newValue","__newValue","__enumValues","__modified","SvgSave","SvgRefresh","RECEIVE_IMAGE","RECEIVE_CONFIG","GET_CONFIG","UPDATE_CONFIG","SAVE_CONFIG","REFRESH_CONFIG","GAMEPAD_CONNECTED","GAMEPAD_DISCONNECTED","RECEIVE_GAMEPAD_STATE","INIT_OP_MODE","START_OP_MODE","STOP_OP_MODE","SAVE_LAYOUT_PRESET","RECEIVE_LAYOUT_PRESET","GET_LAYOUT_PRESET","CONNECT","DISCONNECT","RECEIVE_PING_TIME","RECEIVE_CONNECTION_STATUS","GET_ROBOT_STATUS","RECEIVE_ROBOT_STATUS","RECEIVE_OP_MODE_LIST","RECEIVE_TELEMETRY","getModifiedDiffHelper","baseConfig","modifiedConfig","subConfig","isEmpty","getModifiedDiff","ConfigView","dispatch","useDispatch","configRoot","useSelector","config","configDiff","saveConfig","updateConfig","TelemetryView","telemetryLines","telemetryLog","log","line","CameraView","renderImage","image","rotation","imageStr","viewportWidth","viewportHeight","minHeight","camera","OpModeStatus","INIT","RUNNING","STOPPED","SvgGamepad","mapDispatchToProps","initOpMode","opModeName","startOpMode","stopOpMode","status","gamepad","ActionButton","selectedOpMode","activeOpMode","activeOpModeStatus","opModeList","renderInitButton","renderStartButton","renderStopButton","available","warningMessage","errorMessage","gamepad1Connected","gamepad2Connected","disabled","opMode","renderButtons","FixedContainer","bottom","isShowing","right","FloatingButton","customClassName","CreateIcon","img","RadialFab","clickEvent","icon","Children","e","cloneElement","isOpen","ButtonContainer","customClass","angle","openMargin","displacementX","cos","displacementY","sin","Icon","fineAdjustIconX","fineAdjustIconY","ToolTip","span","RadialFabChild","delay","useState","isShowingTooltip","setIsShowingTooltip","isMouseStillIn","useRef","timeoutTimer","setRef","useCallback","node","onMouseEnter","clearInterval","setTimeout","onMouseLeave","useEffect","clearTimeout","useDelayedTooltip","toolTipText","r","SvgCamera","SvgSettings","enableBackground","SvgApi","SvgSubject","SvgWidgets","StateHistoryCommand","Container","CardButton","customStyles","index","listContent","view","OPMODE_VIEW","iconBg","FIELD_VIEW","GRAPH_VIEW","CONFIG_VIEW","TELEMETRY_VIEW","CAMERA_VIEW","ViewPicker","item","SvgAdd","SvgDeleteSweep","SvgDeleteX","SvgRemoveCircle","SvgRemoveCircleOutline","maxArray","VIEW_MAP","LOCAL_STORAGE_LAYOUT_KEY","ReactGridLayout","WidthProvider","RGL","isLayoutLocked","bgGridSize","HEIGHT_BREAKPOINTS","DEFAULT_GRID","uuidv4","layout","w","h","minW","isResizable","DEFAULT_GRID_MEDIUM","DEFAULT_GRID_TALL","ConfigurableLayout","gridWrapperRef","setIsLayoutLocked","isInDeleteMode","setIsInDeleteMode","isShowingViewPicker","setIsShowingViewPicker","gridBgSize","setGridBgSize","initialHead","useReducer","action","INITIALIZE","history","payload","currentHistoryPosition","APPEND","isEqual","slice","UNDO","REDO","initialize","useMemo","append","undo","redo","useUndoHistory","gridItems","initializeGrid","setGrid","undoGrid","redoGrid","isFabIdle","isIdle","setIsIdle","document","createElement","position","top","left","pointerEvents","listenerElement","listenMouseEvents","clientX","offsetLeft","clientY","offsetTop","timeout","body","appendChild","removeChild","useMouseIdleListener","containerResizerObserver","GRID_COL","initialLayoutStorageValue","localStorage","getItem","newGridItems","JSON","parse","keyDownListener","navigator","platform","metaKey","shiftKey","ctrlKey","setItem","stringify","cols","resizeHandles","draggableHandle","compactType","rowHeight","GRID_ROW_HEIGHT","onLayoutChange","newGrid","newLayoutValue","find","newLayout","margin","toBeLocked","CreateIconURL","LockIconURL","reduce","newItemBotMin","newItemLeft","newItemTopMin","intervalsIntersect","acc","newItemTop","LayoutPreset","DEFAULT","FIELD","GRAPH","ORIGINAL","CONFIGURABLE","LAYOUT_DETAILS","content","freeze","getName","preset","getContent","host","port","receiveConnectionStatus","isConnected","receiveLayoutPreset","fillOpacity","SvgWifi","SvgWifiOff","lastGamepad1","lastGamepad2","lastGamepadTimestamp","socket","statusSentTime","Dashboard","location","hostname","process","layoutPreset","pingTime","reduxConnect","settings","gamepadConnected","user","gamepadDisconnected","sendGamepadState","gamepad1","gamepad2","receiveGamepadState","GamepadType","LOGITECH_DUAL_ACTION","XBOX_360","SONY_DUALSHOCK_4","UNKNOWN","getFromGamepad","search","RegExp","getJoystickDeadzone","gamepadType","isSupported","oldMin","oldMax","newMin","newMax","cleanMotionValues","joystickDeadzone","maxMotionRange","REST_GAMEPAD_STATE","left_stick_x","left_stick_y","right_stick_x","right_stick_y","dpad_up","dpad_down","dpad_left","dpad_right","guide","back","left_bumper","right_bumper","left_stick_button","right_stick_button","left_trigger","right_trigger","extractGamepadState","axes","buttons","pressed","touchpad","gamepad1Index","gamepad2Index","gamepadMiddleware","store","updateGamepads","gamepads","getGamepads","connected","gamepadState","gamepad1State","gamepad2State","next","robotStatusLoop","getState","socketMiddleware","WebSocket","onmessage","msg","onopen","onclose","close","receivePingTime","send","LAYOUT_PRESET_KEY","storageMiddleware","initialState","telemetryReducer","socketReducer","receiveConfig","newConfig","mergedConfig","newBaseValue","validValue","refreshConfig","refreshedConfig","configReducer","statusReducer","cameraReducer","imageString","settingsReducer","gamepadReducer","rootReducer","combineReducers","configureStore","middlewares","thunk","createStore","applyMiddleware","ReactDOM","getElementById"],"mappings":"sGAIA,SAASA,EAAWC,EAAGC,GACrB,IAAMC,EAASC,KAAKC,MAAMJ,EAAIC,GAC9B,OAAQC,EAAS,GAAMC,KAAKE,KAAKL,EAAIE,IAAWD,EAOlDK,yBAAyBC,UAAUC,kBAAoB,WACrD,IAAIC,EALkBC,EAMtB,GAAiC,oBAAtBC,KAAKC,aACdH,EAAYE,KAAKC,mBACZ,IAAwC,qBAA7BD,KAAKE,oBAGrB,MAAM,IAAIC,MAAM,mCAXIJ,EASOC,KAAKE,oBAAhCJ,EARKM,OAAOC,UAAUC,iBAAiBC,aAAaC,KAAKT,IAGM,MAU1CD,EAAfW,EAVyD,EAUzDA,EAAGC,EAVsD,EAUtDA,EAAGC,EAVmD,EAUnDA,EAAGC,EAVgD,EAUhDA,EAIjB,MAAO,CACLC,SAJerB,KAAKsB,KAAKL,EAAIA,EAAIE,EAAIA,GAKrCI,SAJevB,KAAKsB,KAAKJ,EAAIA,EAAIE,EAAIA,KAQzCjB,yBAAyBC,UAAUoB,WAAa,SAAU3B,EAAG4B,GAAI,IAAD,EAC/BjB,KAAKH,oBAA5BgB,EADsD,EACtDA,SAAUE,EAD4C,EAC5CA,SAClBf,KAAKkB,OAAO9B,EAAWC,EAAGwB,GAAWzB,EAAW6B,EAAGF,KAGrDpB,yBAAyBC,UAAUuB,WAAa,SAAU9B,EAAG4B,GAAI,IAAD,EAC/BjB,KAAKH,oBAA5BgB,EADsD,EACtDA,SAAUE,EAD4C,EAC5CA,SAClBf,KAAKoB,OAAOhC,EAAWC,EAAGwB,GAAWzB,EAAW6B,EAAGF,M,gECxCzCM,E,2FCcGC,EAXE,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,SAAjB,OACf,qBAAKC,UAAU,YAAYC,MAAO,CAAEH,gBAApC,SACGC,KCgBUG,EAlBF,SAAC,GAAD,IAAGH,EAAH,EAAGA,SAAUI,EAAb,EAAaA,IAAKC,EAAlB,EAAkBA,IAAlB,OACX,qBACEJ,UAAU,OACVC,MAAO,CACLI,QAASF,EACTG,WAAYF,GAJhB,SAOGL,K,qFFXOH,O,2BAAAA,I,2BAAAA,I,6BAAAA,I,mCAAAA,I,6BAAAA,I,8BAAAA,M,+cGMZ,IAAMW,EAAWC,IAAOC,IAAIC,OAAqB,SAACC,GAAD,MAAY,CAC3DX,UAAU,iFAAD,OACPW,EAAMC,WAAa,mCAAqC,OAF3CJ,CAAH,KAURK,EAAkBL,IAAOM,GAAGJ,OAA4B,SAACC,GAAD,MAAY,CACxEX,UAAU,wCAAD,OACPW,EAAMI,YAAc,cAAgB,OAFhBP,CAAH,KAMfQ,EAAeR,IAAOC,IAAIC,OAA8B,SAACC,GAAD,MAAY,CACxEX,UAAU,QAAD,OAAUW,EAAMX,cADNQ,CAAH,KAOZS,EAAgBT,IAAOC,IAAIC,MAAM,CACrCV,UAAW,oCADSQ,CAAH,KAIbU,EAAeV,IAAOC,IAAIC,MAAM,CACpCV,UAAW,uBADQQ,CAAH,KAIZW,EAAqBX,IAAOY,OAAOV,OACvC,SAACC,GAAD,MAAY,CACVX,UAAU,oBAAD,OAAsBW,EAAMX,cAFdQ,CAAH,KCqCTa,E,kDArEb,WAAYV,GAAQ,IAAD,8BACjB,cAAMA,IAEDW,MAAQ,CACXC,SAAU,EAAKZ,MAAMY,UAAY,GACjCC,KAAMC,eALS,E,yDASNC,EAAKC,GAAM,IAAD,OACjBD,EAAIE,OAAOC,QACbtD,KAAKuD,SACH,CACEP,SAAS,GAAD,mBAAMhD,KAAK+C,MAAMC,UAAjB,CAA2BI,MAErC,kBAAM,EAAKhB,MAAMoB,SAAS,EAAKT,MAAMC,aAGvChD,KAAKuD,SACH,CACEP,SAAUhD,KAAK+C,MAAMC,SAASS,QAAO,SAACC,GAAD,OAAQN,IAAQM,OAEvD,kBAAM,EAAKtB,MAAMoB,SAAS,EAAKT,MAAMC,e,+BAKjC,IAAD,OACP,OACE,uBAAOvB,UAAU,oBAAjB,SACE,gCACGzB,KAAKoC,MAAMrC,IACT0D,QACC,SAACL,GAAD,OACG,EAAKhB,MAAMuB,UAAgD,IAArC,EAAKvB,MAAMuB,QAAQC,QAAQR,MAErDS,KAAI,SAACT,GAAD,OACH,+BACE,6BACE,uBACEU,GAAE,4BAAuB,EAAKf,MAAME,KAAlC,YAA0CG,GAC5C3B,UAAU,UACVsC,KAAK,WACLP,SAAU,SAACL,GAAD,OAAS,EAAKa,aAAab,EAAKC,IAC1CE,SAA+C,IAAtC,EAAKP,MAAMC,SAASY,QAAQR,OAGzC,6BACE,uBACEa,QAAO,4BAAuB,EAAKlB,MAAME,KAAlC,YAA0CG,GADnD,SAGGA,QAdEA,c,GAtCQc,IAAMC,W,QCAxBC,G,MAAkB,CAC7BC,SAAU,IACVC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,WACrDC,UAAW,EACXC,QAAS,GACTC,WAAY,EACZC,cAAe,GACfC,cAAe,EACfC,cAAe,qBACfC,SAAU,GACVC,UAAW,kBACXC,SAAU,IAGZ,SAASC,EAAQC,EAAOxF,GACtB,IAAMyF,EAAW1F,KAAK2F,MAAM3F,KAAK4F,MAAMH,IACjCI,EAAWJ,EAAQzF,KAAK8F,IAAI,GAAIJ,GAqBtC,OAnBIzF,EACE4F,EAAW,IACE,EACNA,EAAW,EACL,EACNA,EAAW,EACL,EAEA,GAERA,GAAY,EACN,EACNA,GAAY,EACN,EACNA,GAAY,EACN,EAEA,IAEK7F,KAAK8F,IAAI,GAAIJ,GAIrC,SAASK,EAAeC,EAAKC,EAAKV,GAChC,IAAME,EAAQD,EAAQS,EAAMD,GAAK,GAC3BE,EAAcV,EAAQC,GAASF,EAAW,IAAI,GAGpD,MAAO,CACLS,IAHchG,KAAK2F,MAAMK,EAAME,GAAeA,EAI9CD,KAHejG,KAAK2F,MAAMM,EAAMC,GAAe,GAAKA,EAIpDC,QAASD,GAKb,SAASE,EAAYC,EAAWC,GAE9B,IAAIC,EAAQD,EAAME,OAAS,EAAIF,EAAM,GAAKA,EAAM,GAAKA,EAAM,GAAKA,EAAM,GAGlEtG,KAAKyG,IAAIF,GAAS,GAChBF,IAAcrG,KAAK2F,MAAMU,KAE3BE,EAAQF,EAAYrG,KAAK2F,MAAMU,IAInC,IAAMK,EAAW1G,KAAK4F,MAAM5F,KAAKyG,IAAIF,IACjCI,EAAa,GAEjB,GAAkB,IAAdN,EAAiB,CACnB,IAAIO,GAAc,EAAI5G,KAAK2F,MAAMe,GACjCE,EAAa5G,KAAKiG,IAAIjG,KAAKgG,IAAIY,EAAY,IAAK,GAChDD,EAAaN,EAAUQ,QAAQD,QAE/BD,EAAa,IAGf,OAAOA,EAoBT,SAASG,EAAMC,EAAOC,EAASC,EAAUC,EAAOC,GAE9C,OAAOD,GADOC,EAASD,IAAUD,EAAWD,IACrBD,EAAQC,G,IAGZI,E,WACnB,WAAYC,EAAQC,GAAU,oBAC5B9G,KAAK6G,OAASA,EACd7G,KAAK+G,IAAMF,EAAOG,WAAW,MAE7BhH,KAAK8G,QAAUG,oBAAU7C,GACzB8C,OAAOC,OAAOnH,KAAK8G,QAASA,GAAW,IAEvC9G,KAAKoH,qBAAsB,EAE3BpH,KAAKqH,Q,oDAILrH,KAAKsH,KAAO,GACZtH,KAAKuH,SAAW,GAChBvH,KAAKwH,eAAiB,EAEtBxH,KAAKoH,qBAAsB,I,gCAGnBK,GACR,GAA4B,IAAxBzH,KAAKwH,eAAsB,CAC7BxH,KAAK0H,YAAcC,KAAKC,MAAQ,IAChC5H,KAAKsH,KAAKO,KAAK7H,KAAK0H,aAEpB,IADA,IAAII,EAAQ,EACHC,EAAI,EAAGA,EAAIN,EAAOzB,OAAQ+B,IACV,SAAnBN,EAAOM,GAAGC,KACZhI,KAAKwH,eAAiBC,EAAOM,GAAGxB,OAEhCvG,KAAKuH,SAASM,KAAK,CACjBG,KAAMP,EAAOM,GAAGC,KAChBC,KAAM,CAACR,EAAOM,GAAGxB,OACjBuB,MAAO9H,KAAK8G,QAAQxC,OAAOwD,EAAQ9H,KAAK8G,QAAQxC,OAAO0B,UAEzD8B,UAIJ,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAOzB,OAAQ+B,IACjC,GAAuB,SAAnBN,EAAOM,GAAGC,KACZhI,KAAK0H,aAAeD,EAAOM,GAAGxB,MAAQvG,KAAKwH,eAC3CxH,KAAKsH,KAAKO,KAAK7H,KAAK0H,aACpB1H,KAAKwH,eAAiBC,EAAOM,GAAGxB,WAEhC,IAAK,IAAI2B,EAAI,EAAGA,EAAIlI,KAAKuH,SAASvB,OAAQkC,IACpCT,EAAOM,GAAGC,OAAShI,KAAKuH,SAASW,GAAGF,MACtChI,KAAKuH,SAASW,GAAGD,KAAKJ,KAAKJ,EAAOM,GAAGxB,S,gCAY/C,IAFA,IAAIf,EAAM2C,OAAOC,UACb3C,EAAM0C,OAAOE,UACRN,EAAI,EAAGA,EAAI/H,KAAKuH,SAASvB,OAAQ+B,IACxC,IAAK,IAAIG,EAAI,EAAGA,EAAIlI,KAAKuH,SAASQ,GAAGE,KAAKjC,OAAQkC,IAAK,CACrD,IAAM9E,EAAMpD,KAAKuH,SAASQ,GAAGE,KAAKC,GAC9B9E,EAAMqC,IACRA,EAAMrC,GAEJA,EAAMoC,IACRA,EAAMpC,GAIZ,OAAI5D,KAAKyG,IAAIT,EAAMC,GAAO,KACjBF,EAAeC,EAAM,EAAGC,EAAM,EAAGzF,KAAK8G,QAAQ/B,UAEhDQ,EAAeC,EAAKC,EAAKzF,KAAK8G,QAAQ/B,Y,+BAI7C,IAAMuD,EAAItI,KAAK8G,QAGf9G,KAAK6G,OAAO0B,MAAQvI,KAAK6G,OAAO0B,MAGhCvI,KAAK+G,IAAIT,MAAMkC,iBAAkBA,kBAEjCxI,KAAK+G,IAAI0B,KAAT,UAAmBH,EAAEzD,SAArB,2BACA7E,KAAK+G,IAAI2B,aAAe,SACxB1I,KAAK+G,IAAI4B,UAAY,OACrB3I,KAAK+G,IAAIxC,UAAY+D,EAAE/D,UAAYiE,iBAEnC,IAAMD,EAAQvI,KAAK6G,OAAO0B,MAAQC,iBAC5BI,EAAS5I,KAAK6G,OAAO+B,OAASJ,iBAEpCxI,KAAK+G,IAAI8B,UAAY,OACrB7I,KAAK+G,IAAI+B,SAAS,EAAG,EAAGP,EAAOK,GAE/B,IAAMG,EAAY/I,KAAKgJ,UAAU,EAAG,EAAGT,GACvCvI,KAAKiJ,YAAY,EAAGF,EAAWR,EAAOK,EAASG,K,gCAGvC1J,EAAG4B,EAAGsH,GACd,IAAMD,EAAItI,KAAK8G,QAEf9G,KAAK+G,IAAImC,OAIT,IAFA,IAAMC,EAAUnJ,KAAKuH,SAASvB,OACxB4C,EAASO,EAAUb,EAAEzD,UAAYsE,EAAU,GAAKb,EAAE7D,WAC/CsD,EAAI,EAAGA,EAAIoB,EAASpB,IAAK,CAChC,IAAMqB,EAAQnI,EAAI8G,GAAKO,EAAEzD,SAAWyD,EAAE7D,YAAc6D,EAAEzD,SAAW,EAC3DmD,EAAOhI,KAAKuH,SAASQ,GAAGC,KACxBF,EAAQ9H,KAAKuH,SAASQ,GAAGD,MAGzBuB,EAAQhK,GAAKkJ,GADjBvI,KAAK+G,IAAIuC,YAAYtB,GAAMO,MAAQD,EAAE5D,cAAgB4D,EAAE7D,aACjB,EAExCzE,KAAK+G,IAAIwC,YAAczB,EACvB9H,KAAK+G,IAAIyC,YACTxJ,KAAK+G,IAAI/F,WAAWqI,EAAOD,GAC3BpJ,KAAK+G,IAAI5F,WAAWkI,EAAQf,EAAE5D,cAAe0E,GAC7CpJ,KAAK+G,IAAI0C,SAETzJ,KAAK+G,IAAI8B,UAAYP,EAAExD,UACvB9E,KAAK+G,IAAI2C,SAAS1B,EAAMqB,EAAQf,EAAE5D,cAAgB4D,EAAE7D,WAAY2E,GAKlE,OAFApJ,KAAK+G,IAAI4C,UAEFf,I,kCAGGvJ,EAAG4B,EAAGsH,EAAOK,GACvB,IAAMN,EAAItI,KAAK8G,QAEf,GAA6B,IAAzB9G,KAAKuH,SAASvB,QAAiD,IAAjChG,KAAKuH,SAAS,GAAGU,KAAKjC,OAAxD,CAMAhG,KAAKoH,qBAAsB,EAI3B,IADA,IAAMQ,EAAMD,KAAKC,MACVA,EAAM5H,KAAKsH,KAAK,GAAKgB,EAAEjE,SAAW,KAAK,CAC5CrE,KAAKsH,KAAKsC,QACV,IAAK,IAAI7B,EAAI,EAAGA,EAAI/H,KAAKuH,SAASvB,OAAQ+B,IACxC/H,KAAKuH,SAASQ,GAAGE,KAAK2B,QAI1B,IAAMC,EAAcjB,EAAS,EAAIN,EAAE9D,QAE7BsF,EAAO9J,KAAK+J,UACZjE,EA/KV,SAAkBgE,GAGhB,IADA,IAAMhE,EAAQ,GACLiC,EAAI+B,EAAKtE,IAAKuC,GAAK+B,EAAKrE,IAAKsC,GAAK+B,EAAKnE,QAC9CG,EAAM+B,KAAKE,GAKb,IADA,IAAMiC,EAAc,GACXjC,EAAI,EAAGA,EAAIjC,EAAME,OAAQ+B,IAAK,CACrC,IAAMkC,EAAIrE,EAAYE,EAAMiC,GAAIjC,GAChCkE,EAAYnC,KAAKoC,GAGnB,OAAOD,EAiKSE,CAASJ,GACjBK,EAAYnK,KAAKoK,iBACrB/K,EAAIiJ,EAAE9D,QACNvD,EAAIqH,EAAE9D,QACNqF,EACA/D,GAGIuE,EAAa9B,EAAQ4B,EAAY,EAAI7B,EAAE9D,QAE7CxE,KAAKsK,gBACHjL,EAAI8K,EAAY,EAAI7B,EAAE9D,QACtBvD,EAAIqH,EAAE9D,QACN6F,EACAR,EACA,EACA/D,EAAME,QAGRhG,KAAKuK,iBACHlL,EAAI8K,EAAY,EAAI7B,EAAE9D,QACtBvD,EAAIqH,EAAE9D,QACN6F,EACAR,EACAC,QA3CA9J,KAAKoH,qBAAsB,I,uCA+Cd/H,EAAG4B,EAAG2H,EAAQ9C,GAC7B9F,KAAK+G,IAAImC,OAGT,IADA,IAAIX,EAAQ,EACHR,EAAI,EAAGA,EAAIjC,EAAME,OAAQ+B,IAAK,CACrC,IAAMyC,EAAYxK,KAAK+G,IAAIuC,YAAYxD,EAAMiC,IAAIQ,MAC7CiC,EAAYjC,IACdA,EAAQiC,GAKZxK,KAAK+G,IAAI4B,UAAY,QACrB3I,KAAK+G,IAAI8B,UAAY7I,KAAK8G,QAAQhC,UAElC,IAAM2F,EAAc7B,GAAU9C,EAAME,OAAS,GAC7C3G,GAAKkJ,EACL,IAAK,IAAIR,EAAI,EAAGA,EAAIjC,EAAME,OAAQ+B,IAChC/H,KAAK+G,IAAI2C,SAAS5D,EAAMiC,GAAI1I,EAAG4B,GAAK6E,EAAME,OAAS+B,EAAI,GAAK0C,GAK9D,OAFAzK,KAAK+G,IAAI4C,UAEFpB,I,sCAGOlJ,EAAG4B,EAAGsH,EAAOK,EAAQ8B,EAAWC,GAC9C3K,KAAK+G,IAAImC,OAETlJ,KAAK+G,IAAIwC,YAAcvJ,KAAK8G,QAAQlC,cACpC5E,KAAK+G,IAAIxC,UAAYvE,KAAK8G,QAAQnC,cAAgB6D,iBAKlD,IAHA,IAAMoC,EAAarC,GAASmC,EAAY,GAClCD,EAAc7B,GAAU+B,EAAY,GAEjC5C,EAAI,EAAGA,EAAI2C,EAAW3C,IAAK,CAClC,IAAMsB,EAAQhK,EAAIuL,EAAa7C,EAC/B/H,KAAK+G,IAAIyC,YACTxJ,KAAK+G,IAAI/F,WAAWqI,EAAOpI,GAC3BjB,KAAK+G,IAAI5F,WAAWkI,EAAOpI,EAAI2H,GAC/B5I,KAAK+G,IAAI0C,SAGX,IAAK,IAAI1B,EAAI,EAAGA,EAAI4C,EAAW5C,IAAK,CAClC,IAAMqB,EAAQnI,EAAIwJ,EAAc1C,EAChC/H,KAAK+G,IAAIyC,YACTxJ,KAAK+G,IAAI/F,WAAW3B,EAAG+J,GACvBpJ,KAAK+G,IAAI5F,WAAW9B,EAAIkJ,EAAOa,GAC/BpJ,KAAK+G,IAAI0C,SAGXzJ,KAAK+G,IAAI4C,Y,uCAGMtK,EAAG4B,EAAGsH,EAAOK,EAAQkB,GACpC,IAAMxB,EAAItI,KAAK8G,QACTc,EAAMD,KAAKC,MAEjB5H,KAAK+G,IAAIxC,UAAY+D,EAAE/D,UAEvBvE,KAAK+G,IAAImC,OACTlJ,KAAK+G,IAAI8D,UAAUxL,EAAG4B,GACtBjB,KAAK+G,IAAI+D,KAAK,EAAG,EAAGvC,EAAOK,GAC3B5I,KAAK+G,IAAIgE,OAIT/K,KAAK+G,IAAIyC,YACT,IAAK,IAAIzB,EAAI,EAAGA,EAAI/H,KAAKuH,SAASvB,OAAQ+B,IAAK,CAC7C,IAAMnH,EAAIZ,KAAKuH,SAASQ,GACxB/H,KAAK+G,IAAIyC,YACTxJ,KAAK+G,IAAIwC,YAAc3I,EAAEkH,MACzB9H,KAAK+G,IAAI/F,WACPsF,EAAMtG,KAAKsH,KAAK,GAAKM,EAAMU,EAAEjE,SAAU,EAAGiE,EAAEjE,SAAU,EAAGkE,GACzDjC,EAAM1F,EAAEqH,KAAK,GAAI6B,EAAKtE,IAAKsE,EAAKrE,IAAKmD,EAAQ,IAE/C,IAAK,IAAIV,EAAI,EAAGA,EAAItH,EAAEqH,KAAKjC,OAAQkC,IACjClI,KAAK+G,IAAI5F,WACPmF,EAAMtG,KAAKsH,KAAKY,GAAKN,EAAMU,EAAEjE,SAAU,EAAGiE,EAAEjE,SAAU,EAAGkE,GACzDjC,EAAM1F,EAAEqH,KAAKC,GAAI4B,EAAKtE,IAAKsE,EAAKrE,IAAKmD,EAAQ,IAGjD5I,KAAK+G,IAAI0C,SAGXzJ,KAAK+G,IAAI4C,c,KCjXPqB,E,kDACJ,WAAY5I,GAAQ,IAAD,8BACjB,cAAMA,IAED6I,OAAS,EAAKA,OAAOC,KAAZ,gBAEd,EAAKC,aAAejH,IAAMkH,YAC1B,EAAKC,eAAiB,IAAIC,gBAAe,SAACC,GAAa,IAAD,gBAClCA,GADkC,IACpD,2BAA2B,SACflI,SAAW,EAAK8H,aAAaK,SACrC,EAAKP,UAH2C,kCANrC,E,gEAgBjBjL,KAAKiL,SAELjL,KAAKqL,eAAeI,QAAQzL,KAAKmL,aAAaK,W,6CAI9CxL,KAAKqL,eAAeK,e,+BAGZ,IAAD,IACD7E,EAAS7G,KAAKoC,MAAMuJ,SAASH,QACnC3E,EAAO0B,MAAQvI,KAAKmL,aAAaK,QAAQI,YAAcpD,iBACvD3B,EAAO+B,OAAS5I,KAAKmL,aAAaK,QAAQK,aAAerD,iBAEzD3B,EAAOnF,MAAM6G,MAAb,UAAwB1B,EAAO0B,MAAQC,iBAAvC,MACA3B,EAAOnF,MAAMkH,OAAb,UAAyB/B,EAAO+B,OAASJ,iBAAzC,MAEA,aAAAxI,KAAKoC,OAAM0J,gBAAX,mB,+BAIA,OACE,qBACEpK,MAAO,CAAE6G,MAAO,OAAQK,OAAQ5I,KAAKoC,MAAM2J,iBAC3CC,IAAKhM,KAAKmL,aAFZ,SAIE,wBAAQa,IAAKhM,KAAKoC,MAAMuJ,iB,GA3CJzH,IAAMC,WAiDlC6G,EAAciB,aAAe,CAC3BF,gBAAiB,QASnB,IAAMG,EAAyBhI,IAAMiI,YAAW,SAAC/J,EAAO4J,GAAR,OAC9C,cAAC,EAAD,aAAeL,SAAUK,GAAS5J,OAEpC8J,EAAuBE,YAAc,gBACtBF,QCYAG,E,kDAvEb,WAAYjK,GAAQ,IAAD,8BACjB,cAAMA,IAEDkK,UAAYpI,IAAMkH,YAEvB,EAAKnC,YAAc,EAAKA,YAAYiC,KAAjB,gBALF,E,gEASjBlL,KAAKuM,MAAQ,IAAI3F,EAAM5G,KAAKsM,UAAUd,QAASxL,KAAKoC,MAAM0E,SAC1D9G,KAAKiJ,gB,6CAIDjJ,KAAKwM,WACPC,qBAAqBzM,KAAKwM,a,yCAIXE,GAAY,IAAD,OAC5B1M,KAAKoC,MAAM6F,KAAK0E,SAAQ,SAAClF,GAAD,OAAY,EAAK8E,MAAMK,UAAUnF,MAErDiF,EAAUG,SAAW7M,KAAKoC,MAAMyK,SAC9B7M,KAAKwM,WAAWC,qBAAqBzM,KAAKwM,WAEzCxM,KAAKoC,MAAMyK,QAAQ7M,KAAKiJ,iB,qCAK1BjJ,KAAKoC,MAAMyK,QAAU7M,KAAKuM,QAC7BvM,KAAKuM,MAAMO,SACX9M,KAAKwM,UAAYO,sBAAsB/M,KAAKiJ,gB,+BAItC,IAAD,IACP,OACE,sBAAKxH,UAAU,qBAAf,UACE,qBACEA,UAAS,UACQ,OAAfzB,KAAKuM,QAAkB,UAACvM,KAAKuM,aAAN,aAAC,EAAYnF,qBAEhC,GADA,SAFG,kBADX,SAOE,cAAC,EAAD,CAAe4E,IAAKhM,KAAKsM,cAE3B,qBAAK7K,UAAU,sEAAf,UACmB,OAAfzB,KAAKuM,SAAkB,UAACvM,KAAKuM,aAAN,aAAC,EAAYnF,uBACpC,mBAAG3F,UAAU,cAAb,0C,GAnDcyC,IAAMC,WC6DjB6I,E,kDA/Db,WAAY5K,GAAQ,IAAD,8BACjB,cAAMA,IAED6K,SAAW/I,IAAMkH,YAEtB,EAAKpH,aAAe,EAAKA,aAAakH,KAAlB,gBACpB,EAAKgC,cAAgB,EAAKA,cAAchC,KAAnB,gBAErB,EAAKnI,MAAQ,CAAEwD,MAAOnE,EAAMmE,OARX,E,iEAYjBvG,KAAKiN,SAASzB,QAAQ2B,kBACpBnN,KAAKoC,MAAMgL,MAAQ,GAAK,iBAGtBpN,KAAKoC,MAAMmE,QAAUvG,KAAKoC,MAAMiL,SAASrN,KAAK+C,MAAMwD,OAAOA,OAC7DvG,KAAKuD,SAAS,CAAEgD,MAAOvG,KAAKoC,MAAMmE,U,mCAGzBpD,GACXnD,KAAKuD,SAAS,CAAEgD,MAAOpD,EAAIE,OAAOkD,QAElC,IAAM+G,EAAYtN,KAAKoC,MAAMiL,SAASlK,EAAIE,OAAOkD,OAE7C+G,GACFtN,KAAKoC,MAAMoB,SAAS8J,K,oCAIVnK,GACRnD,KAAKoC,MAAMmL,QAA0B,KAAhBpK,EAAIqK,SAC3BxN,KAAKoC,MAAMmL,W,+BAKb,OACE,uBACE9L,UAAS,+DACNzB,KAAKoC,MAAMgL,MAER,GADA,0DAGNpB,IAAKhM,KAAKiN,SACVlJ,KAAK,OACL0J,KAAM,GACNlH,MAAOvG,KAAK+C,MAAMwD,MAClB/C,SAAUxD,KAAKgE,aACf0J,UAAW1N,KAAKkN,oB,GAlDAhJ,IAAMC,WCH9B,SAASwJ,IAA2Q,OAA9PA,EAAWzG,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAASM,EAAyBL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxMiL,CAA8BT,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDqL,KAAM,eACN9N,EAAG,8HAGD,GAAqB,gBAAoB,OAAQ,CACnDA,EAAG,gBACH8N,KAAM,SAGR,SAASC,GAASC,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ8L,EAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOjB,EAAS,CACtDe,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAII,GAA0B,aAAiBP,IAChC,ICrCf,SAAS,KAA2Q,OAA9P,GAAWzH,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,0GAGD,GAAqB,gBAAoB,OAAQ,CACnDA,EAAG,gBACH8N,KAAM,SAGR,SAASS,GAASP,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,eACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBK,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAWjI,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,kBAGL,SAASwO,GAAaR,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBM,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAWlI,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,oCAGL,SAASyO,GAAST,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPrG,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACPyD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBO,IClClCC,IDmCE,ICnCe,SAAC/I,GAC7B,OAAKgJ,MAAMpH,OAAO5B,KAAqB,KAAVA,EAMpB,CACLA,QACA6G,OAAO,GAPF,CACL7G,MAAOiJ,WAAWjJ,GAClB6G,OAAO,KAUAqC,GAAc,SAAClJ,GAC1B,MAAI,UAAUmJ,KAAKnJ,GACV,CACLA,MAAOoJ,SAASpJ,EAAO,IACvB6G,OAAO,GAGF,CACL7G,QACA6G,OAAO,IAKAwC,GAAiB,SAACrJ,GAC7B,MAAO,CACLA,QACA6G,OAAO,ICwOIyC,GAjOGC,aAJM,SAAC/M,GAAD,MAAuB,CAC7CgN,UAAWhN,EAAMgN,aAoOJF,C,kDAxNb,WAAYzN,GAAwB,IAAD,8BACjC,cAAMA,IAHR+I,kBAEmC,EAGjC,EAAKpI,MAAQ,CACXiN,UAAU,EACVnD,QAAQ,EACRwB,KAAM,GACNhK,SAAU,CACRkC,MAAOnC,EAAgBC,SACvB+I,OAAO,IAIX,EAAKjC,aAAejH,IAAMkH,YAE1B,EAAK6E,MAAQ,EAAKA,MAAM/E,KAAX,gBACb,EAAKgF,KAAO,EAAKA,KAAKhF,KAAV,gBAEZ,EAAKiF,KAAO,EAAKA,KAAKjF,KAAV,gBACZ,EAAKkF,MAAQ,EAAKA,MAAMlF,KAAX,gBAEb,EAAKmF,sBAAwB,EAAKA,sBAAsBnF,KAA3B,gBArBI,E,gEAyB7BlL,KAAKmL,aAAaK,SACpBxL,KAAKmL,aAAaK,QAAQ8E,iBACxB,UACAtQ,KAAKqQ,yB,6CAMLrQ,KAAKmL,aAAaK,SACpBxL,KAAKmL,aAAaK,QAAQ+E,oBACxB,UACAvQ,KAAKqQ,yB,4CAKWlN,GACH,UAAbA,EAAIqN,MAAgC,MAAZrN,EAAI2K,KAC9B9N,KAAKuD,SAAL,2BACKvD,KAAK+C,OADV,IAEE8J,QAAS7M,KAAK+C,MAAM8J,Y,8BAMxB7M,KAAKuD,SAAL,2BACKvD,KAAK+C,OADV,IAEEiN,UAAU,EACVnD,QAAQ,O,6BAKV7M,KAAKuD,SAAL,2BACKvD,KAAK+C,OADV,IAEEiN,UAAU,O,8BAKZhQ,KAAKuD,SAAL,2BACKvD,KAAK+C,OADV,IAEE8J,QAAQ,O,6BAKV7M,KAAKuD,SAAL,2BACKvD,KAAK+C,OADV,IAEE8J,QAAQ,O,+BAIF,IAAD,OACCkD,EAAc/P,KAAKoC,MAAnB2N,UACFU,EAAeV,EAAUA,EAAU/J,OAAS,GAE5C0K,EAAcxJ,OAAOmH,KAAKoC,EAAaxI,MAAMxE,QACjD,SAACqK,GAAD,OAAUyB,MAAMC,WAAWiB,EAAaxI,KAAK6F,QAEzC6C,GAAiB3Q,KAAK+C,MAAMiN,UAAmC,IAAvBU,EAAY1K,OACpD4K,EAAY5Q,KAAK+C,MAAMiN,UAAuC,IAA3BhQ,KAAK+C,MAAMsL,KAAKrI,OACnD6K,EAAWF,GAAiBC,EAE5BE,EAAYf,EAAUlM,KAAI,SAACkN,GAAD,OAC9B,CACE/I,KAAM,OACNzB,MAAOwK,EAAOC,YAHc,mBAK3B9J,OAAOmH,KAAK0C,EAAO9I,MACnBxE,QAAO,SAACqK,GAAD,OAAS,EAAK/K,MAAMsL,KAAK4C,SAASnD,MACzCjK,KAAI,SAACiK,GACJ,MAAO,CACL9F,KAAM8F,EACNvH,MAAOiJ,WAAWuB,EAAO9I,KAAK6F,aAKtC,OACE,eAAC9L,EAAD,CACEP,UAAU,8BACVY,WAAYrC,KAAKoC,MAAMC,WACvB2J,IAAKhM,KAAKmL,aACV+F,SAAU,EAJZ,UAME,sBAAKzP,UAAU,OAAf,UACE,cAACa,EAAD,CAAiBE,YAAaxC,KAAKoC,MAAMI,YAAzC,mBAGA,eAACE,EAAD,WACG1C,KAAK+C,MAAMiN,UAAuC,IAA3BhQ,KAAK+C,MAAMsL,KAAKrI,QACtC,cAACpD,EAAD,CAAoBnB,UAAU,mBAA9B,SACGzB,KAAK+C,MAAM8J,OACV,cAAC,GAAD,CAAUpL,UAAU,UAAU0P,QAASnR,KAAKmQ,OAE5C,cAAC,GAAD,CAAW1O,UAAU,UAAU0P,QAASnR,KAAKoQ,UAKnD,cAACxN,EAAD,UACG5C,KAAK+C,MAAMiN,SACV,cAAC,GAAD,CAAWvO,UAAU,qBAAqB0P,QAASnR,KAAKkQ,OAExD,cAAC,GAAD,CAAWzO,UAAU,UAAU0P,QAASnR,KAAKiQ,gBAKrD,cAACxN,EAAD,CAAchB,UAAWoP,EAAW,cAAgB,GAApD,SACI7Q,KAAK+C,MAAMiN,SAyDTY,EACF,mBAAGnP,UAAU,kCAAb,4CAIA,cAAC,EAAD,CACEwG,KAAM6I,EACNhK,QAAS,CACPzC,SAAUrE,KAAK+C,MAAMsB,SAAS+I,MAC1BpN,KAAK+C,MAAMsB,SAASkC,MACpBnC,EAAgBC,UAEtBwI,OAAQ7M,KAAK+C,MAAM8J,SApErB8D,EACE,mBAAGlP,UAAU,kCAAb,uEAIA,qCACE,mBAAGA,UAAU,mBAAb,2EAGA,oBAAIA,UAAU,mBAAd,iCACA,qBAAKA,UAAU,OAAf,SACE,cAAC,EAAD,CACE1B,IAAK2Q,EACLlN,SAAU,SAACR,GAAD,OACR,EAAKO,SAAS,CAAE8K,KAAMrL,KAExBA,SAAUhD,KAAK+C,MAAMsL,SAGzB,sBAAK5M,UAAU,OAAf,UACE,qBAAKA,UAAU,oCAAf,SACE,oBAAIA,UAAU,cAAd,wBAEF,qBAAKA,UAAU,OAAf,SACE,gCACE,gCACE,+BACE,6CACA,6BACE,cAAC,EAAD,CACE8E,MAAOvG,KAAK+C,MAAMsB,SAASkC,MAC3B6G,MAAOpN,KAAK+C,MAAMsB,SAAS+I,MAC3BC,SAAUoC,GACVjM,SAAU,gBACR+C,EADQ,EACRA,MACA6G,EAFQ,EAERA,MAFQ,OAOR,EAAK7J,SAAS,CACZc,SAAU,CACRkC,QACA6G,wC,GAzLZjJ,cC5CT,OAA0B,kCCMnCiN,GAAa,IAAIC,MACjBC,GAAiB,GACnBC,IAAc,EAClBH,GAAWI,OAAS,WAClBD,IAAc,EACdD,GAAe3E,SAAQ,SAAC8E,GAAD,OAAWA,EAAM3E,aAE1CsE,GAAWM,IAAMC,GAGjB,IAAMvN,GAAkB,CACtBI,QAAS,GACToN,MAAO,IACPC,UAAW,IACXC,cAAe,IACfnN,cAAe,EACfC,cAAe,sBAGImN,G,WACnB,WAAYlL,EAAQC,GAAU,oBAC5B9G,KAAK6G,OAASA,EACd7G,KAAK+G,IAAMF,EAAOG,WAAW,MAE7BhH,KAAK8G,QAAUG,oBAAU7C,IACzB8C,OAAOC,OAAOnH,KAAK8G,QAASA,GAAW,IAEvC9G,KAAKgS,QAAU,CACbC,IAAK,I,uDAIED,GACThS,KAAKgS,QAAUA,I,+BAKfhS,KAAK6G,OAAO0B,MAAQvI,KAAK6G,OAAO0B,MAGhCvI,KAAK+G,IAAIT,MAAMkC,iBAAkBA,kBAEjC,IAAMD,EAAQvI,KAAK6G,OAAO0B,MAAQC,iBAC5BI,EAAS5I,KAAK6G,OAAO+B,OAASJ,iBAE9BqJ,GADatJ,EAAQK,EAASL,EAAQK,GACb,EAAI5I,KAAK8G,QAAQtC,QAE3C+M,KAAiD,IAAlCD,GAAe1N,QAAQ5D,OACzCsR,GAAezJ,KAAK7H,MAGtBA,KAAKkS,aACF3J,EAAQsJ,GAAa,GACrBjJ,EAASiJ,GAAa,EACvBA,EACAA,K,kCAIQxS,EAAG4B,EAAGsH,EAAOK,GACvB5I,KAAK+G,IAAImC,OACTlJ,KAAK+G,IAAIoL,YAAcnS,KAAK8G,QAAQ8K,MACpC5R,KAAK+G,IAAIqL,UAAUhB,GAAY/R,EAAG4B,EAAGsH,EAAOK,GAC5C5I,KAAK+G,IAAI4C,UAET3J,KAAKsK,gBAAgBjL,EAAG4B,EAAGsH,EAAOK,EAAQ,EAAG,GAC7C5I,KAAKqS,cAAchT,EAAG4B,EAAGsH,EAAOK,K,sCAGlBvJ,EAAG4B,EAAGsH,EAAOK,EAAQ8B,EAAWC,GAC9C3K,KAAK+G,IAAImC,OAETlJ,KAAK+G,IAAIwC,YAAcvJ,KAAK8G,QAAQlC,cACpC5E,KAAK+G,IAAIxC,UAAYvE,KAAK8G,QAAQnC,cAAgB6D,iBAKlD,IAHA,IAAMoC,EAAarC,GAASmC,EAAY,GAClCD,EAAc7B,GAAU+B,EAAY,GAEjC5C,EAAI,EAAGA,EAAI2C,EAAW3C,IAAK,CAClC,IAAMsB,EAAQhK,EAAIuL,EAAa7C,EAC/B/H,KAAK+G,IAAIyC,YACTxJ,KAAK+G,IAAI/F,WAAWqI,EAAOpI,GAC3BjB,KAAK+G,IAAI5F,WAAWkI,EAAOpI,EAAI2H,GAC/B5I,KAAK+G,IAAI0C,SAGX,IAAK,IAAI1B,EAAI,EAAGA,EAAI4C,EAAW5C,IAAK,CAClC,IAAMqB,EAAQnI,EAAIwJ,EAAc1C,EAChC/H,KAAK+G,IAAIyC,YACTxJ,KAAK+G,IAAI/F,WAAW3B,EAAG+J,GACvBpJ,KAAK+G,IAAI5F,WAAW9B,EAAIkJ,EAAOa,GAC/BpJ,KAAK+G,IAAI0C,SAGXzJ,KAAK+G,IAAI4C,Y,oCAGGtK,EAAG4B,EAAGsH,EAAOK,GAAS,IAAD,OAC3BN,EAAItI,KAAK8G,QAEf9G,KAAK+G,IAAImC,OACTlJ,KAAK+G,IAAI8D,UAAUxL,EAAIkJ,EAAQ,EAAGtH,EAAI2H,EAAS,GAC/C5I,KAAK+G,IAAIT,MAAMiC,EAAQD,EAAEuJ,WAAYjJ,EAASN,EAAEuJ,WAChD7R,KAAK+G,IAAIuL,OAAO9S,KAAK+S,GAAK,GAE1BvS,KAAK+G,IAAIyL,QAAU,OAEnBxS,KAAKgS,QAAQC,IAAItF,SAAQ,SAAC8F,GACxB,OAAQA,EAAG1O,MACT,IAAK,OACH,EAAKgD,IAAI8B,UAAY4J,EAAG3K,MACxB,MACF,IAAK,SACH,EAAKf,IAAIwC,YAAckJ,EAAG3K,MAC1B,MACF,IAAK,cACH,EAAKf,IAAIxC,UAAYkO,EAAGlK,MACxB,MACF,IAAK,SACH,EAAKxB,IAAIyC,YACT,EAAKzC,IAAI2L,IAAID,EAAGpT,EAAGoT,EAAGxR,EAAGwR,EAAGE,OAAQ,EAAG,EAAInT,KAAK+S,IAE5CE,EAAGhJ,OACL,EAAK1C,IAAI0C,SAET,EAAK1C,IAAI2H,OAEX,MACF,IAAK,UACH,EAAK3H,IAAIyC,YADK,IAENoJ,EAA6BH,EAA7BG,QAASC,EAAoBJ,EAApBI,QAASpJ,EAAWgJ,EAAXhJ,OAC1B,EAAK1C,IAAI/F,WAAW4R,EAAQ,GAAIC,EAAQ,IACxC,IAAK,IAAI9K,EAAI,EAAGA,EAAI6K,EAAQ5M,OAAQ+B,IAClC,EAAKhB,IAAI5F,WAAWyR,EAAQ7K,GAAI8K,EAAQ9K,IAE1C,EAAKhB,IAAI+L,YAELrJ,EACF,EAAK1C,IAAI0C,SAET,EAAK1C,IAAI2H,OAEX,MAEF,IAAK,WACH,EAAK3H,IAAIyC,YADM,IAEPoJ,EAAqBH,EAArBG,QAASC,EAAYJ,EAAZI,QACjB,EAAK9L,IAAI/F,WAAW4R,EAAQ,GAAIC,EAAQ,IACxC,IAAK,IAAI9K,EAAI,EAAGA,EAAI6K,EAAQ5M,OAAQ+B,IAClC,EAAKhB,IAAI5F,WAAWyR,EAAQ7K,GAAI8K,EAAQ9K,IAE1C,EAAKhB,IAAI0C,SACT,MAEF,IAAK,SACH,EAAK1C,IAAIyC,YADI,IAELuJ,EAAmDN,EAAnDM,GAAIC,EAA+CP,EAA/CO,GAAIC,EAA2CR,EAA3CQ,GAAIC,EAAuCT,EAAvCS,GAAIC,EAAmCV,EAAnCU,GAAIC,EAA+BX,EAA/BW,GAAIC,EAA2BZ,EAA3BY,GAAIC,EAAuBb,EAAvBa,GAAIC,EAAmBd,EAAnBc,GAAIC,EAAef,EAAfe,GAAIC,EAAWhB,EAAXgB,GAAIC,EAAOjB,EAAPiB,GACpD,EAAK3M,IAAI/F,WAAWoS,EAAIM,GACxB,IAAK,IAAI3L,EAAI,EAAGA,GAAKO,EAAEwJ,cAAe/J,IAAK,CACzC,IAAM4L,EAAI5L,EAAIO,EAAEwJ,cACV8B,GACHb,EAAKY,EAAIX,IAAOW,EAAIA,EAAIA,EAAIA,GAC7BV,GAAMU,EAAIA,EAAIA,GACdT,GAAMS,EAAIA,GACVR,EAAKQ,EACLP,EACIS,GACHR,EAAKM,EAAIL,IAAOK,EAAIA,EAAIA,EAAIA,GAC7BJ,GAAMI,EAAIA,EAAIA,GACdH,GAAMG,EAAIA,GACVF,EAAKE,EACLD,EAEF,EAAK3M,IAAI3F,OAAOwS,EAAIC,GAEtB,EAAK9M,IAAI0C,SACT,MAEF,QACE,MAAM,IAAItJ,MAAJ,6BAAgCsS,EAAG1O,WAI/C/D,KAAK+G,IAAI4C,c,KCtLPmK,G,kDACJ,WAAY1R,GAAQ,IAAD,8BACjB,cAAMA,IAEDkK,UAAYpI,IAAMkH,YAEvB,EAAK8G,YAAc,EAAKA,YAAYhH,KAAjB,gBALF,E,gEASjBlL,KAAKyR,MAAQ,IAAIM,GAAM/R,KAAKsM,UAAUd,SACtCxL,KAAKkS,gB,2CAILlS,KAAKyR,MAAMsC,WAAW/T,KAAKoC,MAAM4P,SACjChS,KAAKkS,gB,oCAIDlS,KAAKyR,OACPzR,KAAKyR,MAAM3E,W,+BAKb,OACE,eAAC9K,EAAD,CAAUK,WAAYrC,KAAKoC,MAAMC,WAAjC,UACE,cAACC,EAAD,CAAiBE,YAAaxC,KAAKoC,MAAMI,YAAzC,mBAGA,cAAC,EAAD,CACEwJ,IAAKhM,KAAKsM,UACVR,SAAU9L,KAAKkS,YACfnG,gBAAgB,4B,GAlCF7H,IAAMC,WAsDf2L,gBAJS,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAH,MAAoB,CAC1CiC,QAASjC,EAAUA,EAAU/J,OAAS,GAAGgO,gBAG5BlE,CAAyBgE,IC/BzBG,GA5BM,SAAC,GAAD,IAAG1N,EAAH,EAAGA,MAAO/C,EAAV,EAAUA,SAAU+J,EAApB,EAAoBA,OAApB,OACnB,uBAAM9L,UAAU,oBAAhB,UACE,uBACEA,UAAU,eACVsC,KAAK,WACLT,QAASiD,EACT/C,SAAU,SAACL,GAAD,OACRK,EAAS,CACP+C,MAAOpD,EAAIE,OAAOC,QAClB8J,OAAO,OAIb,wBACE3L,UAAU,kDACV0P,QAAS5D,EAFX,sBCqBW2G,GAlCG,SAAC,GAAD,IAAG3N,EAAH,EAAGA,MAAO4N,EAAV,EAAUA,WAAY3Q,EAAtB,EAAsBA,SAAU+J,EAAhC,EAAgCA,OAAhC,OAChB,iCACE,wBACE9L,UAAU,0BACV8E,MAAOA,EACP/C,SAAU,SAACL,GAAD,OACRK,EAAS,CACP+C,MAAOpD,EAAIE,OAAOkD,MAClB6G,OAAO,KANb,SAUG+G,EAAWtQ,KAAI,SAACuQ,GAAD,OACd,wBAAwB7N,MAAO6N,EAA/B,SACGA,GADUA,QAKjB,wBACE3S,UAAU,kDACV0P,QAAS5D,EAFX,sBCNW8G,GAfM,CACnBC,QAAS,UACTC,IAAK,MACLC,OAAQ,SACRC,OAAQ,SACRC,KAAM,OACNC,OAAQ,UCyIKC,G,uKAjIH,IAgCJC,EAhCG,EAWH7U,KAAKoC,MATP2B,EAFK,EAELA,KACAiE,EAHK,EAGLA,KACAzB,EAJK,EAILA,MACAuO,EALK,EAKLA,UACAX,EANK,EAMLA,WACAY,EAPK,EAOLA,SACA3H,EARK,EAQLA,MACA5J,EATK,EASLA,SACA+J,EAVK,EAULA,OAGIyH,EAAiB,SAAC,GAAsB,IAApB5H,EAAmB,EAAnBA,MAAO7G,EAAY,EAAZA,MAC/B/C,EAAS,CACPyR,OAAQlR,EACRmR,QAAS3O,EACT4O,QAAS/H,KAIPgI,EAAe,WACfhI,GAAS2H,GACXxH,EAAO,CACL0H,OAAQlR,EACRmR,QAAS3O,EACT4O,SAAS,EACTE,YAAaP,KAOnB,OAAQ/Q,GACN,KAAKsQ,GAAaE,IAChBM,EACE,cAAC,EAAD,CACEtO,MAAOA,EACP6G,MAAOA,EACPC,SAAUoC,GACVjM,SAAUwR,EACVzH,OAAQ6H,IAGZ,MACF,KAAKf,GAAaG,OAChBK,EACE,cAAC,EAAD,CACEtO,MAAOA,EACP6G,MAAOA,EACPC,SAAUiC,GACV9L,SAAUwR,EACVzH,OAAQ6H,IAGZ,MACF,KAAKf,GAAaI,OAChBI,EACE,cAAC,EAAD,CACEtO,MAAOA,EACP6G,MAAOA,EACPC,SAAUuC,GACVpM,SAAUwR,EACVzH,OAAQ6H,IAGZ,MACF,KAAKf,GAAaC,QAChBO,EACE,cAAC,GAAD,CACEtO,MAAOA,EACP/C,SAAUwR,EACVzH,OAAQ6H,IAGZ,MACF,KAAKf,GAAaK,KAChBG,EACE,cAAC,GAAD,CACEtO,MAAOA,EACP4N,WAAYA,EACZ3Q,SAAUwR,EACVzH,OAAQ6H,IAGZ,MACF,QACEP,EAAQ,sDAAyB9Q,KAGrC,OACE,+BACE,+BACE,sBACErC,MACEqT,EACI,CACEO,WAAY,OACZC,QAAS,GAEX,CACED,WAAY,OACZC,QAAS,GATnB,eAeCvN,KAEH,6BAAK6M,W,GAhHe3Q,IAAMC,WCblC,SAAS,KAA2Q,OAA9P,GAAW+C,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,iDAGD,GAAqB,gBAAoB,OAAQ,CACnDA,EAAG,gBACH8N,KAAM,SAGR,SAAS8G,GAAc5G,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiB0G,ICmFhCC,IDlFA,I,kDC3Bb,WAAYrT,GAAQ,IAAD,8BACjB,cAAMA,IAEDW,MAAQ,CACX2S,UAAU,GAGZ,EAAKC,iBAAmB,EAAKA,iBAAiBzK,KAAtB,gBAPP,E,+DAWjBlL,KAAKuD,SAAS,CACZmS,UAAW1V,KAAK+C,MAAM2S,a,+BAIhB,IAAD,SACiB1V,KAAKoC,MAArB4F,EADD,EACCA,KAAMzB,EADP,EACOA,MAERqP,EAAa1O,OAAOmH,KAAK9H,GAE/BqP,EAAWC,OAEX,IAAM/O,EAAU8O,EAAW/R,KAAI,SAACiK,GAC9B,IAAMgI,EAAQvP,EAAMuH,GAEdtK,EAAW,SAACuS,GAChB,EAAK3T,MAAMoB,SAAS,CAClByR,OAAQZ,GAAaM,OACrBO,QAAQ,eACLpH,EAAMiI,MAKPxI,EAAS,SAACwI,GACd,EAAK3T,MAAMmL,OAAO,CAChB0H,OAAQZ,GAAaM,OACrBO,QAAQ,eACLpH,EAAMiI,MAKb,OAAID,EAAMb,SAAWZ,GAAaM,OAE9B,cAACc,EAAD,CAEEzN,KAAM8F,EACNvH,MAAOuP,EAAMZ,QACb1R,SAAUA,EACV+J,OAAQA,GAJHO,GAUT,cAAC,GAAD,CAEE/J,KAAM+R,EAAMb,OACZjN,KAAM8F,EACNvH,MAAOuP,EAAME,WACb5I,MAAO0I,EAAMX,QACbL,UAAWgB,EAAMT,YACjBlB,WAAY2B,EAAMG,aAClBlB,SAAUe,EAAMI,WAChB1S,SAAUA,EACV+J,OAAQA,GATHO,MAcX,OACE,6BACE,+BACE,sBACErM,UAAU,oCACV0P,QAASnR,KAAK2V,iBAFhB,UAIE,qBACElU,UAAS,2KAEKzB,KAAK+C,MAAM2S,SAAX,GAA2B,cAH3C,SAME,cAAC,GAAD,CAAkBjU,UAAU,cAE9B,qBAAKA,UAAU,oCAAf,SACE,oBAAIA,UAAU,sBAAd,SAAqCuG,SAGxChI,KAAK+C,MAAM2S,UACV,gCACE,gCAAQ5O,e,GA9FO5C,IAAMC,YCRnC,SAAS,KAA2Q,OAA9P,GAAW+C,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,mJAGL,SAASuV,GAAQvH,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBqH,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAWjP,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,+MAGD,GAAqB,gBAAoB,OAAQ,CACnDA,EAAG,gBACH8N,KAAM,SAGR,SAAS0H,GAAWxH,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBsH,ICnClCC,IDoCE,ICpCc,iBCOhBC,GAAiB,iBACjBC,GAAa,aACbC,GAAgB,gBAChBC,GAAc,cACdC,GAAiB,iBCXjBC,GAAoB,oBACpBC,GAAuB,uBACvBC,GAAwB,wBCFxBC,GAAe,eACfC,GAAgB,gBAChBC,GAAe,eCEfC,GAAqB,qBACrBC,GAAwB,wBACxBC,GAAoB,oBCNpBC,GAAU,UACVC,GAAa,aACbC,GAAoB,oBACpBC,GAA4B,4BCA5BC,GAAmB,mBACnBC,GAAuB,uBACvBC,GAAuB,uBCLvBC,GAAoB,oBCwC3BC,GAAwB,SAAxBA,EAAyBC,GAC7B,GAAIA,EAAW5C,SAAWZ,GAAaM,OAAQ,CAM7C,IALA,IAAMmD,EAA+B,CACnC7C,OAAQZ,GAAaM,OACrBO,QAAS,IAGX,MAAkBhO,OAAOmH,KAAKwJ,EAAW3C,SAAzC,eAAmD,CAA9C,IAAMpH,EAAG,KACNiK,EAAYH,EAAsBC,EAAW3C,QAAQpH,IAEvDiK,IACFD,EAAe5C,QAAQpH,GAAOiK,GAGlC,IAAKC,kBAAQF,EAAe5C,SAC1B,OAAO4C,OAEJ,GAAID,EAAW3B,YAAc2B,EAAW1C,QAC7C,MAAO,CACLF,OAAQ4C,EAAW5C,OACnBC,QAAS2C,EAAW7B,WACpBb,SAAS,EACTE,YAAawC,EAAWxC,cAKjB4C,GAAkB,SAACJ,GAAD,uBAC7BD,GAAsBC,UADO,QACQ,CACnC5C,OAAQZ,GAAaM,OACrBO,QAAS,KCsBEgD,GAjEI,SAAC,GAGI,IAAD,IAFrB1V,mBAEqB,aADrBH,kBACqB,SACf8V,EAAWC,cACXC,EAAaC,aAAY,SAACvV,GAAD,OAAsBA,EAAMwV,OAAOF,cAG5D9K,EAAS,SAACiL,GAAD,OAAwBL,EDJf,SAACK,GAAD,MAA2C,CACnEzU,KAAM0S,GACN+B,cCEgDC,CAAWD,KACrDhV,EAAW,SAACgV,GAAD,OAAwBL,EDVf,SAACK,GAAD,MAA6C,CACvEzU,KAAMyS,GACNgC,cCQkDE,CAAaF,KAEzD5C,EAAa1O,OAAOmH,KAAKgK,EAAWnD,SAAW,IAIrD,OAFAU,EAAWC,OAGT,eAAC7T,EAAD,CAAUK,WAAYA,EAAtB,UACE,sBAAKZ,UAAU,OAAf,UACE,cAACa,EAAD,CAAiBE,YAAaA,EAA9B,2BAGA,eAACE,EAAD,WACE,cAACE,EAAD,CACEuO,QAAS,kBAAM5D,EAAO0K,GAAgBI,KADxC,SAGE,cAAC,GAAD,CAAU5W,UAAU,cAEtB,cAACmB,EAAD,CAAoBuO,QApBV,kBAAMgH,EDE+B,CACvDpU,KAAM2S,MCiBE,SACE,cAAC,GAAD,CAAajV,UAAU,oBAI7B,cAACgB,EAAD,UACE,uBAAOhB,UAAU,eAAjB,SACE,gCACGmU,EAAW/R,KAAI,SAACiK,GAAD,OACd,cAAC,GAAD,CAEE9F,KAAM8F,EACNvH,MAAQ8R,EAA4BnD,QAAQpH,GAAKoH,SAAW,GAC5D1R,SAAU,SAACuS,GACTvS,EAAS,CACPyR,OAAQZ,GAAaM,OACrBO,QAAQ,eACLpH,EAAMiI,MAIbxI,OAAQ,SAACwI,GACPxI,EAAO,CACL0H,OAAQZ,GAAaM,OACrBO,QAAQ,eACLpH,EAAMiI,OAfRjI,gBCpBN6K,GAhCO,SAAC,GAGI,IAAD,IAFxBnW,mBAEwB,aADxBH,kBACwB,SAClB0N,EAAYuI,aAAY,SAACvV,GAAD,OAAsBA,EAAMgN,aAEpDU,EAAeV,EAAUA,EAAU/J,OAAS,GAC5C4S,EAAiB1R,OAAOmH,KAAKoC,EAAaxI,MAAMpE,KAAI,SAACiK,GAAD,OACxD,iCACGA,EADH,KACU2C,EAAaxI,KAAK6F,GAC1B,yBAFSA,MAMP+K,EAAepI,EAAaqI,IAAIjV,KAAI,SAACkV,EAAMhR,GAAP,OACxC,iCACGgR,EACD,yBAFShR,MAMb,OACE,eAAC/F,EAAD,CAAUK,WAAYA,EAAtB,UACE,cAACC,EAAD,CAAiBE,YAAaA,EAA9B,uBACA,eAACC,EAAD,WACE,4BAAImW,IACJ,4BAAIC,WCzBNG,G,kDACJ,WAAY5W,GAAQ,IAAD,8BACjB,cAAMA,IAEDkK,UAAYpI,IAAMkH,YAEvB,EAAK6N,YAAc,EAAKA,YAAY/N,KAAjB,gBAEnB,EAAKgO,MAAQ,IAAI7H,MACjB,EAAK6H,MAAM1H,OAAS,EAAKyH,YAEzB,EAAKlW,MAAQ,CACXoW,SAAU,GAXK,E,gEAgBjBnZ,KAAK+G,IAAM/G,KAAKsM,UAAUd,QAAQxE,WAAW,Q,2CAI7ChH,KAAKkZ,MAAMxH,IAAX,iCAA2C1R,KAAKoC,MAAMgX,Y,oCAItD,GAAIpZ,KAAK+G,KAAO/G,KAAKoC,MAAMgX,SAASpT,OAAS,EAAG,CAC9C,IAAMa,EAAS7G,KAAKsM,UAAUd,QAG9B3E,EAAO0B,MAAQ1B,EAAO0B,MAEtB,IAAM8Q,EAAgBxS,EAAO0B,MACvB+Q,EAAiBzS,EAAO+B,OAGxBtC,EAAQ9G,KAAKgG,IACjBgD,kBACCxI,KAAK+C,MAAMoW,SAAW,IAAM,EAAIG,EAAiBD,GAChDrZ,KAAKkZ,MAAMtQ,QACZ5I,KAAK+C,MAAMoW,SAAW,IAAM,EAAIE,EAAgBC,GAC/CtZ,KAAKkZ,MAAM3Q,OAEfvI,KAAK+G,IAAI8D,UAAUwO,EAAgB,EAAGC,EAAiB,GACvDtZ,KAAK+G,IAAIuL,OAAQtS,KAAK+C,MAAMoW,SAAW3Z,KAAK+S,GAAM,GAClDvS,KAAK+G,IAAIT,MAAMA,EAAOA,GACtBtG,KAAK+G,IAAIqL,UACPpS,KAAKkZ,OACJlZ,KAAKkZ,MAAM3Q,MAAQ,GACnBvI,KAAKkZ,MAAMtQ,OAAS,EACrB5I,KAAKkZ,MAAM3Q,MACXvI,KAAKkZ,MAAMtQ,W,+BAKP,IAAD,OACP,OACE,eAAC5G,EAAD,CAAUK,WAAYrC,KAAKoC,MAAMC,WAAjC,UACE,sBAAKZ,UAAU,OAAf,UACE,cAACa,EAAD,CAAiBE,YAAaxC,KAAKoC,MAAMI,YAAzC,oBAGA,cAACE,EAAD,UACE,cAACE,EAAD,UACE,cAAC,GAAD,CACEnB,UAAU,UACV0P,QAAS,kBACP,EAAK5N,SAAS,CAAE4V,UAAW,EAAKpW,MAAMoW,SAAW,GAAK,cAMhE,cAAC1W,EAAD,UACE,qBAAKf,MAAO,CAAEkH,OAAQ,OAAQ2Q,UAAW,SAAzC,SACE,cAAC,EAAD,CAAevN,IAAKhM,KAAKsM,UAAWR,SAAU9L,KAAKiZ,yB,GA3EtC/U,IAAMC,WA8FhB2L,gBAJS,SAAC,GAAD,MAAiB,CACvCsJ,SADsB,EAAGI,OACRJ,YAGJtJ,CAAyBkJ,ICrGzBS,GANa,CAC1BC,KAAM,OACNC,QAAS,UACTC,QAAS,WCHX,SAAS,KAA2Q,OAA9P,GAAW1S,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,4sBAGL,SAASiZ,GAAWjL,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB+K,IAChC,I,uECRf,IAAM7C,GAAe,eAOf8C,GAAqB,CACzBC,WAAY,SAACC,GAAD,OCtBY,SAACA,GAAD,MAA2C,CACnEjW,KAAM+S,GACNkD,cDoBoCD,CAAWC,IAC/CC,YAAa,iBClBsC,CACnDlW,KAAMgT,KDkBNmD,WAAY,iBCfqC,CACjDnW,KAAMiT,MDiBFnH,GAAYC,aAXM,SAAC,GAAD,IAAGqK,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAAX,mBAAC,eACpBD,GACAC,KASsCN,IAMrCO,GAAepY,IAAOY,OAAOV,OAA6B,SAACC,GAAD,MAAY,CAC1EX,UAAU,8CAAD,OAAgDW,EAAMX,cAD5CQ,CAAH,MAgLH4N,M,kDA3Kb,WAAYzN,GAAyB,IAAD,8BAClC,cAAMA,IAEDW,MAAQ,CACXuX,eAAgB,IAGlB,EAAK9W,SAAW,EAAKA,SAAS0H,KAAd,gBAPkB,E,qDA8B3B/H,GACPnD,KAAKuD,SAAS,CACZ+W,eAAgBnX,EAAIE,OAAOkD,U,yCAIX,IAAD,OACjB,OACE,cAAC8T,GAAD,CACE5Y,UAAU,8BACV0P,QAAS,kBAAM,EAAK/O,MAAM2X,WAAW,EAAKhX,MAAMuX,iBAFlD,oB,0CASiB,IAAD,OAClB,OACE,cAACD,GAAD,CACE5Y,UAAU,gCACV0P,QAAS,kBAAM,EAAK/O,MAAM6X,eAF5B,qB,yCASgB,IAAD,OACjB,OACE,cAACI,GAAD,CACE5Y,UAAU,4BACV0P,QAAS,kBAAM,EAAK/O,MAAM8X,cAF5B,oB,sCASa,IAAD,EAC2Cla,KAAKoC,MAAtDmY,EADM,EACNA,aAAcC,EADR,EACQA,mBAEtB,OAA0B,IAHZ,EAC4BC,WAE3BzU,OACN,KACEuU,IAAiBvD,GACnBhX,KAAK0a,mBACHF,IAAuBf,GAAaC,KAE3C,iCACG1Z,KAAK2a,oBACL3a,KAAK4a,sBAGDJ,IAAuBf,GAAaE,QACtC3Z,KAAK4a,mBACHJ,IAAuBf,GAAaG,QACtC,KAEA,yDAA4BY,O,+BAI7B,IAAD,EAOHxa,KAAKoC,MALPyY,EAFK,EAELA,UACAN,EAHK,EAGLA,aACAE,EAJK,EAILA,WACAK,EALK,EAKLA,eACAC,EANK,EAMLA,aANK,EAS0C/a,KAAKoC,MAA9C4Y,EATD,EASCA,kBAAmBC,EATpB,EASoBA,kBAE3B,OAAKJ,EAgBH,eAAC7Y,EAAD,CAAUK,WAAYrC,KAAKoC,MAAMC,WAAjC,UACE,sBAAKZ,UAAU,OAAf,UACE,cAACa,EAAD,CAAiBE,YAAaxC,KAAKoC,MAAMI,YAAzC,qBAGA,eAACE,EAAD,WACE,cAACC,EAAD,UACE,cAAC,GAAD,CACElB,UAAU,UACVC,MAAO,CACL6T,QAASyF,EAAoB,EAAM,QAIzC,cAACrY,EAAD,UACE,cAAC,GAAD,CACElB,UAAU,UACVC,MAAO,CACL6T,QAAS0F,EAAoB,EAAM,cAM7C,eAACxY,EAAD,WACE,wBACEhB,UAAU,gIACV8E,MAAOvG,KAAK+C,MAAMuX,eAClBY,SAAUX,IAAiBvD,IAAsC,IAAtByD,EAAWzU,OACtDxC,SAAUxD,KAAKwD,SAJjB,SAMyB,IAAtBiX,EAAWzU,OACV,gDAEAyU,EACG5E,OACAhS,KAAI,SAACsX,GAAD,OAAoB,iCAAsBA,GAATA,QAG3Cnb,KAAKob,gBACY,KAAjBL,GACC,oBAAGtZ,UAAU,kBAAb,oBAAuCsZ,KAErB,KAAnBD,GACC,oBAAGrZ,UAAU,oBAAb,sBAA2CqZ,WA1D/C,eAAC9Y,EAAD,CAAUK,WAAYrC,KAAKoC,MAAMC,WAAjC,UACE,cAACC,EAAD,CAAiBE,YAAaxC,KAAKoC,MAAMI,YAAzC,qBAGA,cAACC,EAAD,CAAchB,UAAU,cAAxB,SACE,oBAAIA,UAAU,sBAAd,2D,gDAnGRW,EACAW,GAEA,OAAIX,EAAMmY,eAAiBvD,GAClB,CACLsD,eAAgBlY,EAAMmY,cAGC,KAAzBxX,EAAMuX,iBAC8C,IAApDlY,EAAMqY,WAAW7W,QAAQb,EAAMuX,gBAExB,CACLA,eAAgBlY,EAAMqY,WAAW,IAAM,IAGlC,O,GA3BYtW,c,2eExBzB,IAAMkX,GAAiBpZ,IAAOC,IAAV,MAER,gBAAGoZ,EAAH,EAAGA,OAAQ1S,EAAX,EAAWA,OAAX,SAAmB2S,UACfD,EAAH,eAAoBA,EAApB,eAAiC1S,EAAjC,cACF,qBAAG4S,SAKRC,GAAiBxZ,IAAOY,OAAOV,OACnC,gBAAGuZ,EAAH,EAAGA,gBAAH,MAA0B,CACxBja,UAAU,gFAAD,OAAkFia,MAFxEzZ,CAAH,MAKT,qBAAGsG,SACF,qBAAGK,UAYT+S,GAAa1Z,IAAO2Z,IAAV,MAKVC,GAAY,SAACzZ,GACjB,OACE,eAACiZ,GAAD,2BAAoBjZ,GAApB,cACE,cAACqZ,GAAD,2BAAoBrZ,GAApB,IAA2B+O,QAAS/O,EAAM0Z,WAA1C,SACE,cAACH,GAAD,CAAYjK,IAAKtP,EAAM2Z,UAExB7X,IAAM8X,SAASnY,IAAIzB,EAAMZ,UAAU,SAACya,GAAD,OAClC/X,IAAMgY,aAAaD,EAAmB,CAAEE,OAAQ/Z,EAAM+Z,iBAM9DN,GAAU5P,aAAe,CACvB1D,MAAO,MACPK,OAAQ,MACR0S,OAAQ,MACRE,MAAO,OAGMK,U,6bCrDf,IAAMO,GAAkBna,IAAOY,OAAOV,OACpC,gBAAGka,EAAH,EAAGA,YAAH,MAAsB,CACpB5a,UAAU,iGAAD,OAAmG4a,MAFxFpa,CAAH,MAQN,YAAoC,IAAjCqa,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,WAAYJ,EAAa,EAAbA,OAC3BK,EAAa,eACjBL,EAAS3c,KAAKid,IAAIH,GAAS,EADV,cAEbC,EAFa,WAGbG,EAAa,eACjBP,EAAS3c,KAAKmd,IAAIL,GAAS,EADV,cAEbC,EAFa,WAInB,MAAM,aAAN,OAAoBC,EAApB,aAAsCE,EAAtC,QAMEE,GAAO3a,IAAOC,IAAV,MAGK,gBAAG2a,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,gBAAiBX,EAArC,EAAqCA,OAArC,0BACEU,EADF,aACsBC,EADtB,oBAETX,EAAS,EAAI,GAFJ,WAMTY,GAAU9a,IAAO+a,KAAK7a,OAA8B,gBAAGoZ,EAAH,EAAGA,UAAH,MAAoB,CAC5E9Z,UAAU,6HAAD,OACP8Z,EAAY,8BAAgC,+BAFhCtZ,CAAH,MAMPgb,GAAiB,SAAC7a,GAA8C,IAAD,ECxDtD,SAA2B8a,GAAgB,IAAD,EACPC,oBAAS,GADF,mBAChDC,EADgD,KAC9BC,EAD8B,KAEjDC,EAAiBC,kBAAO,GAExBC,EAAeD,iBAA6C,MAE5DvR,EAAMuR,iBAA2B,MACjCE,EAASC,uBACb,SAACC,GACC,IAkB0B,QAlBpBC,EAAe,WACnBN,EAAe9R,SAAU,EAEI,OAAzBgS,EAAahS,SAAkBqS,cAAcL,EAAahS,SAE9DgS,EAAahS,QAAUsS,YAAW,WAC5BR,EAAe9R,QACjB6R,GAAoB,GAEpBA,GAAoB,KAEb,IAARH,IAECa,EAAe,WACnBT,EAAe9R,SAAU,EACzB6R,GAAoB,IAGF,OAAhBrR,EAAIR,UACN,UAAAQ,EAAIR,eAAJ,SAAa+E,oBAAoB,aAAcqN,GAC/C,UAAA5R,EAAIR,eAAJ,SAAa+E,oBAAoB,UAAWqN,GAC5C,UAAA5R,EAAIR,eAAJ,SAAa+E,oBAAoB,aAAcwN,GAC/C,UAAA/R,EAAIR,eAAJ,SAAa+E,oBAAoB,WAAYwN,IAG3CJ,IACFA,EAAKrN,iBAAiB,aAAcsN,GACpCD,EAAKrN,iBAAiB,UAAWsN,GACjCD,EAAKrN,iBAAiB,aAAcyN,GACpCJ,EAAKrN,iBAAiB,WAAYyN,IAGpC/R,EAAIR,QAAUmS,IAEhB,CAACT,IASH,OANAc,qBAAU,WACR,OAAO,WACwB,OAAzBR,EAAahS,SAAkByS,aAAaT,EAAahS,YAE9D,IAEI,CAAE4R,mBAAkBpR,IAAKyR,GDKES,CAAkB,IAA5Cd,EAD2D,EAC3DA,iBAAkBpR,EADyC,EACzCA,IAE1B,OACE,eAACoQ,GAAD,2BAAqBha,GAArB,IAA4B+O,QAAS/O,EAAM0Z,WAAY9P,IAAKA,EAA5D,UACE,cAAC4Q,GAAD,2BAAUxa,GAAV,aAAkBA,EAAMZ,YACD,KAAtBY,EAAM+b,aACL,cAACpB,GAAD,CAASxB,UAAW6B,EAApB,SAAuChb,EAAM+b,mBAMrDlB,GAAehR,aAAe,CAC5B4Q,gBAAiB,IACjBC,gBAAiB,IAEjBP,WAAY,IAEZ4B,YAAa,GAEbhC,QAAQ,GAGKc,UElFf,SAAS,KAA2Q,OAA9P,GAAW/V,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,SAAU,CACrDuE,GAAI,GACJM,GAAI,GACJ6K,EAAG,MAGD,GAAqB,gBAAoB,OAAQ,CACnDxd,EAAG,8JAGL,SAASyd,GAAUzP,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,GAAO,IAGlC,IAAI,GAA0B,aAAiBuP,IAChC,IC1Cf,SAAS,KAA2Q,OAA9P,GAAWnX,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC/FzC,EAAG,kBACH8N,KAAM,SACS,gBAAoB,OAAQ,CAC3C9N,EAAG,g2BAGL,SAAS0d,GAAY1P,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPsP,iBAAkB,gBAClBvP,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBwP,IAChC,ICnCf,SAAS,KAA2Q,OAA9P,GAAWpX,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC/FqL,KAAM,OACN9F,OAAQ,GACRL,MAAO,KACQ,gBAAoB,OAAQ,CAC3C3H,EAAG,oQAGL,SAAS4d,GAAO5P,EAAMC,GACpB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPsP,iBAAkB,gBAClBvP,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB0P,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAWtX,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,kEAGL,SAAS6d,GAAW7P,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiB2P,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAWvX,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,mGAGL,SAAS8d,GAAW9P,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiB4P,IAChC,I,+NCff,IClBKC,GDkBCC,GAAY3c,IAAOC,IAAIC,MAAM,CACjCV,UAAW,wDADKQ,CAAH,MAIH,qBAAGqZ,UACJ,qBAAGE,SAGRqD,GAAa5c,IAAOY,OAAOV,OAG9B,gBAAGga,EAAH,EAAGA,OAAQ2C,EAAX,EAAWA,aAAX,MAA+B,CAChCrd,UAAU,uQAAD,OAEL0a,EACI,4CACA,yCAJC,YAKH2C,MATW7c,CAAH,MAeM,gBAAG8c,EAAH,EAAGA,MAAH,gBAAkB,EAAIvf,KAAK8F,IAAIyZ,EAAO,KAAtC,SAGhBC,GAAc,CAClB,CACElQ,MAAO,cACPmQ,KAAM5d,EAAiB6d,YACvBnD,KAAM,cAAC,GAAD,CAAYta,UAAU,YAC5Bqd,aAAc,qBACdK,OAAQ,cAEV,CACErQ,MAAO,aACPmQ,KAAM5d,EAAiB+d,WACvBrD,KAAM,cAAC,GAAD,CAASta,UAAU,gCACzBqd,aAAc,sBACdK,OAAQ,eAEV,CACErQ,MAAO,aACPmQ,KAAM5d,EAAiBge,WACvBtD,KAAM,cAAC,GAAD,CAAWta,UAAU,uBAC3Bqd,aAAc,uBACdK,OAAQ,gBAEV,CACErQ,MAAO,cACPmQ,KAAM5d,EAAiBie,YACvBvD,KAAM,cAAC,GAAD,CAActa,UAAU,YAC9Bqd,aAAc,wBACdK,OAAQ,iBAEV,CACErQ,MAAO,iBACPmQ,KAAM5d,EAAiBke,eACvBxD,KAAM,cAAC,GAAD,CAAata,UAAU,YAC7Bqd,aAAc,wBACdK,OAAQ,iBAEV,CACErQ,MAAO,cACPmQ,KAAM5d,EAAiBme,YACvBzD,KAAM,cAAC,GAAD,CAAYta,UAAU,YAC5Bqd,aAAc,wBACdK,OAAQ,kBA4BGM,GAxBI,SAACrd,GAClB,OACE,cAACwc,GAAD,2BAAexc,GAAf,aACG4c,GAAYnb,KAAI,SAAC6b,EAAMX,GAAP,OACf,eAACF,GAAD,2BAEMzc,GAFN,IAGE2c,MAAOA,EACPD,aAAcY,EAAKZ,aACnB3N,QAAS,kBAAM/O,EAAM0Z,WAAW4D,EAAKT,OACrC/D,UAAW9Y,EAAM+Z,OANnB,UAQE,qBAAK1a,UAAS,4CAAuCie,EAAKP,QAA1D,SACGjb,IAAMgY,aAAawD,EAAK3D,QAE3B,qBAAKta,UAAU,4BAAf,SACE,oBAAIA,UAAU,qCAAd,SAAoDie,EAAK5Q,aAXtD4Q,EAAK5Q,cEjGpB,SAAS,KAA2Q,OAA9P,GAAW5H,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,G,SDC9dsb,O,2BAAAA,I,mBAAAA,I,eAAAA,I,gBAAAA,Q,KCKL,IAAI,GAAqB,gBAAoB,OAAQ,CACnD/d,EAAG,sCACH8N,KAAM,iBAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,gBACH8N,KAAM,SAGR,SAASiR,GAAO/Q,EAAMC,GACpB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,OACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiB6Q,IAChC,ICrCf,SAAS,KAA2Q,OAA9P,GAAWzY,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,kHAGL,SAASgf,GAAehR,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiB8Q,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAW1Y,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,kBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnDA,KAAM,eACN9N,EAAG,gNAGL,SAASif,GAAWjR,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,GAAO,IAGlC,IAAI,GAA0B,aAAiB+Q,ICzChC,ID0CA,IC1CA,IAA0B,kCCAzC,SAAS,KAA2Q,OAA9P,GAAW3Y,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,uFAGL,SAASkf,GAAgBlR,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiBgR,IAChC,ICpCf,SAAS,KAA2Q,OAA9P,GAAW5Y,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,gJAGL,SAASmf,GAAuBnR,EAAMC,GACpC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,6BACPD,QAAS,YACTN,KAAM,QACNnG,MAAO,OACPK,OAAQ,OACRoD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,I,GAAI,GAA0B,aAAiBiR,ICnChC,IDoCA,ICpCA,IAA0B,oC,2RC+BzC,SAASC,GAASvf,EAAaC,GAC7B,GAAID,EAAEuF,SAAWtF,EAAEsF,OACjB,MAAM,IAAI7F,MAAM,gDAElB,IAAK,IAAI4H,EAAI,EAAGA,EAAItH,EAAEuF,OAAQ+B,IAAK,CACjC,GAAItH,EAAEsH,GAAKrH,EAAEqH,GACX,OAAOtH,EACF,GAAIC,EAAEqH,GAAKtH,EAAEsH,GAClB,OAAOrH,EAGX,OAAOD,EAOT,I,GAAMwf,IAAqD,qBACxD5e,EAAiB+d,WAAa,cAAC,GAAD,KAD0B,eAExD/d,EAAiBge,WAAa,cAAC,GAAD,KAF0B,eAGxDhe,EAAiBie,YAAc,cAAC,GAAD,KAHyB,eAIxDje,EAAiBke,eAAiB,cAAC,GAAD,KAJsB,eAKxDle,EAAiBme,YAAc,cAAC,GAAD,KALyB,eAMxDne,EAAiB6d,YAAc,cAAC,GAAD,KANyB,IASrDgB,GAA2B,4BAQ3BC,GAAkBC,wBAAcC,KAEhCzB,GAAY3c,IAAOC,IAAIC,OAC3B,gBAAGme,EAAH,EAAGA,eAAH,MAAyB,CACvB7e,UAAU,GAAD,OACN6e,EAAiC,WAAhB,cADX,6BAFKre,CAAH,MAeO,SAACG,GAAD,OACjBA,EAAMke,eAEH,GAFJ,iDApBqB,GAoBrB,kCAGiB,SAACle,GAAD,gBAAcA,EAAMme,WAApB,eAAqCne,EAAMme,WAA3C,QAnBN,wBAJU,GAIV,6BAJU,GAIV,cAuCTC,GACI,IADJA,GAEE,KAGFC,GAA2B,CAC/B,CACE3c,GAAI4c,cACJzB,KAAM5d,EAAiB+d,WACvBuB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,EACHC,KA1DsB,EA2DtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBge,WACvBsB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,EACHC,KAvEsB,EAwEtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBie,YACvBqB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,EACHC,KApFsB,EAqFtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBke,eACvBoB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,EACHC,KAjGsB,EAkGtBte,aAAa,EACbue,aAAa,KAKbC,GAAkC,CACtC,CACEld,GAAI4c,cACJzB,KAAM5d,EAAiB+d,WACvBuB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,GACHC,KAjHsB,EAkHtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBge,WACvBsB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,GACHC,KA9HsB,EA+HtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBie,YACvBqB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,GACHC,KA3IsB,EA4ItBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBke,eACvBoB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,GACH2f,EAAG,EACHC,EAAG,EACHC,KAxJsB,EAyJtBte,aAAa,EACbue,aAAa,KAKbE,GAAgC,CACpC,CACEnd,GAAI4c,cACJzB,KAAM5d,EAAiB+d,WACvBuB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,GACHC,KAxKsB,EAyKtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBge,WACvBsB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,GACHC,KArLsB,EAsLtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBie,YACvBqB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,EACH2f,EAAG,EACHC,EAAG,GACHC,KAlMsB,EAmMtBte,aAAa,EACbue,aAAa,IAGjB,CACEjd,GAAI4c,cACJzB,KAAM5d,EAAiBke,eACvBoB,OAAQ,CACNthB,EAAG,EACH4B,EAAG,GACH2f,EAAG,EACHC,EAAG,EACHC,KA/MsB,EAgNtBte,aAAa,EACbue,aAAa,KAKJ,SAASG,KACtB,IAAM/V,EAAeoS,iBAAuB,MACtC4D,EAAiB5D,iBAAuB,MAFH,EAICJ,oBAAS,GAJV,mBAIpCmD,EAJoC,KAIpBc,EAJoB,OAKCjE,oBAAS,GALV,mBAKpCkE,EALoC,KAKpBC,EALoB,OAMWnE,oBAAS,GANpB,mBAMpCoE,EANoC,KAMfC,EANe,OAQPrE,mBAAS,IARF,mBAQpCsE,EARoC,KAQxBC,EARwB,OR3Q9B,SACbC,GA2BA,IAlBA,EAkEwDC,sBAhD5B,SAC1B7e,EACA8e,GAEA,OAAQA,EAAO9d,MACb,KAAK4a,GAAoBmD,WACvB,MAAO,CACLC,QAAS,CAACF,EAAOG,SACjBC,uBAAwB,GAG5B,KAAKtD,GAAoBuD,OACvB,OAA6B,IAAzBnf,EAAMgf,QAAQ/b,QAEdmc,kBAAQpf,EAAMgf,QAAQhf,EAAMkf,wBAAyBJ,EAAOG,SAErDjf,EAIJ,CACLgf,QAAQ,GAAD,mBACFhf,EAAMgf,QAAQK,MAAM,EAAGrf,EAAMkf,uBAAyB,IADpD,CAELJ,EAAOG,UAETC,uBAAwBlf,EAAMkf,uBAAyB,GAG3D,KAAKtD,GAAoB0D,KACvB,OAAItf,EAAMkf,wBAA0B,EAAUlf,EAEvC,2BACFA,GADL,IAEEkf,uBAAwBlf,EAAMkf,uBAAyB,IAG3D,KAAKtD,GAAoB2D,KACvB,OAAIvf,EAAMkf,wBAA0Blf,EAAMgf,QAAQ/b,OAAS,EAClDjD,EAEF,2BACFA,GADL,IAEEkf,uBAAwBlf,EAAMkf,uBAAyB,OAQ7D,CACEF,QAAS,CAACJ,GACVM,uBAAwB,IAtE5B,0BAkESF,EAlET,EAkESA,QAASE,EAlElB,EAkEkBA,uBAA0B9J,EAlE5C,KA2EMoK,EAAaC,mBACjB,kBAAM,SAACR,GAAD,OACJ7J,EAAS,CAAEpU,KAAM4a,GAAoBmD,WAAYE,eACnD,CAAC7J,IAEGsK,EAASD,mBACb,kBAAM,SAACR,GAAD,OACJ7J,EAAS,CAAEpU,KAAM4a,GAAoBuD,OAAQF,eAC/C,CAAC7J,IAEGuK,EAAOF,mBACX,kBAAM,kBAAMrK,EAAS,CAAEpU,KAAM4a,GAAoB0D,UACjD,CAAClK,IAEGwK,EAAOH,mBACX,kBAAM,kBAAMrK,EAAS,CAAEpU,KAAM4a,GAAoB2D,UACjD,CAACnK,IAGH,MAAO,CAAC4J,EAAQE,GAAyB,CAAEM,aAAYE,SAAQC,OAAMC,SQqLjEC,CAA2B,IAlBY,mBAWzCC,EAXyC,YAa3BC,EAb2B,EAavCP,WACQQ,EAd+B,EAcvCN,OACMO,EAfiC,EAevCN,KACMO,EAhBiC,EAgBvCN,KAIEO,EC3RO,SAA8B9gB,GAAe,IAAD,EAC7B+a,oBAAS,GADoB,mBAClDgG,EADkD,KAC1CC,EAD0C,KAGnD5F,EAAeD,iBAA6C,MAHT,EAI/BJ,oBAAS,WAAO,IAAD,MACjCzZ,EAAK2f,SAASC,cAAc,OAUlC,OATA5f,EAAGhC,MAAM6hB,SAAW,QAChBnhB,EAAMohB,MAAK9f,EAAGhC,MAAM8hB,IAAMphB,EAAMohB,KAChCphB,EAAMkZ,SAAQ5X,EAAGhC,MAAM4Z,OAAT,UAAkBlZ,EAAMkZ,cAAxB,QAAkC,IAChDlZ,EAAMqhB,OAAM/f,EAAGhC,MAAM+hB,KAAT,UAAgBrhB,EAAMkZ,cAAtB,QAAgC,IAC5ClZ,EAAMoZ,QAAO9X,EAAGhC,MAAM8Z,MAAT,UAAiBpZ,EAAMoZ,aAAvB,QAAgC,IACjD9X,EAAGhC,MAAM6G,MAAQnG,EAAMmG,MACvB7E,EAAGhC,MAAMkH,OAASxG,EAAMwG,OACxBlF,EAAGhC,MAAMgiB,cAAgB,OAElBhgB,KAXFigB,EAJkD,oBA6CzD,OA3BA3F,qBAAU,WACR,IAAM4F,EAAoB,SAAC3H,GACzB,GACEA,EAAE4H,QAAUF,EAAgBG,YAC5B7H,EAAE8H,QAAUJ,EAAgBK,WAC5B/H,EAAE4H,QAAUF,EAAgBG,WAAaH,EAAgB/X,aACzDqQ,EAAE8H,QAAUJ,EAAgBK,UAAYL,EAAgB9X,aACxD,CAAC,IAAD,EACMoY,EAAO,UAAG7hB,EAAM6hB,eAAT,QAAoB,IAEJ,OAAzBzG,EAAahS,SAAkBqS,cAAcL,EAAahS,SAE9DgS,EAAahS,QAAUsS,YAAW,kBAAMsF,GAAU,KAAOa,GACzDb,GAAU,KAOd,OAHAC,SAASa,KAAKC,YAAYR,GAC1BN,SAASa,KAAK5T,iBAAiB,YAAasT,GAErC,WACLP,SAASa,KAAKE,YAAYT,GAC1BN,SAASa,KAAK3T,oBAAoB,YAAaqT,GAClB,OAAzBpG,EAAahS,SAAkByS,aAAaT,EAAahS,YAE9D,CAACmY,EAAiBvhB,EAAM6hB,UAEpBd,ED8OWkB,CAAqB,CACrC/I,OAAQ,IACRE,MAAO,IACPjT,MAAO,OACPK,OAAQ,SAGVoV,qBAAU,WACR,IAAMsG,EAA2B,IAAIhZ,gBAAe,SAACC,GAAa,IAAD,gBAC3CA,GAD2C,IAC/D,2BAA6B,CAC3B,GAD2B,QACjBlI,SAAW8d,EAAe3V,QAAS,CAC3C,IAAMjD,EACJ4Y,EAAe3V,QAAQI,YAAc,GACvC8V,EACEnZ,GAAUgc,EAAgB/kB,KAAK2F,MAAMoD,EAAQ,KAAO,GAAK,KANA,kCAejE,OAH+B,OAA3B4Y,EAAe3V,SACjB8Y,EAAyB7Y,QAAQ0V,EAAe3V,SAE3C,WACL8Y,EAAyB5Y,gBAE1B,IAEHsS,qBAAU,WACR,IAAMwG,EAA4BpkB,OAAOqkB,aAAaC,QACpDxE,IAGIyE,EAAgB,WACpB,GAAkC,OAA9BH,EACF,OAAOI,KAAKC,MAAML,GACZ,IAAD,EAUC5b,EAAM,UAAGuC,EAAaK,eAAhB,aAAG,EAAsBK,aAErC,OAAIjD,EACEA,EAAS4X,GACJS,GACErY,EAAS4X,GACXQ,GAEAP,GAGFA,GAxBS,GA6BtBkE,EAAahY,SAAQ,SAACsP,GACpBA,EAAE0E,OAAOI,aAAc,EACvB9E,EAAE0E,OAAOne,aAAc,KAGzBsgB,EAAe6B,KACd,CAAC7B,IAEJ9E,qBAAU,WACR,IAAM8G,EAAkB,SAAC7I,GAClBqE,GACCyE,UAAUC,SAASphB,QAAQ,QAAU,IACnCqY,EAAEgJ,SAAqB,MAAVhJ,EAAEnO,IACbmO,EAAEiJ,SACJjC,IAEAD,IAGE/G,EAAEkJ,SAAqB,MAAVlJ,EAAEnO,IACjBkV,IACS/G,EAAEkJ,SAAqB,MAAVlJ,EAAEnO,KACxBmV,MASV,OAFAI,SAAS/S,iBAAiB,UAAWwU,GAE9B,WACLzB,SAAS9S,oBAAoB,UAAWuU,MAEzC,CAACxE,EAAgB0C,EAAUC,IAE9BjF,qBAAU,WACR5d,OAAOqkB,aAAaW,QAClBlF,GACA0E,KAAKS,UAAL,YAAmBxC,OAEpB,CAACA,IAiGJ,OACE,eAAC,GAAD,CACE7W,IAAKb,EACLmV,eAAgBA,EAChBC,WAAYkB,EAHd,UAKwB,IAArBoB,EAAU7c,QACT,sBACEvE,UAAS,mDACP6e,EAAiB,WAAa,eAFlC,UAKE,oBAAI7e,UAAU,WAAd,0CACA,oBAAGA,UAAU,qBAAb,iEAEE,uBAFF,yEAOJ,qBAAKuK,IAAKmV,EAAV,SACE,cAAChB,GAAD,CACE1e,UAAU,SACV6jB,KA5cO,GA6cPC,cAAe,CAAC,MAChBC,gBAAgB,eAChBC,YAAa,KACbC,UACEpF,EAAiBqF,GAhdL,GAkddhF,OAAQkC,EAAUhf,KAAI,SAAC6b,GAAD,oBAAa3X,EAAG2X,EAAK5b,IAAO4b,EAAKiB,WACvDiF,eAtDe,SAACjF,GACtB,IAAMkF,EAAUhD,EAAUhf,KAAI,SAACoY,GAC7B,IAAM6J,EAAiBnF,EAAOoF,MAAK,SAACrG,GAAD,OAAUA,EAAK3X,IAAMkU,EAAEnY,MAC1D,GAAsB,MAAlBgiB,EAAwB,CAAC,IAAD,MACpBE,EAAY,CAChB3mB,EAAGymB,EAAezmB,EAClB4B,EAAG6kB,EAAe7kB,EAClB2f,EAAGkF,EAAelF,EAClBC,EAAGiF,EAAejF,EAClBC,KAAI,UAAEgF,EAAehF,YAAjB,QApac,EAqalBte,YAAW,UAAEsjB,EAAetjB,mBAAjB,SACXue,YAAW,UAAE+E,EAAe/E,mBAAjB,UAGb9E,EAAC,2BAAQA,GAAR,IAAW0E,OAAQqF,IAGtB,OAAO/J,KAGT8G,EAAQ8C,IAmCFI,OAAQ3F,EAAiB,CAAC,EAAG,GAAK,CAndxB,OAwcZ,SAaGuC,EAAUhf,KAAI,SAAC6b,GAAD,OACb,gCACGxb,IAAMgY,aAAa+D,GAASP,EAAKT,MAAO,CACvCzc,YAAakd,EAAKiB,OAAOne,YACzBH,YAAaie,IAEf,qBACE7e,UAAS,yGACP4f,EACI,6BACA,iCAJR,SAOE,wBACE5f,UAAU,2HACV0P,QAAS,WAjGN,IAACrN,IAkGS4b,EAAK5b,GAjGhCif,EAAQF,EAAUpf,QAAO,SAACwY,GAAD,OAAOA,EAAEnY,KAAOA,OAmG3BoX,UAAWmG,EALb,SAOE,cAAC,GAAD,CAAa5f,UAAU,oCAnBnBie,EAAK5b,WA0BrB,eAAC,GAAD,CACEyE,MAAM,MACNK,OAAO,MACP0S,OAAO,MACPE,MAAM,QACNW,QAASmE,EACT/E,YAAa2H,GAAa5C,GAC1BxE,WAhHW,WACf,IAAMoK,GAAc5F,EAEpBc,EAAkB8E,GAClBnD,EACEF,EAAUhf,KAAI,SAACkE,GAMb,OALAA,EAAE4Y,OAAF,2BACK5Y,EAAE4Y,QADP,IAEEI,aAAcmF,EACd1jB,aAAc0jB,IAETne,MAIPme,IACF1E,GAAuB,GACvBF,GAAkB,KAgGhBvF,KAAOuE,EAA+B6F,GAAdC,GACxB1K,gBAAe,UACZ4E,EAAD,2NAVJ,UAeE,cAAC,GAAD,CACEjE,YAAY,mJACZC,OAAS,GAAK9c,KAAK+S,GAAM,IACzBgK,WAAW,MACXM,gBAAgB,KAChBC,gBAAgB,KAChBqB,YAAY,WACZrC,WAAY,kBAAM0F,GAAwBD,IAP5C,SASE,cAAC,GAAD,CAAS9f,UAAU,yBAErB,cAAC,GAAD,CACE4a,YAAW,0GACTgF,EACI,wDACA,yDAEN/E,OAAS,IAAM9c,KAAK+S,GAAM,IAC1BgK,WAAW,MACXM,gBAAgB,IAChBC,gBAAgB,IAChBqB,YAAY,cACZrC,WAAY,kBAAMwF,GAAmBD,IAXvC,SAaGA,EACC,cAAC,GAAD,CAAyB5f,UAAU,YAEnC,cAAC,GAAD,CAAkBA,UAAU,cAGhC,cAAC,GAAD,CACE4a,YAAY,wJACZC,MAAQ,IAAM9c,KAAK+S,GAAM,IACzBgK,WAAW,MACXM,gBAAgB,KAChBC,gBAAgB,MAChBqB,YAAY,eACZrC,WAAY,kBAAMiH,EAAQ,KAP5B,SASE,cAAC,GAAD,CAAiBthB,UAAU,iBAG/B,cAAC,GAAD,CACE0a,OAAQoF,EACRjG,OAAO,OACPE,MAAM,QACNM,WAzNU,SAAC4D,GACf,IAD0C,EAKPmD,EAChChf,KAAI,SAACoY,GAAD,MAAO,CAACA,EAAE0E,OAAO1f,EAAIgb,EAAE0E,OAAOE,EAAG5E,EAAE0E,OAAOthB,EAAI4c,EAAE0E,OAAOC,MAC3DyF,OAAOrG,GAAU,CAAC,EAAG,IAPkB,mBAKrCsG,EALqC,KAKtBC,EALsB,KAUtCA,EATe,EAvVN,KAiWXA,EAAc,EACdD,GAVkB,GAcpB,IAAME,EAAgB3D,EACnBpf,QAAO,SAACwY,GAAD,OAtXd,cAAiE,IAAD,mBAAnCxb,EAAmC,KAAhCC,EAAgC,wBAAjBC,EAAiB,KAAdC,EAAc,KAC9D,OAAOpB,KAAKiG,IAAIhF,EAAGE,GAAKnB,KAAKgG,IAAI9E,EAAGE,GAsX9B6lB,CACE,CAACF,EAAaA,EAlBD,GAmBb,CAACtK,EAAE0E,OAAOthB,EAAG4c,EAAE0E,OAAOthB,EAAI4c,EAAE0E,OAAOC,OAGtC/c,KAAI,SAACoY,GAAD,OAAOA,EAAE0E,OAAO1f,EAAIgb,EAAE0E,OAAOE,KACjCwF,QAAO,SAAC/K,EAAQoL,GAAT,OAAiBlnB,KAAKiG,IAAI6V,EAAQoL,KAAM,GAG5CC,EAAannB,KAAKiG,IAAI6gB,EAzBR,EAyBqCE,GAEzDzD,EAAQ,GAAD,mBACFF,GADE,CAEL,CACE/e,GAAI4c,cACJzB,KAAMS,EACNiB,OAAQ,CACNthB,EAAGknB,EACHtlB,EAAG0lB,EACH/F,EApCa,EAqCbC,EApCc,EAqCdC,KA1XkB,EA2XlBte,aAAc8d,EACdS,aAAcT,aE5axB,IAAMsG,GAAe,CACnBC,QAAS,UACTC,MAAO,QACPC,MAAO,QACPC,SAAU,WACVC,aAAc,gBAQVC,IAAgE,qBACnEN,GAAaC,QAAU,CACtB7e,KAAM,UACNmf,QACE,eAAC,EAAD,CAAU5lB,aAAa,4CAAvB,UACE,cAAC,EAAD,CAAMK,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAK,EAAGC,IAAK,EAAnB,SACE,cAAC,GAAD,WAlB4D,eAuBnE+kB,GAAaE,MAAQ,CACpB9e,KAAM,QACNmf,QACE,eAAC,EAAD,CAAU5lB,aAAa,4CAAvB,UACE,cAAC,EAAD,CAAMK,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAK,EAAGC,IAAK,EAAnB,SACE,cAAC,GAAD,WAxC4D,eA6CnE+kB,GAAaG,MAAQ,CACpB/e,KAAM,QACNmf,QACE,eAAC,EAAD,CAAU5lB,aAAa,iBAAvB,UACE,cAAC,EAAD,CAAMK,IAAK,EAAGC,IAAK,EAAnB,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAK,EAAGC,IAAK,EAAnB,SACE,cAAC,GAAD,WArD4D,eA0DnE+kB,GAAaI,SAAW,CACvBhf,KAAM,WACNmf,QACE,eAAC,EAAD,CAAU5lB,aAAa,oBAAvB,UACE,cAAC,EAAD,CAAMK,IAAI,aAAaC,IAAK,EAA5B,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAK,EAAGC,IAAK,EAAnB,SACE,cAAC,GAAD,MAEF,cAAC,EAAD,CAAMD,IAAK,EAAGC,IAAK,EAAnB,SACE,cAAC,GAAD,WArE4D,eA0EnE+kB,GAAaK,aAAe,CAC3Bjf,KAAM,SACNmf,QAAS,cAACjG,GAAD,MA5EyD,IAgFvDha,UAAOkgB,OAAPlgB,OAAA,IAAAA,QAAA,IAAAA,CAAA,GACV0f,IADU,IAGbS,QAAS,SAACC,GAAD,OAAyCJ,GAAeI,GAAQtf,MAEzEuf,WAAY,SAACD,GAAD,mCACVJ,GAAeI,UADL,aACV,EAAwBH,eADd,QAEVD,GAAeN,GAAaC,SAASM,YCpG5BrX,GAAU,SAAC0X,EAAcC,GAAf,MAAgD,CACrE1jB,KAAMqT,GACNoQ,OACAC,SAYWC,GAA0B,SAACC,GAAD,OAA0B,SAC/DxP,GAEAA,EAAS,CACPpU,KAAMwT,GACNoQ,gBAGGA,GACHxP,EChB2B,CAC7BpU,KAAM2T,GACN+C,WDc6B,OEtBlBmN,GAAsB,SACjCN,GADiC,MAEF,CAC/BvjB,KAAMmT,GACNoQ,WCrBF,SAAS,KAA2Q,OAA9P,GAAWpgB,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,8FACHinB,YAAa,KAGX,GAAqB,gBAAoB,OAAQ,CACnDjnB,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,yGAGL,SAASknB,GAAQlZ,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,GAAO,IAGlC,IAAI,GAA0B,aAAiBgZ,IAChC,ICzCf,SAAS,KAA2Q,OAA9P,GAAW5gB,OAAOC,QAAU,SAAU9D,GAAU,IAAK,IAAI0E,EAAI,EAAGA,EAAI6F,UAAU5H,OAAQ+B,IAAK,CAAE,IAAI8F,EAASD,UAAU7F,GAAI,IAAK,IAAI+F,KAAOD,EAAc3G,OAAOtH,UAAUmO,eAAeC,KAAKH,EAAQC,KAAQzK,EAAOyK,GAAOD,EAAOC,IAAY,OAAOzK,IAA2B4K,MAAMjO,KAAM4N,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkEC,EAAK/F,EAAnE1E,EAEzF,SAAuCwK,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DC,EAAK/F,EAA5D1E,EAAS,GAAQ+K,EAAalH,OAAOmH,KAAKR,GAAqB,IAAK9F,EAAI,EAAGA,EAAIqG,EAAWpI,OAAQ+B,IAAO+F,EAAMM,EAAWrG,GAAQoG,EAASvK,QAAQkK,IAAQ,IAAazK,EAAOyK,GAAOD,EAAOC,IAAQ,OAAOzK,EAFxM,CAA8BwK,EAAQM,GAAuB,GAAIjH,OAAOqH,sBAAuB,CAAE,IAAIC,EAAmBtH,OAAOqH,sBAAsBV,GAAS,IAAK9F,EAAI,EAAGA,EAAIyG,EAAiBxI,OAAQ+B,IAAO+F,EAAMU,EAAiBzG,GAAQoG,EAASvK,QAAQkK,IAAQ,GAAkB5G,OAAOtH,UAAU6O,qBAAqBT,KAAKH,EAAQC,KAAgBzK,EAAOyK,GAAOD,EAAOC,IAAU,OAAOzK,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDzC,EAAG,gBACH8N,KAAM,SAGJ,GAAqB,gBAAoB,OAAQ,CACnD9N,EAAG,4MAGL,SAASmnB,GAAWnZ,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf3M,EAAQ,GAAyBwM,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDF,KAAM,UACN9F,OAAQ,GACRoG,QAAS,YACTzG,MAAO,GACP0G,MAAO,6BACPjD,IAAK6C,EACL,kBAAmBE,GAClB3M,GAAQ0M,EAAqB,gBAAoB,QAAS,CAC3DhL,GAAIiL,GACHD,GAAS,KAAM,GAAO,IAG3B,ICKIkZ,GACAC,GACAC,GCpBAC,GACAC,GFYA,GAA0B,aAAiBL,IGxBzCM,IHyBS,I,kLGvBXroB,KAAKoC,MAAM+V,SACTrI,GACgC1P,OAAOkoB,SAASC,SAC9CC,SAGJxoB,KAAKoC,MAAM+V,SLK8C,CAC3DpU,KAAMoT,O,6CKFJnX,KAAKoC,MAAM+V,SPFoC,CACjDpU,KAAMsT,O,+BOII,IAAD,OACP,OACE,sBACE5V,UAAU,gBACVC,MAAO,CAAE6G,MAAO,QAASK,OAAQ,SAFnC,UAIE,yBAAQnH,UAAU,qEAAlB,UACE,oBAAIA,UAAU,uBAAd,2BACA,sBAAKA,UAAU,cAAf,UACE,wBACEA,UAAU,kGACV8E,MAAOvG,KAAKoC,MAAMqmB,aAClBjlB,SAAU,SAACL,GAAD,OACR,EAAKf,MAAM+V,UL5BzBmP,EK4BmDnkB,EAAIE,OAAOkD,ML3BlC,CAC5BxC,KAAMkT,GACNqQ,YAJ8B,IAC9BA,GKwBU,SAOGpgB,OAAOmH,KAAKuY,IACVnjB,QAAO,SAACqK,GAAD,MAAsC,kBAAtB8Y,GAAa9Y,MACpCjK,KAAI,SAACiK,GAAD,OACH,wBAAkBvH,MAAOuH,EAAzB,SACG8Y,GAAaS,QAAQvZ,IADXA,QAKlB9N,KAAKoC,MAAMulB,aACV,oBACElmB,UAAU,OACVC,MAAO,CACL6G,MAAO,OACPI,UAAW,SAJf,UAOG3I,KAAKoC,MAAMsmB,SAPd,QAUD1oB,KAAKoC,MAAMulB,YACV,cAAC,GAAD,CAAelmB,UAAU,mBAEzB,cAAC,GAAD,CAAkBA,UAAU,yBAIjCmlB,GAAaW,WAAWvnB,KAAKoC,MAAMqmB,qB,GAzDpBtkB,cA4ETwkB,gBANS,SAAC,GAAD,IAAGR,EAAH,EAAGA,OAAQS,EAAX,EAAWA,SAAX,MAA2B,CACjDjB,YAAaQ,EAAOR,YACpBe,SAAUP,EAAOO,SACjBD,aAAcG,EAASH,gBAGVE,CAA8BN,I,0BF3EhCQ,GAAmB,SAACC,GAAD,MAA2C,CACzE/kB,KAAM4S,GACNmS,SAGWC,GAAsB,SACjCD,GADiC,MAEH,CAC9B/kB,KAAM6S,GACNkS,SAuBWE,GAAmB,SAC9BC,EACAC,GAF8B,OAG3B,SAAC/Q,GACJ,IAAMnH,EAAYrJ,KAAKC,QAEpBua,kBAAQ6F,GAAciB,KACtB9G,kBAAQ8F,GAAciB,IACvBlY,EAAYkX,GAdO,OAgBnB/P,EA9B+B,SACjC8Q,EACAC,GAFiC,MAGF,CAC/BnlB,KAAM8S,GACNoS,WACAC,YAwBWC,CAAoBF,EAAUC,IAEvClB,GAAeiB,EACfhB,GAAeiB,EACfhB,GAAuBlX,KG5CrBoY,GAAc,CAClBC,qBAAsB,uBACtBC,SAAU,WACVC,iBAAkB,mBAClBC,QAAS,WAWI,8BACVJ,IADL,IAGEK,eAAgB,SAACrP,GACf,OAAmD,IAA/CA,EAAQtW,GAAG4lB,OAAO,wBACbN,GAAYC,sBACyB,IAAnCjP,EAAQtW,GAAG4lB,OAAO,YACpBN,GAAYE,UAEc,IAAjClP,EAAQtW,GAAG4lB,OAjBA,UAoBJ,IAFPtP,EAAQtW,GAAG4lB,OACT,IAAIC,OAAJ,UAlBoB,OAkBpB,YAjBoB,QAiBwC,QAOvD,IAFPvP,EAAQtW,GAAG4lB,OACT,IAAIC,OAAJ,eApBW,OAoBX,iBAnBW,MAmBX,KAAqD,MAHhDP,GAAYG,iBAQZH,GAAYI,SAIvBI,oBAAqB,SAACC,GACpB,OAAQA,GACN,KAAKT,GAAYC,qBACf,MAAO,IACT,KAAKD,GAAYE,SACf,MAAO,IACT,KAAKF,GAAYG,iBACf,MAAO,IACT,QACE,MAAO,KAIbO,YAAa,SAACD,GAAD,OACXA,IAAgBT,GAAYI,WCrD1BljB,GAAQ,SACZC,EACAwjB,EACAC,EACAC,EACAC,GALY,OAMTD,GAAW1jB,EAAQwjB,IAAWG,EAASD,IAAYD,EAASD,IAG3DI,GAAoB,SACxB5jB,GAGI,IAFJ6jB,EAEG,uDAFgB,GACnBC,EACG,uDADc,EAGjB,OAAKD,EAAmB7jB,GAASA,EAAQ6jB,EAAyB,EAG9D7jB,EAAQ8jB,GACR9jB,GAAS8jB,EADsBA,EAI/B9jB,EAAQ,EACHD,GAAMC,EAAO6jB,EAAkBC,EAAgB,EAAGA,GAElD/jB,GAAMC,GAAQ6jB,GAAmBC,EAAgB,GAAIA,IAI1DC,GAAmC,CACvCC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,cAAe,EAEfC,SAAS,EACTC,WAAW,EACXC,WAAW,EACXC,YAAY,EAEZrqB,GAAG,EACHC,GAAG,EACHrB,GAAG,EACH4B,GAAG,EAEH8pB,OAAO,EACP9a,OAAO,EACP+a,MAAM,EAENC,aAAa,EACbC,cAAc,EAEdC,mBAAmB,EACnBC,oBAAoB,EAEpBC,aAAc,EACdC,cAAe,GAGXC,GAAsB,SAACnR,GAC3B,IAAMrW,EAAOqlB,GAAYK,eAAerP,GACxC,IAAKgP,GAAYU,YAAY/lB,GAC3B,MAAM,IAAI5D,MAAM,qDAGlB,OAAQ4D,GACN,KAAKqlB,GAAYC,qBACf,MAAO,CACLkB,aAAcJ,IAAmB/P,EAAQoR,KAAK,IAC9ChB,aAAcL,GAAkB/P,EAAQoR,KAAK,IAC7Cf,cAAeN,IAAmB/P,EAAQoR,KAAK,IAC/Cd,cAAeP,GAAkB/P,EAAQoR,KAAK,IAE9Cb,QAASvQ,EAAQqR,QAAQ,IAAIC,QAC7Bd,UAAWxQ,EAAQqR,QAAQ,IAAIC,QAC/Bb,UAAWzQ,EAAQqR,QAAQ,IAAIC,QAC/BZ,WAAY1Q,EAAQqR,QAAQ,IAAIC,QAEhCjrB,EAAG2Z,EAAQqR,QAAQ,GAAGC,QACtBhrB,EAAG0Z,EAAQqR,QAAQ,GAAGC,QACtBrsB,EAAG+a,EAAQqR,QAAQ,GAAGC,QACtBzqB,EAAGmZ,EAAQqR,QAAQ,GAAGC,QAEtBX,OAAO,EACP9a,MAAOmK,EAAQqR,QAAQ,GAAGC,QAC1BV,KAAM5Q,EAAQqR,QAAQ,GAAGC,QAEzBT,YAAa7Q,EAAQqR,QAAQ,GAAGC,QAChCR,aAAc9Q,EAAQqR,QAAQ,GAAGC,QAEjCP,kBAAmB/Q,EAAQqR,QAAQ,IAAIC,QACvCN,mBAAoBhR,EAAQqR,QAAQ,IAAIC,QAExCL,aAAcjR,EAAQqR,QAAQ,GAAGllB,MACjC+kB,cAAelR,EAAQqR,QAAQ,GAAGllB,OAEtC,KAAK6iB,GAAYE,SACf,MAAO,CAKLiB,aAAcJ,GAAkB/P,EAAQoR,KAAK,IAC7ChB,aAAcL,GAAkB/P,EAAQoR,KAAK,IAC7Cf,cAAeN,GAAkB/P,EAAQoR,KAAK,IAC9Cd,cAAeP,GAAkB/P,EAAQoR,KAAK,IAE9Cb,QAASvQ,EAAQqR,QAAQ,IAAIC,QAC7Bd,UAAWxQ,EAAQqR,QAAQ,IAAIC,QAC/Bb,UAAWzQ,EAAQqR,QAAQ,IAAIC,QAC/BZ,WAAY1Q,EAAQqR,QAAQ,IAAIC,QAEhCjrB,EAAG2Z,EAAQqR,QAAQ,GAAGC,QACtBhrB,EAAG0Z,EAAQqR,QAAQ,GAAGC,QACtBrsB,EAAG+a,EAAQqR,QAAQ,GAAGC,QACtBzqB,EAAGmZ,EAAQqR,QAAQ,GAAGC,QAEtBX,OAAO,EACP9a,MAAOmK,EAAQqR,QAAQ,GAAGC,QAC1BV,KAAM5Q,EAAQqR,QAAQ,GAAGC,QAEzBT,YAAa7Q,EAAQqR,QAAQ,GAAGC,QAChCR,aAAc9Q,EAAQqR,QAAQ,GAAGC,QAEjCP,kBAAmB/Q,EAAQqR,QAAQ,IAAIC,QACvCN,mBAAoBhR,EAAQqR,QAAQ,IAAIC,QACxCL,aAAcjR,EAAQqR,QAAQ,GAAGllB,MACjC+kB,cAAelR,EAAQqR,QAAQ,GAAGllB,OAEtC,KAAK6iB,GAAYG,iBACf,MAAO,CACLgB,aAAcJ,GAAkB/P,EAAQoR,KAAK,IAC7ChB,aAAcL,GAAkB/P,EAAQoR,KAAK,IAC7Cf,cAAeN,GAAkB/P,EAAQoR,KAAK,IAC9Cd,cAAeP,GAAkB/P,EAAQoR,KAAK,IAE9Cb,QAASvQ,EAAQqR,QAAQ,IAAIC,QAC7Bd,UAAWxQ,EAAQqR,QAAQ,IAAIC,QAC/Bb,UAAWzQ,EAAQqR,QAAQ,IAAIC,QAC/BZ,WAAY1Q,EAAQqR,QAAQ,IAAIC,QAEhCjrB,EAAG2Z,EAAQqR,QAAQ,GAAGC,QACtBhrB,EAAG0Z,EAAQqR,QAAQ,GAAGC,QACtBrsB,EAAG+a,EAAQqR,QAAQ,GAAGC,QACtBzqB,EAAGmZ,EAAQqR,QAAQ,GAAGC,QAEtBX,MAAO3Q,EAAQqR,QAAQ,IAAIC,QAC3Bzb,MAAOmK,EAAQqR,QAAQ,GAAGC,QAC1BV,KAAM5Q,EAAQqR,QAAQ,GAAGC,QAEzBT,YAAa7Q,EAAQqR,QAAQ,GAAGC,QAChCR,aAAc9Q,EAAQqR,QAAQ,GAAGC,QAEjCP,kBAAmB/Q,EAAQqR,QAAQ,IAAIC,QACvCN,mBAAoBhR,EAAQqR,QAAQ,IAAIC,QACxCL,aAAcjR,EAAQqR,QAAQ,GAAGllB,MACjC+kB,cAAelR,EAAQqR,QAAQ,GAAGllB,MAElColB,SAAUvR,EAAQqR,QAAQ,IAAIC,SAElC,QACE,MAAM,IAAIvrB,MAAJ,mDAAsD4D,MAI9D6nB,IAAiB,EACjBC,IAAiB,EAyGNC,GAvG2D,SACxEC,GAmGA,OAnBA3rB,OAAOkQ,iBAAiB,uBAAuB,SAACnN,GAAe,IAIrDiX,EAAYjX,EAAZiX,QAEJwR,KAAkBxR,EAAQ2E,OAC5BgN,EAAM5T,SAAS4Q,GAAoB6C,KAEnCA,IAAiB,GACRC,KAAkBzR,EAAQ2E,QACnCgN,EAAM5T,SAAS4Q,GAAoB8C,KAEnCA,IAAiB,MA3FrB,SAASG,IACP,IAAMC,EAAWlH,UAAUmH,cAC3B,GAAwB,IAApBD,EAASjmB,OAAb,CAFwB,oBAQF+e,UAAUmH,eARR,IAQxB,2BAA+C,CAAC,IAArC9R,EAAoC,QAC7C,GAAgB,OAAZA,GAAqBA,EAAQ+R,UAAjC,CAIA,IAAMtC,EAAcT,GAAYK,eAAerP,GAC/C,GAAKgP,GAAYU,YAAYD,GAA7B,CAIA,IAAMuC,EAAeb,GAAoBnR,GAGrCgS,EAAanc,OAASmc,EAAa3rB,GACrCmrB,GAAgBxR,EAAQ2E,MAExBgN,EAAM5T,SAAS0Q,GAAiB,IAE5BgD,KAAkBD,KACpBG,EAAM5T,SAAS4Q,GAAoB,IAEnC8C,IAAiB,IAEVO,EAAanc,OAASmc,EAAa1rB,IAC5CmrB,GAAgBzR,EAAQ2E,MAExBgN,EAAM5T,SAAS0Q,GAAiB,IAE5B+C,KAAkBC,KACpBE,EAAM5T,SAAS4Q,GAAoB,IAEnC6C,IAAiB,IAKrB,IAAIS,OAAa,EACjB,IAAuB,IAAnBT,GAAsB,CACxB,IAAMxR,EAAU6R,EAASL,IAGvBS,EADEjS,EACcmR,GAAoBnR,GAEpBkQ,QAGlB+B,EAAgB/B,GAGlB,IAAIgC,OAAa,EACjB,IAAuB,IAAnBT,GAAsB,CACxB,IAAMzR,EAAU6R,EAASJ,IAGvBS,EADElS,EACcmR,GAAoBnR,GAEpBkQ,QAGlBgC,EAAgBhC,GAGjByB,EAAM5T,SACL6Q,GAAiBqD,EAAeC,OAvEZ,8BA2ExBvf,sBAAsBif,QAxEpBlO,WAAWkO,EAAgB,KA4F/BA,GAEO,SAACO,GAAD,OAAU,SAAC1K,GAAD,OAAY0K,EAAK1K,MHnQ9B2K,GAAkB,SAAlBA,IAAkB,OAAsB,SAC5CrU,EACAsU,GAEwBA,IAAWtE,OAA3BR,cAMRS,GAAiBzgB,KAAKC,MAEtBuQ,EL3ByD,CACzDpU,KAAMyT,KK4BNsG,YAAW,WACT3F,EAASqU,OACR,QAkEUE,GA/D0D,SACvEX,GADuE,OAEpE,SAACQ,GAAD,OAAU,SAAC1K,GACd,OAAQA,EAAO9d,MACb,KAAKqT,IACH+Q,GAAS,IAAIwE,UAAJ,eAAsB9K,EAAO2F,KAA7B,YAAqC3F,EAAO4F,QAE9CmF,UAAY,SAACzpB,GAClB,IAAM0pB,EAAMjI,KAAKC,MAAM1hB,EAAI8E,MAC3B8jB,EAAM5T,SAAS0U,IAGjB1E,GAAO2E,OAAS,WACbf,EAAM5T,SAA8BuP,IAAwB,IAE5DqE,EAAM5T,SAA8BqU,OAGvCrE,GAAO4E,QAAU,WACdhB,EAAM5T,SAA8BuP,IAAwB,IAE7D5J,YACE,kBAAMiO,EAAM5T,SAASrI,GAAQ+R,EAAO2F,KAAM3F,EAAO4F,SACjD,MAIJ,MACF,KAAKpQ,GACH8Q,GAAO6E,QACP,MACF,KAAKvV,GACH,IAAMiR,EAAW/gB,KAAKC,MAAQwgB,GAC9B2D,EAAM5T,SNpDmB,SAACuQ,GAAD,MAA8C,CAC3E3kB,KAAMuT,GACNoR,YMkDmBuE,CAAgBvE,IAE/B6D,EAAK1K,GACL,MAGF,KAAKhL,GACL,KAAKW,GACL,KAAKf,GACL,KAAKF,GACL,KAAKO,GACL,KAAKC,GACL,KAAKC,GACqB+U,EAAMU,WAAWtE,OAAjCR,aAGNQ,GAAO+E,KAAKtI,KAAKS,UAAUxD,IAG7B0K,EAAK1K,GAEL,MAEF,QACE0K,EAAK1K,OI9FLsL,GAAoB,eA4BXC,GA1B2D,SACxErB,GADwE,OAErE,SAACQ,GAAD,OAAU,SAAC1K,GACd,OAAQA,EAAO9d,MACb,KAAKoT,GACH,IAAMmQ,EACJ7C,aAAaC,QAAQyI,KAAsBvG,GAAaC,QAE1DkF,EAAM5T,SAASyP,GAAoBN,IAEnC,MAEF,KAAKrQ,GACHwN,aAAaW,QAAQ+H,GAAmBtL,EAAOyF,QAE/CyE,EAAM5T,SAASyP,GAAoB/F,EAAOyF,SAE1C,MAEF,QACEiF,EAAK1K,OC3BLwL,GAA0B,CAC9B,CACErc,UAAW,EACX/I,KAAM,GACN6Q,IAAK,GACL9E,aAAc,CACZ/B,IAAK,MAiBIqb,GAZU,WAGnB,IAFJvqB,EAEG,uDAFKsqB,GACRxL,EACG,uCACH,OAAQA,EAAO9d,MACb,KAAK4T,GACH,OAAOkK,EAAO9R,UAChB,QACE,OAAOhN,ICbPsqB,GAA4B,CAChC1F,aAAa,EACbe,SAAU,GAuBG6E,GApBO,WAGhB,IAFJxqB,EAEG,uDAFKsqB,GACRxL,EACG,uCACH,OAAQA,EAAO9d,MACb,KAAKuT,GACH,OAAO,2BACFvU,GADL,IAEE2lB,SAAU7G,EAAO6G,WAErB,KAAKnR,GACH,OAAO,2BACFxU,GADL,IAEE4kB,YAAa9F,EAAO8F,cAExB,QACE,OAAO5kB,ICZPyqB,GAAgB,SAAhBA,EAAiB3V,EAAoB4V,GACzC,GAAIA,EAAUxY,SAAWZ,GAAaM,OAAQ,CAQ5C,IAPA,IAAM+Y,EAA6B,CACjCzY,OAAQZ,GAAaM,OACrBO,QAAS,IAKX,MAAkBhO,OAAOmH,KAAKof,EAAUvY,SAAxC,eAAkD,CAA7C,IAAMpH,EAAG,KACR6f,EAAe,GAEjBA,EADgC,kBAAvB9V,EAAW3C,QACU2C,EAAY3C,QAAQpH,GAEnC,GAGjB4f,EAAaxY,QAAQpH,GAAO0f,EAC1BG,EACAF,EAAUvY,QAAQpH,IAGtB,OAAO4f,EAIP,OAFA7V,EAA6BA,GAEd3B,WACN,CACLjB,OAAQwY,EAAUxY,OAClBC,QAASuY,EAAUvY,QACnBc,WAAY6B,EAAW7B,WACvBb,QAAS0C,EAAW1C,QACpBe,YAAY,EACZb,YAAaoY,EAAUpY,YACvBY,aAAcwX,EAAUxX,cAGnB,CACLhB,OAAQwY,EAAUxY,OAClBC,QAASuY,EAAUvY,QACnBc,WAAYyX,EAAUvY,QACtBC,SAAS,EACTe,YAAY,EACZb,YAAaoY,EAAUpY,YACvBY,aAAcwX,EAAUxX,eAM1ByC,GAAe,SAAfA,EACJb,EACAW,EACAzD,GAEA,GAAI8C,EAAW5C,SAAWZ,GAAaM,OAAQ,CAQ7C,IAPA,IAAM+Y,EAA6B,CACjCzY,OAAQZ,GAAaM,OACrBO,QAAS,IAKX,MAAkBhO,OAAOmH,KAAKwJ,EAAW3C,SAAzC,eAAmD,CAA9C,IAAMpH,EAAG,KACsB,kBAAvB0K,EAAWtD,SAAwBpH,KAAO0K,EAAWtD,QAE9DwY,EAAaxY,QAAQpH,GAAO4K,EAC1Bb,EAAW3C,QAAQpH,GACnB0K,EAAWtD,QAAQpH,GACnBiH,GAIF2Y,EAAaxY,QAAQpH,GAAO7G,oBAAU4Q,EAAW3C,QAAQpH,IAI7D,OAAO4f,EAEP,IAAIE,GAAa,EAMjB,MALkC,kBAAvBpV,EAAWtD,UACpB0Y,EAAcpV,EAA8BrD,SAIvC,CACLF,OAAQ4C,EAAW5C,OACnBC,QAAS2C,EAAW3C,QACpBc,WAAYwC,EAAWtD,QACvBC,QAASyY,EACT1X,WAAYnB,EACZM,YAAawC,EAAWxC,YACxBY,aAAc4B,EAAW5B,eAKzB4X,GAAgB,SAAhBA,EAAiBtV,GACrB,GAAIA,EAAOtD,SAAWZ,GAAaM,OAAQ,CAMzC,IALA,IAAMmZ,EAAgC,CACpC7Y,OAAQZ,GAAaM,OACrBO,QAAS,IAGX,MAAkBhO,OAAOmH,KAAKkK,EAAOrD,SAArC,eAA+C,CAA1C,IAAMpH,EAAG,KACZggB,EAAgB5Y,QAAQpH,GAAO+f,EAActV,EAAOrD,QAAQpH,IAG9D,OAAOggB,EAEP,MAAO,CACL7Y,OAAQsD,EAAOtD,OACfC,QAASqD,EAAOrD,QAChBc,WAAYuC,EAAOrD,QACnBC,SAAS,EACTe,YAAY,EACZb,YAAakD,EAAOlD,YACpBY,aAAcsC,EAAOtC,eAKrBoX,GAA4B,CAChChV,WAAY,IAqCC0V,GAlCO,WAOhB,IANJhrB,EAMG,uDANkBsqB,GACrBxL,EAKG,uCACH,OAAQA,EAAO9d,MACb,KAAKuS,GACH,OAAO,2BACFvT,GADL,IAEEsV,WAAYmV,GAAczqB,EAAMsV,WAAYwJ,EAAOxJ,cAEvD,KAAK7B,GACH,OAAO,2BACFzT,GADL,IAEEsV,WAAYK,GAAa3V,EAAMsV,WAAYwJ,EAAOrJ,YAAY,KAElE,KAAK/B,GACH,OAAO,2BACF1T,GADL,IAEEsV,WAAYK,GAAa3V,EAAMsV,WAAYwJ,EAAOrJ,YAAY,KAElE,KAAK9B,GACH,OAAO,2BACF3T,GADL,IAEEsV,WAAYwV,GAAc9qB,EAAMsV,cAEpC,QACE,OAAOtV,ICpKPsqB,GAA4B,CAChCxS,WAAW,EACXN,aAAc,GACdC,mBAAoBf,GAAaG,QACjCa,WAAY,GACZK,eAAgB,GAChBC,aAAc,IAuBDiT,GApBO,WAGhB,IAFJjrB,EAEG,uDAFKsqB,GACRxL,EACG,uCACH,OAAQA,EAAO9d,MACb,KAAK0T,GACH,OAAO,2BACF1U,GACA8e,EAAO1H,QAEd,KAAKzC,GACH,OAAO,2BACF3U,GADL,IAEE0X,WAAYoH,EAAOpH,aAEvB,QACE,OAAO1X,IChCPsqB,GAA4B,CAChCjU,SAAU,IAkBG6U,GAfO,WAGH,IAFjBlrB,EAEgB,uDAFKsqB,GACrBxL,EACgB,uCAChB,OAAQA,EAAO9d,MACb,KAAKsS,GACH,OAAO,2BACFtT,GADL,IAEEqW,SAAUyI,EAAOqM,cAErB,QACE,OAAOnrB,ICTPsqB,GAA6B,CACjC5E,aAAc7B,GAAaC,SAkBdsH,GAfS,WAGlB,IAFJprB,EAEG,uDAFmBsqB,GACtBxL,EACG,uCACH,OAAQA,EAAO9d,MACb,KAAKmT,GACH,OAAO,2BACFnU,GADL,IAEE0lB,aAAc5G,EAAOyF,SAEzB,QACE,OAAOvkB,ICfPsqB,GAAuC,CAC3CrS,mBAAmB,EACnBC,mBAAmB,GAqCNmT,GAlCQ,WAGO,IAF5BrrB,EAE2B,uDAFKsqB,GAChCxL,EAC2B,uCAC3B,OAAQA,EAAO9d,MACb,KAAK4S,GACH,OAAoB,IAAhBkL,EAAOiH,KACF,2BACF/lB,GADL,IAEEiY,mBAAmB,IAGd,2BACFjY,GADL,IAEEkY,mBAAmB,IAGzB,KAAKrE,GACH,OAAoB,IAAhBiL,EAAOiH,KACF,2BACF/lB,GADL,IAEEiY,mBAAmB,IAGd,2BACFjY,GADL,IAEEkY,mBAAmB,IAGzB,QACE,OAAOlY,ICPEsrB,GAzBKC,aAAgB,CAClCve,UAAWud,GACXnF,OAAQoF,GACRhV,OAAQwV,GACR5T,OAAQ6T,GACRxU,OAAQyU,GACRrF,SAAUuF,GACV/T,QAASgU,KCwBIG,GApBQ,WACrB,IAAMC,EAAc,CAClBC,KACA3C,GACAY,GACAU,IAYF,OAAOsB,aAAYL,GAAaM,KAAe,WAAf,EAAmBH,KCjC/CzC,I,MAAQwC,MAEdK,IAAS9hB,OACP,cAAC,IAAD,CAAUif,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEF1I,SAASwL,eAAe,W","file":"static/js/main.f51e46f7.chunk.js","sourcesContent":["// align coordinate to the nearest pixel, offset by a half pixel\n// this helps with drawing thin lines; e.g., if a line of width 1px\n// is drawn on an integer coordinate, it will be 2px wide\n// x is assumed to be in *device* pixels\nfunction alignCoord(x, scaling) {\n  const roundX = Math.round(x * scaling);\n  return (roundX + 0.5 * Math.sign(x - roundX)) / scaling;\n}\n\nfunction arrToDOMMatrix(arr) {\n  return window.DOMMatrix.fromFloat64Array(Float64Array.from(arr));\n}\n\nCanvasRenderingContext2D.prototype.getScalingFactors = function () {\n  let transform;\n  if (typeof this.getTransform === 'function') {\n    transform = this.getTransform();\n  } else if (typeof this.mozCurrentTransform !== 'undefined') {\n    transform = arrToDOMMatrix(this.mozCurrentTransform);\n  } else {\n    throw new Error('unable to find canvas transform');\n  }\n\n  const { a, b, c, d } = transform;\n  const scalingX = Math.sqrt(a * a + c * c);\n  const scalingY = Math.sqrt(b * b + d * d);\n\n  return {\n    scalingX,\n    scalingY,\n  };\n};\n\nCanvasRenderingContext2D.prototype.fineMoveTo = function (x, y) {\n  const { scalingX, scalingY } = this.getScalingFactors();\n  this.moveTo(alignCoord(x, scalingX), alignCoord(y, scalingY));\n};\n\nCanvasRenderingContext2D.prototype.fineLineTo = function (x, y) {\n  const { scalingX, scalingY } = this.getScalingFactors();\n  this.lineTo(alignCoord(x, scalingX), alignCoord(y, scalingY));\n};\n","export enum ConfigurableView {\n  FIELD_VIEW,\n  GRAPH_VIEW,\n  CONFIG_VIEW,\n  TELEMETRY_VIEW,\n  CAMERA_VIEW,\n  OPMODE_VIEW,\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TileGrid = ({ gridTemplate, children }) => (\n  <div className=\"tile-grid\" style={{ gridTemplate }}>\n    {children}\n  </div>\n);\n\nTileGrid.propTypes = {\n  gridTemplate: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default TileGrid;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Tile = ({ children, row, col }) => (\n  <div\n    className=\"tile\"\n    style={{\n      gridRow: row,\n      gridColumn: col,\n    }}\n  >\n    {children}\n  </div>\n);\n\nTile.propTypes = {\n  children: PropTypes.node.isRequired,\n  row: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  col: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n};\n\nexport default Tile;\n","import styled from 'styled-components';\n\ntype BaseViewProps = {\n  isUnlocked?: boolean;\n};\n\nconst BaseView = styled.div.attrs<BaseViewProps>((props) => ({\n  className: `flex flex-col h-full bg-white bg-opacity-75 overflow-hidden transition-shadow ${\n    props.isUnlocked ? 'shadow-md rounded-md select-none' : ''\n  }`,\n}))<BaseViewProps>``;\n\ntype BaseViewHeadingProps = {\n  isDraggable?: boolean;\n};\n\nconst BaseViewHeading = styled.h2.attrs<BaseViewHeadingProps>((props) => ({\n  className: `text-xl w-full px-4 py-2 font-medium ${\n    props.isDraggable ? 'grab-handle' : ''\n  }`,\n}))<BaseViewHeadingProps>``;\n\nconst BaseViewBody = styled.div.attrs<{ className?: string }>((props) => ({\n  className: `px-4 ${props.className}`,\n}))`\n  flex: 1;\n  overflow: auto;\n`;\n\nconst BaseViewIcons = styled.div.attrs({\n  className: 'flex items-center mr-3 space-x-1',\n})``;\n\nconst BaseViewIcon = styled.div.attrs({\n  className: 'w-8 h-8 flex-center',\n})``;\n\nconst BaseViewIconButton = styled.button.attrs<{ className?: string }>(\n  (props) => ({\n    className: `icon-btn w-8 h-8 ${props.className}`,\n  }),\n)``;\n\nexport {\n  BaseView as default,\n  BaseViewHeading,\n  BaseViewBody,\n  BaseViewIcons,\n  BaseViewIcon,\n  BaseViewIconButton,\n};\nexport type { BaseViewProps, BaseViewHeadingProps };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 as uuid4 } from 'uuid';\n\nclass MultipleCheckbox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: this.props.selected || [],\n      uuid: uuid4(),\n    };\n  }\n\n  handleChange(evt, val) {\n    if (evt.target.checked) {\n      this.setState(\n        {\n          selected: [...this.state.selected, val],\n        },\n        () => this.props.onChange(this.state.selected),\n      );\n    } else {\n      this.setState(\n        {\n          selected: this.state.selected.filter((el) => val !== el),\n        },\n        () => this.props.onChange(this.state.selected),\n      );\n    }\n  }\n\n  render() {\n    return (\n      <table className=\"overflow-y-scroll\">\n        <tbody>\n          {this.props.arr\n            .filter(\n              (val) =>\n                !this.props.exclude || this.props.exclude.indexOf(val) === -1,\n            )\n            .map((val) => (\n              <tr key={val}>\n                <td>\n                  <input\n                    id={`multiple-checkbox-${this.state.uuid}-${val}`}\n                    className=\"rounded\"\n                    type=\"checkbox\"\n                    onChange={(evt) => this.handleChange(evt, val)}\n                    checked={this.state.selected.indexOf(val) !== -1}\n                  />\n                </td>\n                <td>\n                  <label\n                    htmlFor={`multiple-checkbox-${this.state.uuid}-${val}`}\n                  >\n                    {val}\n                  </label>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nMultipleCheckbox.propTypes = {\n  arr: PropTypes.arrayOf(PropTypes.string).isRequired,\n  selected: PropTypes.arrayOf(PropTypes.string),\n  exclude: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func, // TODO: fix!\n};\n\nexport default MultipleCheckbox;\n","import { cloneDeep } from 'lodash';\nimport './canvas';\n\n// all dimensions in this file are *CSS* pixels unless otherwise stated\nexport const DEFAULT_OPTIONS = {\n  windowMs: 5000,\n  colors: ['#2979ff', '#dd2c00', '#4caf50', '#7c4dff', '#ffa000'],\n  lineWidth: 2,\n  padding: 15,\n  keySpacing: 4,\n  keyLineLength: 12,\n  gridLineWidth: 1, // device pixels\n  gridLineColor: 'rgb(120, 120, 120)',\n  fontSize: 14,\n  textColor: 'rgb(50, 50, 50)',\n  maxTicks: 7,\n};\n\nfunction niceNum(range, round) {\n  const exponent = Math.floor(Math.log10(range));\n  const fraction = range / Math.pow(10, exponent);\n  let niceFraction;\n  if (round) {\n    if (fraction < 1.5) {\n      niceFraction = 1;\n    } else if (fraction < 3) {\n      niceFraction = 2;\n    } else if (fraction < 7) {\n      niceFraction = 5;\n    } else {\n      niceFraction = 10;\n    }\n  } else if (fraction <= 1) {\n    niceFraction = 1;\n  } else if (fraction <= 2) {\n    niceFraction = 2;\n  } else if (fraction <= 5) {\n    niceFraction = 5;\n  } else {\n    niceFraction = 10;\n  }\n  return niceFraction * Math.pow(10, exponent);\n}\n\n// interesting algorithm (see http://erison.blogspot.nl/2011/07/algorithm-for-optimal-scaling-on-chart.html)\nfunction getAxisScaling(min, max, maxTicks) {\n  const range = niceNum(max - min, false);\n  const tickSpacing = niceNum(range / (maxTicks - 1), true);\n  const niceMin = Math.floor(min / tickSpacing) * tickSpacing;\n  const niceMax = (Math.floor(max / tickSpacing) + 1) * tickSpacing;\n  return {\n    min: niceMin,\n    max: niceMax,\n    spacing: tickSpacing,\n  };\n}\n\n// shamelessly stolen from https://github.com/chartjs/Chart.js/blob/master/src/core/core.ticks.js\nfunction formatTicks(tickValue, ticks) {\n  // If we have lots of ticks, don't use the ones\n  let delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) > 1) {\n    if (tickValue !== Math.floor(tickValue)) {\n      // not an integer\n      delta = tickValue - Math.floor(tickValue);\n    }\n  }\n\n  const logDelta = Math.log10(Math.abs(delta));\n  let tickString = '';\n\n  if (tickValue !== 0) {\n    let numDecimal = -1 * Math.floor(logDelta);\n    numDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\n    tickString = tickValue.toFixed(numDecimal);\n  } else {\n    tickString = '0'; // never show decimal places for 0\n  }\n\n  return tickString;\n}\n\nfunction getTicks(axis) {\n  // get tick array\n  const ticks = [];\n  for (let i = axis.min; i <= axis.max; i += axis.spacing) {\n    ticks.push(i);\n  }\n\n  // generate strings\n  const tickStrings = [];\n  for (let i = 0; i < ticks.length; i++) {\n    const s = formatTicks(ticks[i], ticks);\n    tickStrings.push(s);\n  }\n\n  return tickStrings;\n}\n\nfunction scale(value, fromLow, fromHigh, toLow, toHigh) {\n  const frac = (toHigh - toLow) / (fromHigh - fromLow);\n  return toLow + frac * (value - fromLow);\n}\n\nexport default class Graph {\n  constructor(canvas, options) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n\n    this.options = cloneDeep(DEFAULT_OPTIONS);\n    Object.assign(this.options, options || {});\n\n    this.hasGraphableContent = false;\n\n    this.clear();\n  }\n\n  clear() {\n    this.time = [];\n    this.datasets = [];\n    this.lastSampleTime = 0;\n\n    this.hasGraphableContent = false;\n  }\n\n  addSample(sample) {\n    if (this.lastSampleTime === 0) {\n      this.lastSimTime = Date.now() + 250;\n      this.time.push(this.lastSimTime);\n      let color = 0;\n      for (let i = 0; i < sample.length; i++) {\n        if (sample[i].name === 'time') {\n          this.lastSampleTime = sample[i].value;\n        } else {\n          this.datasets.push({\n            name: sample[i].name,\n            data: [sample[i].value],\n            color: this.options.colors[color % this.options.colors.length],\n          });\n          color++;\n        }\n      }\n    } else {\n      for (let i = 0; i < sample.length; i++) {\n        if (sample[i].name === 'time') {\n          this.lastSimTime += sample[i].value - this.lastSampleTime;\n          this.time.push(this.lastSimTime);\n          this.lastSampleTime = sample[i].value;\n        } else {\n          for (let j = 0; j < this.datasets.length; j++) {\n            if (sample[i].name === this.datasets[j].name) {\n              this.datasets[j].data.push(sample[i].value);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  getAxis() {\n    // get y-axis scaling\n    let min = Number.MAX_VALUE;\n    let max = Number.MIN_VALUE;\n    for (let i = 0; i < this.datasets.length; i++) {\n      for (let j = 0; j < this.datasets[i].data.length; j++) {\n        const val = this.datasets[i].data[j];\n        if (val > max) {\n          max = val;\n        }\n        if (val < min) {\n          min = val;\n        }\n      }\n    }\n    if (Math.abs(min - max) < 1e-6) {\n      return getAxisScaling(min - 1, max + 1, this.options.maxTicks);\n    }\n    return getAxisScaling(min, max, this.options.maxTicks);\n  }\n\n  render() {\n    const o = this.options;\n\n    // eslint-disable-next-line\n    this.canvas.width = this.canvas.width; // clears the canvas\n\n    // scale the canvas to facilitate the use of CSS pixels\n    this.ctx.scale(devicePixelRatio, devicePixelRatio);\n\n    this.ctx.font = `${o.fontSize}px \"Roboto\", sans-serif`;\n    this.ctx.textBaseline = 'middle';\n    this.ctx.textAlign = 'left';\n    this.ctx.lineWidth = o.lineWidth / devicePixelRatio;\n\n    const width = this.canvas.width / devicePixelRatio;\n    const height = this.canvas.height / devicePixelRatio;\n\n    this.ctx.fillStyle = '#fff';\n    this.ctx.fillRect(0, 0, width, height);\n\n    const keyHeight = this.renderKey(0, 0, width);\n    this.renderGraph(0, keyHeight, width, height - keyHeight);\n  }\n\n  renderKey(x, y, width) {\n    const o = this.options;\n\n    this.ctx.save();\n\n    const numSets = this.datasets.length;\n    const height = numSets * o.fontSize + (numSets - 1) * o.keySpacing;\n    for (let i = 0; i < numSets; i++) {\n      const lineY = y + i * (o.fontSize + o.keySpacing) + o.fontSize / 2;\n      const name = this.datasets[i].name;\n      const color = this.datasets[i].color;\n      const lineWidth =\n        this.ctx.measureText(name).width + o.keyLineLength + o.keySpacing;\n      const lineX = x + (width - lineWidth) / 2;\n\n      this.ctx.strokeStyle = color;\n      this.ctx.beginPath();\n      this.ctx.fineMoveTo(lineX, lineY);\n      this.ctx.fineLineTo(lineX + o.keyLineLength, lineY);\n      this.ctx.stroke();\n\n      this.ctx.fillStyle = o.textColor;\n      this.ctx.fillText(name, lineX + o.keyLineLength + o.keySpacing, lineY);\n    }\n\n    this.ctx.restore();\n\n    return height;\n  }\n\n  renderGraph(x, y, width, height) {\n    const o = this.options;\n\n    if (this.datasets.length === 0 || this.datasets[0].data.length === 0) {\n      this.hasGraphableContent = false;\n\n      return;\n    }\n\n    this.hasGraphableContent = true;\n\n    // remove old points\n    const now = Date.now();\n    while (now - this.time[0] > o.windowMs + 250) {\n      this.time.shift();\n      for (let i = 0; i < this.datasets.length; i++) {\n        this.datasets[i].data.shift();\n      }\n    }\n\n    const graphHeight = height - 2 * o.padding;\n\n    const axis = this.getAxis();\n    const ticks = getTicks(axis);\n    const axisWidth = this.renderAxisLabels(\n      x + o.padding,\n      y + o.padding,\n      graphHeight,\n      ticks,\n    );\n\n    const graphWidth = width - axisWidth - 3 * o.padding;\n\n    this.renderGridLines(\n      x + axisWidth + 2 * o.padding,\n      y + o.padding,\n      graphWidth,\n      graphHeight,\n      5,\n      ticks.length,\n    );\n\n    this.renderGraphLines(\n      x + axisWidth + 2 * o.padding,\n      y + o.padding,\n      graphWidth,\n      graphHeight,\n      axis,\n    );\n  }\n\n  renderAxisLabels(x, y, height, ticks) {\n    this.ctx.save();\n\n    let width = 0;\n    for (let i = 0; i < ticks.length; i++) {\n      const textWidth = this.ctx.measureText(ticks[i]).width;\n      if (textWidth > width) {\n        width = textWidth;\n      }\n    }\n\n    // draw axis labels\n    this.ctx.textAlign = 'right';\n    this.ctx.fillStyle = this.options.textColor;\n\n    const vertSpacing = height / (ticks.length - 1);\n    x += width;\n    for (let i = 0; i < ticks.length; i++) {\n      this.ctx.fillText(ticks[i], x, y + (ticks.length - i - 1) * vertSpacing);\n    }\n\n    this.ctx.restore();\n\n    return width;\n  }\n\n  renderGridLines(x, y, width, height, numTicksX, numTicksY) {\n    this.ctx.save();\n\n    this.ctx.strokeStyle = this.options.gridLineColor;\n    this.ctx.lineWidth = this.options.gridLineWidth / devicePixelRatio;\n\n    const horSpacing = width / (numTicksX - 1);\n    const vertSpacing = height / (numTicksY - 1);\n\n    for (let i = 0; i < numTicksX; i++) {\n      const lineX = x + horSpacing * i;\n      this.ctx.beginPath();\n      this.ctx.fineMoveTo(lineX, y);\n      this.ctx.fineLineTo(lineX, y + height);\n      this.ctx.stroke();\n    }\n\n    for (let i = 0; i < numTicksY; i++) {\n      const lineY = y + vertSpacing * i;\n      this.ctx.beginPath();\n      this.ctx.fineMoveTo(x, lineY);\n      this.ctx.fineLineTo(x + width, lineY);\n      this.ctx.stroke();\n    }\n\n    this.ctx.restore();\n  }\n\n  renderGraphLines(x, y, width, height, axis) {\n    const o = this.options;\n    const now = Date.now();\n\n    this.ctx.lineWidth = o.lineWidth;\n\n    this.ctx.save();\n    this.ctx.translate(x, y);\n    this.ctx.rect(0, 0, width, height);\n    this.ctx.clip();\n\n    // draw data lines\n    // scaling is used instead of transform because of the non-uniform stretching warps the plot line\n    this.ctx.beginPath();\n    for (let i = 0; i < this.datasets.length; i++) {\n      const d = this.datasets[i];\n      this.ctx.beginPath();\n      this.ctx.strokeStyle = d.color;\n      this.ctx.fineMoveTo(\n        scale(this.time[0] - now + o.windowMs, 0, o.windowMs, 0, width),\n        scale(d.data[0], axis.min, axis.max, height, 0),\n      );\n      for (let j = 1; j < d.data.length; j++) {\n        this.ctx.fineLineTo(\n          scale(this.time[j] - now + o.windowMs, 0, o.windowMs, 0, width),\n          scale(d.data[j], axis.min, axis.max, height, 0),\n        );\n      }\n      this.ctx.stroke();\n    }\n\n    this.ctx.restore();\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass AutoFitCanvas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.resize = this.resize.bind(this);\n\n    this.containerRef = React.createRef();\n    this.resizeObserver = new ResizeObserver((entries) => {\n      for (let entry of entries) {\n        if (entry.target === this.containerRef.current) {\n          this.resize();\n        }\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.resize();\n\n    this.resizeObserver.observe(this.containerRef.current);\n  }\n\n  componentWillUnmount() {\n    this.resizeObserver.disconnect();\n  }\n\n  resize() {\n    const canvas = this.props.innerRef.current;\n    canvas.width = this.containerRef.current.clientWidth * devicePixelRatio;\n    canvas.height = this.containerRef.current.clientHeight * devicePixelRatio;\n\n    canvas.style.width = `${canvas.width / devicePixelRatio}px`;\n    canvas.style.height = `${canvas.height / devicePixelRatio}px`;\n\n    this.props.onResize?.();\n  }\n\n  render() {\n    return (\n      <div\n        style={{ width: '100%', height: this.props.containerHeight }}\n        ref={this.containerRef}\n      >\n        <canvas ref={this.props.innerRef} />\n      </div>\n    );\n  }\n}\n\nAutoFitCanvas.defaultProps = {\n  containerHeight: '100%',\n};\n\nAutoFitCanvas.propTypes = {\n  innerRef: PropTypes.any.isRequired,\n  onResize: PropTypes.func,\n  containerHeight: PropTypes.string,\n};\n\nconst ForwardedAutoFitCanvas = React.forwardRef((props, ref) => (\n  <AutoFitCanvas innerRef={ref} {...props} />\n));\nForwardedAutoFitCanvas.displayName = 'AutoFitCanvas';\nexport default ForwardedAutoFitCanvas;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Graph from './Graph';\nimport AutoFitCanvas from '../components/AutoFitCanvas';\n\nclass GraphCanvas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.canvasRef = React.createRef();\n\n    this.renderGraph = this.renderGraph.bind(this);\n  }\n\n  componentDidMount() {\n    this.graph = new Graph(this.canvasRef.current, this.props.options);\n    this.renderGraph();\n  }\n\n  componentWillUnmount() {\n    if (this.requestId) {\n      cancelAnimationFrame(this.requestId);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    this.props.data.forEach((sample) => this.graph.addSample(sample));\n\n    if (prevProps.paused !== this.props.paused) {\n      if (this.requestId) cancelAnimationFrame(this.requestId);\n\n      if (!this.props.paused) this.renderGraph();\n    }\n  }\n\n  renderGraph() {\n    if (!this.props.paused && this.graph) {\n      this.graph.render();\n      this.requestId = requestAnimationFrame(this.renderGraph);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"h-full flex-center\">\n        <div\n          className={`${\n            this.graph === null || !this.graph?.hasGraphableContent\n              ? 'hidden'\n              : ''\n          } w-full h-full`}\n        >\n          <AutoFitCanvas ref={this.canvasRef} />\n        </div>\n        <div className=\"absolute top-0 left-0 w-full h-full flex-center pointer-events-none\">\n          {(this.graph === null || !this.graph?.hasGraphableContent) && (\n            <p className=\"text-center\">No content to graph</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nGraphCanvas.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string,\n        value: PropTypes.number,\n      }),\n    ),\n  ).isRequired,\n  options: PropTypes.object,\n  paused: PropTypes.bool,\n};\n\nexport default GraphCanvas;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass TextInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.inputRef = React.createRef();\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n\n    this.state = { value: props.value };\n  }\n\n  componentDidUpdate() {\n    this.inputRef.current.setCustomValidity(\n      this.props.valid ? '' : 'Invalid input',\n    );\n\n    if (this.props.value !== this.props.validate(this.state.value).value)\n      this.setState({ value: this.props.value });\n  }\n\n  handleChange(evt) {\n    this.setState({ value: evt.target.value });\n\n    const validated = this.props.validate(evt.target.value);\n\n    if (validated) {\n      this.props.onChange(validated);\n    }\n  }\n\n  handleKeyDown(evt) {\n    if (this.props.onSave && evt.keyCode === 13) {\n      this.props.onSave();\n    }\n  }\n\n  render() {\n    return (\n      <input\n        className={`bg-gray-100 rounded border border-gray-200 px-3 py-1 ${\n          !this.props.valid\n            ? 'border-red-500 focus:ring-red-500 focus:border-red-500'\n            : ''\n        }`}\n        ref={this.inputRef}\n        type=\"text\"\n        size={15}\n        value={this.state.value}\n        onChange={this.handleChange}\n        onKeyDown={this.handleKeyDown}\n      />\n    );\n  }\n}\n\nTextInput.propTypes = {\n  value: PropTypes.any.isRequired,\n  valid: PropTypes.bool.isRequired,\n  validate: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSave: PropTypes.func,\n};\n\nexport default TextInput;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgChart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: 48,\n    viewBox: \"0 0 24 24\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChart);\nexport default __webpack_public_path__ + \"static/media/chart.c96fcda4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.d3f371b8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 5v14l11-7z\"\n});\n\nfunction SvgPlayArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"black\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlayArrow);\nexport default __webpack_public_path__ + \"static/media/play_arrow.86b126d9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n});\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.e3fdb852.svg\";\nexport { ForwardRef as ReactComponent };","export const validateDouble = (value) => {\n  if (!isNaN(Number(value)) && value !== '') {\n    return {\n      value: parseFloat(value),\n      valid: true,\n    };\n  } else {\n    return {\n      value,\n      valid: false,\n    };\n  }\n};\n\nexport const validateInt = (value) => {\n  if (/^-?\\d+$/.test(value)) {\n    return {\n      value: parseInt(value, 10),\n      valid: true,\n    };\n  } else {\n    return {\n      value,\n      valid: false,\n    };\n  }\n};\n\nexport const validateString = (value) => {\n  return {\n    value,\n    valid: true,\n  };\n};\n","import React, { Component } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport BaseView, {\n  BaseViewHeading,\n  BaseViewBody,\n  BaseViewIcons,\n  BaseViewIconButton,\n  BaseViewProps,\n  BaseViewHeadingProps,\n} from './BaseView';\nimport MultipleCheckbox from '../components/MultipleCheckbox';\nimport GraphCanvas from './GraphCanvas';\nimport TextInput from '../components/inputs/TextInput';\n\nimport { ReactComponent as ChartIcon } from '../assets/icons/chart.svg';\nimport { ReactComponent as CloseIcon } from '../assets/icons/close.svg';\nimport { ReactComponent as PlayIcon } from '../assets/icons/play_arrow.svg';\nimport { ReactComponent as PauseIcon } from '../assets/icons/pause.svg';\n\nimport { RootState } from '../store/reducers';\nimport { validateInt } from '../components/inputs/validation';\nimport { DEFAULT_OPTIONS } from './Graph';\n\ntype GraphViewState = {\n  graphing: boolean;\n  paused: boolean;\n  keys: string[];\n  windowMs: {\n    value: number;\n    valid: boolean;\n  };\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  telemetry: state.telemetry,\n});\n\nconst connector = connect(mapStateToProps);\n\ntype GraphViewProps = ConnectedProps<typeof connector> &\n  BaseViewProps &\n  BaseViewHeadingProps;\n\nclass GraphView extends Component<GraphViewProps, GraphViewState> {\n  containerRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: GraphViewProps) {\n    super(props);\n\n    this.state = {\n      graphing: false,\n      paused: false,\n      keys: [],\n      windowMs: {\n        value: DEFAULT_OPTIONS.windowMs,\n        valid: true,\n      },\n    };\n\n    this.containerRef = React.createRef();\n\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n\n    this.play = this.play.bind(this);\n    this.pause = this.pause.bind(this);\n\n    this.handleDocumentKeydown = this.handleDocumentKeydown.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.containerRef.current) {\n      this.containerRef.current.addEventListener(\n        'keydown',\n        this.handleDocumentKeydown,\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.containerRef.current) {\n      this.containerRef.current.removeEventListener(\n        'keydown',\n        this.handleDocumentKeydown,\n      );\n    }\n  }\n\n  handleDocumentKeydown(evt: KeyboardEvent) {\n    if (evt.code === 'Space' || evt.key === 'k') {\n      this.setState({\n        ...this.state,\n        paused: !this.state.paused,\n      });\n    }\n  }\n\n  start() {\n    this.setState({\n      ...this.state,\n      graphing: true,\n      paused: false,\n    });\n  }\n\n  stop() {\n    this.setState({\n      ...this.state,\n      graphing: false,\n    });\n  }\n\n  pause() {\n    this.setState({\n      ...this.state,\n      paused: true,\n    });\n  }\n\n  play() {\n    this.setState({\n      ...this.state,\n      paused: false,\n    });\n  }\n\n  render() {\n    const { telemetry } = this.props;\n    const latestPacket = telemetry[telemetry.length - 1];\n\n    const numericKeys = Object.keys(latestPacket.data).filter(\n      (key) => !isNaN(parseFloat(latestPacket.data[key])),\n    );\n    const showNoNumeric = !this.state.graphing && numericKeys.length === 0;\n    const showEmpty = this.state.graphing && this.state.keys.length === 0;\n    const showText = showNoNumeric || showEmpty;\n\n    const graphData = telemetry.map((packet) => [\n      {\n        name: 'time',\n        value: packet.timestamp,\n      },\n      ...Object.keys(packet.data)\n        .filter((key) => this.state.keys.includes(key))\n        .map((key) => {\n          return {\n            name: key,\n            value: parseFloat(packet.data[key]),\n          };\n        }),\n    ]);\n\n    return (\n      <BaseView\n        className=\"flex flex-col overflow-auto\"\n        isUnlocked={this.props.isUnlocked}\n        ref={this.containerRef}\n        tabIndex={0}\n      >\n        <div className=\"flex\">\n          <BaseViewHeading isDraggable={this.props.isDraggable}>\n            Graph\n          </BaseViewHeading>\n          <BaseViewIcons>\n            {this.state.graphing && this.state.keys.length !== 0 && (\n              <BaseViewIconButton className=\"w-8 h-8 icon-btn\">\n                {this.state.paused ? (\n                  <PlayIcon className=\"w-6 h-6\" onClick={this.play} />\n                ) : (\n                  <PauseIcon className=\"w-6 h-6\" onClick={this.pause} />\n                )}\n              </BaseViewIconButton>\n            )}\n\n            <BaseViewIconButton>\n              {this.state.graphing ? (\n                <CloseIcon className=\"w-6 h-6 text-black\" onClick={this.stop} />\n              ) : (\n                <ChartIcon className=\"w-6 h-6\" onClick={this.start} />\n              )}\n            </BaseViewIconButton>\n          </BaseViewIcons>\n        </div>\n        <BaseViewBody className={showText ? 'flex-center' : ''}>\n          {!this.state.graphing ? (\n            showNoNumeric ? (\n              <p className=\"justify-self-center text-center\">\n                Send number-valued telemetry data to graph them over time\n              </p>\n            ) : (\n              <>\n                <p className=\"my-2 text-center\">\n                  Press the upper-right button to graph selected keys over time\n                </p>\n                <h3 className=\"mt-6 font-medium\">Telemetry to graph:</h3>\n                <div className=\"ml-3\">\n                  <MultipleCheckbox\n                    arr={numericKeys}\n                    onChange={(selected: string[]) =>\n                      this.setState({ keys: selected })\n                    }\n                    selected={this.state.keys}\n                  />\n                </div>\n                <div className=\"mt-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"font-medium\">Options:</h3>\n                  </div>\n                  <div className=\"ml-3\">\n                    <table>\n                      <tbody>\n                        <tr>\n                          <td>Window (ms)</td>\n                          <td>\n                            <TextInput\n                              value={this.state.windowMs.value}\n                              valid={this.state.windowMs.valid}\n                              validate={validateInt}\n                              onChange={({\n                                value,\n                                valid,\n                              }: {\n                                value: number;\n                                valid: boolean;\n                              }) =>\n                                this.setState({\n                                  windowMs: {\n                                    value,\n                                    valid,\n                                  },\n                                })\n                              }\n                            />\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </>\n            )\n          ) : showEmpty ? (\n            <p className=\"justify-self-center text-center\">\n              No telemetry selected to graph\n            </p>\n          ) : (\n            <GraphCanvas\n              data={graphData}\n              options={{\n                windowMs: this.state.windowMs.valid\n                  ? this.state.windowMs.value\n                  : DEFAULT_OPTIONS.windowMs,\n              }}\n              paused={this.state.paused}\n            />\n          )}\n        </BaseViewBody>\n      </BaseView>\n    );\n  }\n}\n\nexport default connector(GraphView);\n","export default __webpack_public_path__ + \"static/media/field.aff32536.png\";","import { cloneDeep } from 'lodash';\nimport './canvas';\nimport fieldImageName from '../assets/field.png';\n\n// this is a bit of a hack bit it'll have to do\n// it's much better than sticking field renders in requestAnimationFrame()\nconst fieldImage = new Image();\nconst fieldsToRender = [];\nlet fieldLoaded = false;\nfieldImage.onload = function () {\n  fieldLoaded = true;\n  fieldsToRender.forEach((field) => field.render());\n};\nfieldImage.src = fieldImageName;\n\n// all dimensions in this file are *CSS* pixels unless otherwise stated\nconst DEFAULT_OPTIONS = {\n  padding: 15,\n  alpha: 0.25,\n  fieldSize: 12 * 12, // inches\n  splineSamples: 250,\n  gridLineWidth: 1, // device pixels\n  gridLineColor: 'rgb(120, 120, 120)',\n};\n\nexport default class Field {\n  constructor(canvas, options) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n\n    this.options = cloneDeep(DEFAULT_OPTIONS);\n    Object.assign(this.options, options || {});\n\n    this.overlay = {\n      ops: [],\n    };\n  }\n\n  setOverlay(overlay) {\n    this.overlay = overlay;\n  }\n\n  render() {\n    // eslint-disable-next-line\n    this.canvas.width = this.canvas.width; // clears the canvas\n\n    // scale the canvas to facilitate the use of CSS pixels\n    this.ctx.scale(devicePixelRatio, devicePixelRatio);\n\n    const width = this.canvas.width / devicePixelRatio;\n    const height = this.canvas.height / devicePixelRatio;\n    const smallerDim = width < height ? width : height;\n    const fieldSize = smallerDim - 2 * this.options.padding;\n\n    if (!fieldLoaded && fieldsToRender.indexOf(this) === -1) {\n      fieldsToRender.push(this);\n    }\n\n    this.renderField(\n      (width - fieldSize) / 2,\n      (height - fieldSize) / 2,\n      fieldSize,\n      fieldSize,\n    );\n  }\n\n  renderField(x, y, width, height) {\n    this.ctx.save();\n    this.ctx.globalAlpha = this.options.alpha;\n    this.ctx.drawImage(fieldImage, x, y, width, height);\n    this.ctx.restore();\n\n    this.renderGridLines(x, y, width, height, 7, 7);\n    this.renderOverlay(x, y, width, height);\n  }\n\n  renderGridLines(x, y, width, height, numTicksX, numTicksY) {\n    this.ctx.save();\n\n    this.ctx.strokeStyle = this.options.gridLineColor;\n    this.ctx.lineWidth = this.options.gridLineWidth / devicePixelRatio;\n\n    const horSpacing = width / (numTicksX - 1);\n    const vertSpacing = height / (numTicksY - 1);\n\n    for (let i = 0; i < numTicksX; i++) {\n      const lineX = x + horSpacing * i;\n      this.ctx.beginPath();\n      this.ctx.fineMoveTo(lineX, y);\n      this.ctx.fineLineTo(lineX, y + height);\n      this.ctx.stroke();\n    }\n\n    for (let i = 0; i < numTicksY; i++) {\n      const lineY = y + vertSpacing * i;\n      this.ctx.beginPath();\n      this.ctx.fineMoveTo(x, lineY);\n      this.ctx.fineLineTo(x + width, lineY);\n      this.ctx.stroke();\n    }\n\n    this.ctx.restore();\n  }\n\n  renderOverlay(x, y, width, height) {\n    const o = this.options;\n\n    this.ctx.save();\n    this.ctx.translate(x + width / 2, y + height / 2);\n    this.ctx.scale(width / o.fieldSize, -height / o.fieldSize);\n    this.ctx.rotate(Math.PI / 2);\n\n    this.ctx.lineCap = 'butt';\n\n    this.overlay.ops.forEach((op) => {\n      switch (op.type) {\n        case 'fill':\n          this.ctx.fillStyle = op.color;\n          break;\n        case 'stroke':\n          this.ctx.strokeStyle = op.color;\n          break;\n        case 'strokeWidth':\n          this.ctx.lineWidth = op.width;\n          break;\n        case 'circle':\n          this.ctx.beginPath();\n          this.ctx.arc(op.x, op.y, op.radius, 0, 2 * Math.PI);\n\n          if (op.stroke) {\n            this.ctx.stroke();\n          } else {\n            this.ctx.fill();\n          }\n          break;\n        case 'polygon': {\n          this.ctx.beginPath();\n          const { xPoints, yPoints, stroke } = op;\n          this.ctx.fineMoveTo(xPoints[0], yPoints[0]);\n          for (let i = 1; i < xPoints.length; i++) {\n            this.ctx.fineLineTo(xPoints[i], yPoints[i]);\n          }\n          this.ctx.closePath();\n\n          if (stroke) {\n            this.ctx.stroke();\n          } else {\n            this.ctx.fill();\n          }\n          break;\n        }\n        case 'polyline': {\n          this.ctx.beginPath();\n          const { xPoints, yPoints } = op;\n          this.ctx.fineMoveTo(xPoints[0], yPoints[0]);\n          for (let i = 1; i < xPoints.length; i++) {\n            this.ctx.fineLineTo(xPoints[i], yPoints[i]);\n          }\n          this.ctx.stroke();\n          break;\n        }\n        case 'spline': {\n          this.ctx.beginPath();\n          const { ax, bx, cx, dx, ex, fx, ay, by, cy, dy, ey, fy } = op;\n          this.ctx.fineMoveTo(fx, fy);\n          for (let i = 0; i <= o.splineSamples; i++) {\n            const t = i / o.splineSamples;\n            const sx =\n              (ax * t + bx) * (t * t * t * t) +\n              cx * (t * t * t) +\n              dx * (t * t) +\n              ex * t +\n              fx;\n            const sy =\n              (ay * t + by) * (t * t * t * t) +\n              cy * (t * t * t) +\n              dy * (t * t) +\n              ey * t +\n              fy;\n\n            this.ctx.lineTo(sx, sy);\n          }\n          this.ctx.stroke();\n          break;\n        }\n        default:\n          throw new Error(`unknown operation: ${op.type}`);\n      }\n    });\n\n    this.ctx.restore();\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport BaseView, { BaseViewHeading } from './BaseView';\nimport Field from './Field';\nimport AutoFitCanvas from '../components/AutoFitCanvas';\n\nclass FieldView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.canvasRef = React.createRef();\n\n    this.renderField = this.renderField.bind(this);\n  }\n\n  componentDidMount() {\n    this.field = new Field(this.canvasRef.current);\n    this.renderField();\n  }\n\n  componentDidUpdate() {\n    this.field.setOverlay(this.props.overlay);\n    this.renderField();\n  }\n\n  renderField() {\n    if (this.field) {\n      this.field.render();\n    }\n  }\n\n  render() {\n    return (\n      <BaseView isUnlocked={this.props.isUnlocked}>\n        <BaseViewHeading isDraggable={this.props.isDraggable}>\n          Field\n        </BaseViewHeading>\n        <AutoFitCanvas\n          ref={this.canvasRef}\n          onResize={this.renderField}\n          containerHeight=\"calc(100% - 3em)\"\n        />\n      </BaseView>\n    );\n  }\n}\n\nFieldView.propTypes = {\n  overlay: PropTypes.shape({\n    ops: PropTypes.array.isRequired,\n  }).isRequired,\n\n  isDraggable: PropTypes.bool,\n  isUnlocked: PropTypes.bool,\n};\n\nconst mapStateToProps = ({ telemetry }) => ({\n  overlay: telemetry[telemetry.length - 1].fieldOverlay,\n});\n\nexport default connect(mapStateToProps)(FieldView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst BooleanInput = ({ value, onChange, onSave }) => (\n  <span className=\"flex items-center\">\n    <input\n      className=\"mr-4 rounded\"\n      type=\"checkbox\"\n      checked={value}\n      onChange={(evt) =>\n        onChange({\n          value: evt.target.checked,\n          valid: true,\n        })\n      }\n    />\n    <button\n      className=\"bg-gray-100 px-2 rounded border border-gray-200\"\n      onClick={onSave}\n    >\n      Save\n    </button>\n  </span>\n);\n\nBooleanInput.propTypes = {\n  value: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default BooleanInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst EnumInput = ({ value, enumValues, onChange, onSave }) => (\n  <span>\n    <select\n      className=\"valid mr-4 rounded py-0\"\n      value={value}\n      onChange={(evt) =>\n        onChange({\n          value: evt.target.value,\n          valid: true,\n        })\n      }\n    >\n      {enumValues.map((enumValue) => (\n        <option key={enumValue} value={enumValue}>\n          {enumValue}\n        </option>\n      ))}\n    </select>\n    <button\n      className=\"bg-gray-100 px-2 rounded border border-gray-200\"\n      onClick={onSave}\n    >\n      Save\n    </button>\n  </span>\n);\n\nEnumInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  enumValues: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default EnumInput;\n","const VariableType = {\n  BOOLEAN: 'boolean',\n  INT: 'int',\n  DOUBLE: 'double',\n  STRING: 'string',\n  ENUM: 'enum',\n  CUSTOM: 'custom',\n} as const;\n\nexport type VariableBasic = 'boolean' | 'int' | 'string' | 'enum';\n\nexport type VariableCustom = 'custom';\n\nexport type Variable = VariableBasic | VariableCustom;\n\nexport default VariableType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport BooleanInput from '../components/inputs/BooleanInput';\nimport EnumInput from '../components/inputs/EnumInput';\nimport TextInput from '../components/inputs/TextInput';\nimport VariableType from '../enums/VariableType';\nimport {\n  validateDouble,\n  validateInt,\n  validateString,\n} from '../components/inputs/validation';\n\nclass BasicVariable extends React.Component {\n  render() {\n    const {\n      type,\n      name,\n      value,\n      enumClass,\n      enumValues,\n      modified,\n      valid,\n      onChange,\n      onSave,\n    } = this.props;\n\n    const optionOnChange = ({ valid, value }) => {\n      onChange({\n        __type: type,\n        __value: value,\n        __valid: valid,\n      });\n    };\n\n    const optionOnSave = () => {\n      if (valid && modified) {\n        onSave({\n          __type: type,\n          __value: value,\n          __valid: true,\n          __enumClass: enumClass,\n        });\n      }\n    };\n\n    let input;\n\n    switch (type) {\n      case VariableType.INT:\n        input = (\n          <TextInput\n            value={value}\n            valid={valid}\n            validate={validateInt}\n            onChange={optionOnChange}\n            onSave={optionOnSave}\n          />\n        );\n        break;\n      case VariableType.DOUBLE:\n        input = (\n          <TextInput\n            value={value}\n            valid={valid}\n            validate={validateDouble}\n            onChange={optionOnChange}\n            onSave={optionOnSave}\n          />\n        );\n        break;\n      case VariableType.STRING:\n        input = (\n          <TextInput\n            value={value}\n            valid={valid}\n            validate={validateString}\n            onChange={optionOnChange}\n            onSave={optionOnSave}\n          />\n        );\n        break;\n      case VariableType.BOOLEAN:\n        input = (\n          <BooleanInput\n            value={value}\n            onChange={optionOnChange}\n            onSave={optionOnSave}\n          />\n        );\n        break;\n      case VariableType.ENUM:\n        input = (\n          <EnumInput\n            value={value}\n            enumValues={enumValues}\n            onChange={optionOnChange}\n            onSave={optionOnSave}\n          />\n        );\n        break;\n      default:\n        input = <p>Unknown option type: {type}</p>;\n    }\n\n    return (\n      <tr>\n        <td>\n          <span\n            style={\n              modified\n                ? {\n                    userSelect: 'auto',\n                    opacity: 1.0,\n                  }\n                : {\n                    userSelect: 'none',\n                    opacity: 0.0,\n                  }\n            }\n          >\n            *\n          </span>\n          {name}\n        </td>\n        <td>{input}</td>\n      </tr>\n    );\n  }\n}\n\nBasicVariable.propTypes = {\n  type: PropTypes.oneOf(Object.values(VariableType)).isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.any.isRequired,\n  modified: PropTypes.bool.isRequired,\n  valid: PropTypes.bool.isRequired,\n  enumClass: PropTypes.string,\n  enumValues: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default BasicVariable;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgExpandMore(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExpandMore);\nexport default __webpack_public_path__ + \"static/media/expand_more.0948064e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport BasicVariable from './BasicVariable';\nimport VariableType from '../enums/VariableType';\n\nimport { ReactComponent as ExpandedMoreIcon } from '../assets/icons/expand_more.svg';\n\nclass CustomVariable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expanded: false,\n    };\n\n    this.toggleVisibility = this.toggleVisibility.bind(this);\n  }\n\n  toggleVisibility() {\n    this.setState({\n      expanded: !this.state.expanded,\n    });\n  }\n\n  render() {\n    const { name, value } = this.props;\n\n    const sortedKeys = Object.keys(value);\n\n    sortedKeys.sort();\n\n    const options = sortedKeys.map((key) => {\n      const child = value[key];\n\n      const onChange = (newValue) => {\n        this.props.onChange({\n          __type: VariableType.CUSTOM,\n          __value: {\n            [key]: newValue,\n          },\n        });\n      };\n\n      const onSave = (newValue) => {\n        this.props.onSave({\n          __type: VariableType.CUSTOM,\n          __value: {\n            [key]: newValue,\n          },\n        });\n      };\n\n      if (child.__type === VariableType.CUSTOM) {\n        return (\n          <CustomVariable\n            key={key}\n            name={key}\n            value={child.__value}\n            onChange={onChange}\n            onSave={onSave}\n          />\n        );\n      }\n\n      return (\n        <BasicVariable\n          key={key}\n          type={child.__type}\n          name={key}\n          value={child.__newValue}\n          valid={child.__valid}\n          enumClass={child.__enumClass}\n          enumValues={child.__enumValues}\n          modified={child.__modified}\n          onChange={onChange}\n          onSave={onSave}\n        />\n      );\n    });\n\n    return (\n      <tr>\n        <td>\n          <div\n            className=\"option-header py-1 cursor-pointer\"\n            onClick={this.toggleVisibility}\n          >\n            <div\n              className={`w-7 h-7 mr-2 bg-gray-100 flex-center rounded-full border border-gray-200 hover:border-gray-400 hover:bg-gray-200\n                          transition transform ${\n                            this.state.expanded ? `` : '-rotate-90'\n                          }`}\n            >\n              <ExpandedMoreIcon className=\"w-6 h-6\" />\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <h3 className=\"text-lg select-none\">{name}</h3>\n            </div>\n          </div>\n          {this.state.expanded && (\n            <table>\n              <tbody>{options}</tbody>\n            </table>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nCustomVariable.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default CustomVariable;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n});\n\nfunction SvgSave(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: 48,\n    viewBox: \"0 0 24 24\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSave);\nexport default __webpack_public_path__ + \"static/media/save.06788d39.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgRefresh(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: 48,\n    viewBox: \"0 0 24 24\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRefresh);\nexport default __webpack_public_path__ + \"static/media/refresh.3eb6d696.svg\";\nexport { ForwardRef as ReactComponent };","export const RECEIVE_IMAGE = 'RECEIVE_IMAGE';\n\nexport type CameraState = {\n  imageStr: string;\n};\n\nexport type ReceiveImageAction = {\n  type: typeof RECEIVE_IMAGE;\n  imageString: string;\n};\n","import { Values, Extends } from '../../typeHelpers';\n\nimport VariableType, {\n  VariableBasic,\n  VariableCustom,\n} from '../../enums/VariableType';\n\nexport const RECEIVE_CONFIG = 'RECEIVE_CONFIG';\nexport const GET_CONFIG = 'GET_CONFIG';\nexport const UPDATE_CONFIG = 'UPDATE_CONFIG';\nexport const SAVE_CONFIG = 'SAVE_CONFIG';\nexport const REFRESH_CONFIG = 'REFRESH_CONFIG';\n\nexport type Config = ConfigCustom | ConfigVariable;\n\nexport type ConfigCustom = {\n  __type: Extends<Values<typeof VariableType>, VariableCustom>;\n  __value: Record<string, Config>;\n};\n\nexport type ConfigVariable = {\n  __type: Extends<Values<typeof VariableType>, VariableBasic>;\n  __value: number | boolean | string;\n  __newValue: number | boolean | string;\n  __valid: boolean;\n  __modified: boolean;\n  __enumClass: string;\n  __enumValues: string[];\n};\n\nexport type ConfigState = {\n  configRoot: Config;\n};\n\nexport type ReceiveConfigAction = {\n  type: typeof RECEIVE_CONFIG;\n  configRoot: Config;\n};\n\nexport type GetConfigAction = {\n  type: typeof GET_CONFIG;\n};\nexport type UpdateConfigAction = {\n  type: typeof UPDATE_CONFIG;\n  configDiff: Config;\n};\nexport type SaveConfigAction = {\n  type: typeof SAVE_CONFIG;\n  configDiff: Config;\n};\nexport type RefreshConfigAction = {\n  type: typeof REFRESH_CONFIG;\n};\n","export const GAMEPAD_CONNECTED = 'GAMEPAD_CONNECTED';\nexport const GAMEPAD_DISCONNECTED = 'GAMEPAD_DISCONNECTED';\nexport const RECEIVE_GAMEPAD_STATE = 'RECEIVE_GAMEPAD_STATE';\n\nexport type GamepadState = {\n  left_stick_x: number;\n  left_stick_y: number;\n  right_stick_x: number;\n  right_stick_y: number;\n\n  dpad_up: boolean;\n  dpad_down: boolean;\n  dpad_left: boolean;\n  dpad_right: boolean;\n\n  a: boolean;\n  b: boolean;\n  x: boolean;\n  y: boolean;\n\n  guide: boolean;\n  start: boolean;\n  back: boolean;\n\n  left_bumper: boolean;\n  right_bumper: boolean;\n\n  left_stick_button: boolean;\n  right_stick_button: boolean;\n\n  left_trigger: number;\n  right_trigger: number;\n\n  touchpad?: boolean;\n};\n\nexport type GamepadConnectionState = {\n  gamepad1Connected: boolean;\n  gamepad2Connected: boolean;\n};\n\nexport type GamepadConnectedAction = {\n  type: typeof GAMEPAD_CONNECTED;\n  user: number;\n};\n\nexport type GamepadDisonnectedAction = {\n  type: typeof GAMEPAD_DISCONNECTED;\n  user: number;\n};\n\nexport type ReceiveGamepadStateAction = {\n  type: typeof RECEIVE_GAMEPAD_STATE;\n  gamepad1: GamepadState;\n  gamepad2: GamepadState;\n};\n","export const INIT_OP_MODE = 'INIT_OP_MODE';\nexport const START_OP_MODE = 'START_OP_MODE';\nexport const STOP_OP_MODE = 'STOP_OP_MODE';\n\nexport type InitOpModeAction = {\n  type: typeof INIT_OP_MODE;\n  opModeName: string;\n};\n\nexport type StartOpModeAction = {\n  type: typeof START_OP_MODE;\n};\n\nexport type StopOpModeAction = {\n  type: typeof STOP_OP_MODE;\n};\n","import { Values } from '../../typeHelpers';\n\nimport LayoutPreset from '../../enums/LayoutPreset';\n\nexport const SAVE_LAYOUT_PRESET = 'SAVE_LAYOUT_PRESET';\nexport const RECEIVE_LAYOUT_PRESET = 'RECEIVE_LAYOUT_PRESET';\nexport const GET_LAYOUT_PRESET = 'GET_LAYOUT_PRESET';\n\nexport type SettingState = {\n  layoutPreset: Values<typeof LayoutPreset>;\n};\n\nexport type SaveLayoutPresetAction = {\n  type: typeof SAVE_LAYOUT_PRESET;\n  preset: Values<typeof LayoutPreset>;\n};\n\nexport type ReceiveLayoutPresetAction = {\n  type: typeof RECEIVE_LAYOUT_PRESET;\n  preset: Values<typeof LayoutPreset>;\n};\n\nexport type GetLayoutPresetAction = {\n  type: typeof GET_LAYOUT_PRESET;\n};\n","export const CONNECT = 'CONNECT';\nexport const DISCONNECT = 'DISCONNECT';\nexport const RECEIVE_PING_TIME = 'RECEIVE_PING_TIME';\nexport const RECEIVE_CONNECTION_STATUS = 'RECEIVE_CONNECTION_STATUS';\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\n\nexport type SocketState = {\n  isConnected: boolean;\n  pingTime: number;\n};\n\nexport type ConnectAction = {\n  type: typeof CONNECT;\n  host: string;\n  port: string;\n};\n\nexport type DisconnectAction = {\n  type: typeof DISCONNECT;\n};\n\nexport type ReceivePingTimeAction = {\n  type: typeof RECEIVE_PING_TIME;\n  pingTime: number;\n};\n\nexport type ReceiveConnectionStatusAction = {\n  type: typeof RECEIVE_CONNECTION_STATUS;\n  isConnected: boolean;\n};\n","import OpModeStatus from './../../enums/OpModeStatus';\nimport { Values } from '../../typeHelpers';\n\nexport const GET_ROBOT_STATUS = 'GET_ROBOT_STATUS';\nexport const RECEIVE_ROBOT_STATUS = 'RECEIVE_ROBOT_STATUS';\nexport const RECEIVE_OP_MODE_LIST = 'RECEIVE_OP_MODE_LIST';\n\nexport type StatusState = {\n  available: boolean;\n  activeOpMode: string;\n  activeOpModeStatus: Values<typeof OpModeStatus>;\n  opModeList: string[];\n  warningMessage: string;\n  errorMessage: string;\n};\n\nexport type GetRobotStatusAction = {\n  type: typeof GET_ROBOT_STATUS;\n};\n\nexport type ReceiveRobotStatusAction = {\n  type: typeof RECEIVE_ROBOT_STATUS;\n  status: StatusState;\n};\n\nexport type ReceiveOpModeListAction = {\n  type: typeof RECEIVE_OP_MODE_LIST;\n  opModeList: string[];\n};\n","export const RECEIVE_TELEMETRY = 'RECEIVE_TELEMETRY';\n\nexport type Telemetry = TelemetryItem[];\n\ntype Fill = {\n  type: 'fill';\n  color: string;\n};\n\ntype Stroke = {\n  type: 'stroke';\n  color: string;\n};\n\ntype StrokeWidth = {\n  type: 'strokeWidth';\n  lineWidth: number;\n};\n\ntype Circle = {\n  type: 'circle';\n  x: number;\n  y: number;\n  radius: number;\n};\n\ntype Polygon = {\n  type: 'polygon';\n  xPoints: number[];\n  yPoints: number[];\n  stroke: string;\n};\n\ntype Polyline = {\n  type: 'polyline';\n  xPoints: number[];\n  yPoints: number[];\n};\n\ntype Spline = {\n  type: 'spline';\n  ax: number;\n  bx: number;\n  cx: number;\n  dx: number;\n  ex: number;\n  fx: number;\n  ay: number;\n  by: number;\n  cy: number;\n  dy: number;\n  ey: number;\n  fy: number;\n};\n\ntype DrawOp =\n  | Fill\n  | Stroke\n  | StrokeWidth\n  | Circle\n  | Polygon\n  | Polyline\n  | Spline;\n\nexport type TelemetryItem = {\n  data: {\n    [key: string]: string;\n  };\n\n  fieldOverlay: {\n    ops: DrawOp[];\n  };\n  log: string[];\n  timestamp: number;\n};\n\nexport type ReceiveTelemetryAction = {\n  type: typeof RECEIVE_TELEMETRY;\n  telemetry: Telemetry;\n};\n","import { isEmpty } from 'lodash';\nimport VariableType from '../../enums/VariableType';\nimport {\n  Config,\n  ConfigCustom,\n  GetConfigAction,\n  ReceiveConfigAction,\n  RefreshConfigAction,\n  SaveConfigAction,\n  UpdateConfigAction,\n  GET_CONFIG,\n  REFRESH_CONFIG,\n  SAVE_CONFIG,\n  UPDATE_CONFIG,\n  ConfigVariable,\n} from '../types';\n\nexport const receiveConfig = (config: Config): ReceiveConfigAction => ({\n  type: 'RECEIVE_CONFIG',\n  configRoot: config,\n});\n\nexport const getConfig = (): GetConfigAction => ({\n  type: GET_CONFIG,\n});\n\nexport const updateConfig = (configDiff: Config): UpdateConfigAction => ({\n  type: UPDATE_CONFIG,\n  configDiff,\n});\n\nexport const saveConfig = (configDiff: Config): SaveConfigAction => ({\n  type: SAVE_CONFIG,\n  configDiff,\n});\n\nexport const refreshConfig = (): RefreshConfigAction => ({\n  type: REFRESH_CONFIG,\n});\n\nconst getModifiedDiffHelper = (baseConfig: Config): Config | undefined => {\n  if (baseConfig.__type === VariableType.CUSTOM) {\n    const modifiedConfig: ConfigCustom = {\n      __type: VariableType.CUSTOM,\n      __value: {},\n    };\n\n    for (const key of Object.keys(baseConfig.__value)) {\n      const subConfig = getModifiedDiffHelper(baseConfig.__value[key]);\n\n      if (subConfig) {\n        modifiedConfig.__value[key] = subConfig as Config;\n      }\n    }\n    if (!isEmpty(modifiedConfig.__value)) {\n      return modifiedConfig;\n    }\n  } else if (baseConfig.__modified && baseConfig.__valid) {\n    return {\n      __type: baseConfig.__type,\n      __value: baseConfig.__newValue,\n      __valid: true,\n      __enumClass: baseConfig.__enumClass,\n    } as ConfigVariable;\n  }\n};\n\nexport const getModifiedDiff = (baseConfig: Config): Config =>\n  getModifiedDiffHelper(baseConfig) ?? {\n    __type: VariableType.CUSTOM,\n    __value: {},\n  };\n","import { useDispatch, useSelector } from 'react-redux';\n\nimport CustomVariable from './CustomVariable';\nimport BaseView, {\n  BaseViewProps,\n  BaseViewHeadingProps,\n  BaseViewHeading,\n  BaseViewBody,\n  BaseViewIcons,\n  BaseViewIconButton,\n} from './BaseView';\n\nimport { ReactComponent as SaveIcon } from '../assets/icons/save.svg';\nimport { ReactComponent as RefreshIcon } from '../assets/icons/refresh.svg';\n\nimport {\n  updateConfig,\n  saveConfig,\n  refreshConfig,\n  getModifiedDiff,\n} from '../store/actions/config';\nimport VariableType from '../enums/VariableType';\nimport { RootState } from '../store/reducers';\nimport { Config, ConfigCustom } from '../store/types';\n\ntype ConfigViewProps = BaseViewProps & BaseViewHeadingProps;\n\nconst ConfigView = ({\n  isDraggable = false,\n  isUnlocked = false,\n}: ConfigViewProps) => {\n  const dispatch = useDispatch();\n  const configRoot = useSelector((state: RootState) => state.config.configRoot);\n\n  const onRefresh = () => dispatch(refreshConfig());\n  const onSave = (configDiff: Config) => dispatch(saveConfig(configDiff));\n  const onChange = (configDiff: Config) => dispatch(updateConfig(configDiff));\n\n  const sortedKeys = Object.keys(configRoot.__value || {});\n\n  sortedKeys.sort();\n\n  return (\n    <BaseView isUnlocked={isUnlocked}>\n      <div className=\"flex\">\n        <BaseViewHeading isDraggable={isDraggable}>\n          Configuration\n        </BaseViewHeading>\n        <BaseViewIcons>\n          <BaseViewIconButton\n            onClick={() => onSave(getModifiedDiff(configRoot))}\n          >\n            <SaveIcon className=\"w-6 h-6\" />\n          </BaseViewIconButton>\n          <BaseViewIconButton onClick={onRefresh}>\n            <RefreshIcon className=\"w-6 h-6\" />\n          </BaseViewIconButton>\n        </BaseViewIcons>\n      </div>\n      <BaseViewBody>\n        <table className=\"block h-full\">\n          <tbody>\n            {sortedKeys.map((key) => (\n              <CustomVariable\n                key={key}\n                name={key}\n                value={(configRoot as ConfigCustom).__value[key].__value || {}}\n                onChange={(newValue: Config) => {\n                  onChange({\n                    __type: VariableType.CUSTOM,\n                    __value: {\n                      [key]: newValue,\n                    },\n                  } as ConfigCustom);\n                }}\n                onSave={(newValue: Config) => {\n                  onSave({\n                    __type: VariableType.CUSTOM,\n                    __value: {\n                      [key]: newValue,\n                    },\n                  });\n                }}\n              />\n            ))}\n          </tbody>\n        </table>\n      </BaseViewBody>\n    </BaseView>\n  );\n};\n\nexport default ConfigView;\n","import { useSelector } from 'react-redux';\n\nimport BaseView, {\n  BaseViewHeading,\n  BaseViewBody,\n  BaseViewProps,\n  BaseViewHeadingProps,\n} from './BaseView';\nimport { RootState } from '../store/reducers';\n\ntype TelemetryViewProps = BaseViewProps & BaseViewHeadingProps;\n\nconst TelemetryView = ({\n  isDraggable = false,\n  isUnlocked = false,\n}: TelemetryViewProps) => {\n  const telemetry = useSelector((state: RootState) => state.telemetry);\n\n  const latestPacket = telemetry[telemetry.length - 1];\n  const telemetryLines = Object.keys(latestPacket.data).map((key) => (\n    <span key={key}>\n      {key}: {latestPacket.data[key]}\n      <br />\n    </span>\n  ));\n\n  const telemetryLog = latestPacket.log.map((line, i) => (\n    <span key={i}>\n      {line}\n      <br />\n    </span>\n  ));\n\n  return (\n    <BaseView isUnlocked={isUnlocked}>\n      <BaseViewHeading isDraggable={isDraggable}>Telemetry</BaseViewHeading>\n      <BaseViewBody>\n        <p>{telemetryLines}</p>\n        <p>{telemetryLog}</p>\n      </BaseViewBody>\n    </BaseView>\n  );\n};\n\nexport default TelemetryView;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport AutoFitCanvas from '../components/AutoFitCanvas';\nimport { ReactComponent as RefreshIcon } from '../assets/icons/refresh.svg';\nimport BaseView, {\n  BaseViewHeading,\n  BaseViewBody,\n  BaseViewIcons,\n  BaseViewIconButton,\n} from './BaseView';\n\nclass CameraView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.canvasRef = React.createRef();\n\n    this.renderImage = this.renderImage.bind(this);\n\n    this.image = new Image();\n    this.image.onload = this.renderImage;\n\n    this.state = {\n      rotation: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.ctx = this.canvasRef.current.getContext('2d');\n  }\n\n  componentDidUpdate() {\n    this.image.src = `data:image/jpeg;base64,${this.props.imageStr}`;\n  }\n\n  renderImage() {\n    if (this.ctx && this.props.imageStr.length > 0) {\n      const canvas = this.canvasRef.current;\n\n      // eslint-disable-next-line\n      canvas.width = canvas.width; // clears the canvas\n\n      const viewportWidth = canvas.width;\n      const viewportHeight = canvas.height;\n\n      // rotate the image\n      const scale = Math.min(\n        devicePixelRatio,\n        (this.state.rotation % 2 === 0 ? viewportHeight : viewportWidth) /\n          this.image.height,\n        (this.state.rotation % 2 === 0 ? viewportWidth : viewportHeight) /\n          this.image.width,\n      );\n      this.ctx.translate(viewportWidth / 2, viewportHeight / 2);\n      this.ctx.rotate((this.state.rotation * Math.PI) / 2);\n      this.ctx.scale(scale, scale);\n      this.ctx.drawImage(\n        this.image,\n        -this.image.width / 2,\n        -this.image.height / 2,\n        this.image.width,\n        this.image.height,\n      );\n    }\n  }\n\n  render() {\n    return (\n      <BaseView isUnlocked={this.props.isUnlocked}>\n        <div className=\"flex\">\n          <BaseViewHeading isDraggable={this.props.isDraggable}>\n            Camera\n          </BaseViewHeading>\n          <BaseViewIcons>\n            <BaseViewIconButton>\n              <RefreshIcon\n                className=\"w-6 h-6\"\n                onClick={() =>\n                  this.setState({ rotation: (this.state.rotation + 1) % 4 })\n                }\n              />\n            </BaseViewIconButton>\n          </BaseViewIcons>\n        </div>\n        <BaseViewBody>\n          <div style={{ height: '100%', minHeight: '10rem' }}>\n            <AutoFitCanvas ref={this.canvasRef} onResize={this.renderImage} />\n          </div>\n        </BaseViewBody>\n      </BaseView>\n    );\n  }\n}\n\nCameraView.propTypes = {\n  imageStr: PropTypes.string.isRequired,\n\n  isDraggable: PropTypes.bool,\n  isUnlocked: PropTypes.bool,\n};\n\nconst mapStateToProps = ({ camera }) => ({\n  imageStr: camera.imageStr,\n});\n\nexport default connect(mapStateToProps)(CameraView);\n","export const OpModeStatus = {\n  INIT: 'INIT',\n  RUNNING: 'RUNNING',\n  STOPPED: 'STOPPED',\n} as const;\n\nexport default OpModeStatus;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.97,16L5,19C4.67,19.3 4.23,19.5 3.75,19.5A1.75,1.75 0 0,1 2,17.75V17.5L3,10.12C3.21,7.81 5.14,6 7.5,6H16.5C18.86,6 20.79,7.81 21,10.12L22,17.5V17.75A1.75,1.75 0 0,1 20.25,19.5C19.77,19.5 19.33,19.3 19,19L16.03,16H7.97M7,8V10H5V11H7V13H8V11H10V10H8V8H7M16.5,8A0.75,0.75 0 0,0 15.75,8.75A0.75,0.75 0 0,0 16.5,9.5A0.75,0.75 0 0,0 17.25,8.75A0.75,0.75 0 0,0 16.5,8M14.75,9.75A0.75,0.75 0 0,0 14,10.5A0.75,0.75 0 0,0 14.75,11.25A0.75,0.75 0 0,0 15.5,10.5A0.75,0.75 0 0,0 14.75,9.75M18.25,9.75A0.75,0.75 0 0,0 17.5,10.5A0.75,0.75 0 0,0 18.25,11.25A0.75,0.75 0 0,0 19,10.5A0.75,0.75 0 0,0 18.25,9.75M16.5,11.5A0.75,0.75 0 0,0 15.75,12.25A0.75,0.75 0 0,0 16.5,13A0.75,0.75 0 0,0 17.25,12.25A0.75,0.75 0 0,0 16.5,11.5Z\"\n});\n\nfunction SvgGamepad(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: 48,\n    viewBox: \"0 0 24 24\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGamepad);\nexport default __webpack_public_path__ + \"static/media/gamepad.88b10fce.svg\";\nexport { ForwardRef as ReactComponent };","import { Component, ChangeEvent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport styled from 'styled-components';\n\nimport { RootState } from '../store/reducers';\nimport { initOpMode, startOpMode, stopOpMode } from '../store/actions/opmode';\nimport OpModeStatus from '../enums/OpModeStatus';\nimport BaseView, {\n  BaseViewHeading,\n  BaseViewBody,\n  BaseViewIcon,\n  BaseViewIcons,\n  BaseViewProps,\n  BaseViewHeadingProps,\n} from './BaseView';\n\nimport { ReactComponent as GamepadIcon } from '../assets/icons/gamepad.svg';\n\ntype OpModeViewState = {\n  selectedOpMode: string;\n};\n\nconst STOP_OP_MODE = '$Stop$Robot$';\n\nconst mapStateToProps = ({ status, gamepad }: RootState) => ({\n  ...status,\n  ...gamepad,\n});\n\nconst mapDispatchToProps = {\n  initOpMode: (opModeName: string) => initOpMode(opModeName),\n  startOpMode: () => startOpMode(),\n  stopOpMode: () => stopOpMode(),\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ntype OpModeViewProps = ConnectedProps<typeof connector> &\n  BaseViewProps &\n  BaseViewHeadingProps;\n\nconst ActionButton = styled.button.attrs<{ className: string }>((props) => ({\n  className: `ml-2 py-1 px-3 border rounded-md shadow-md ${props.className}`,\n}))``;\n\nclass OpModeView extends Component<OpModeViewProps, OpModeViewState> {\n  constructor(props: OpModeViewProps) {\n    super(props);\n\n    this.state = {\n      selectedOpMode: '',\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  static getDerivedStateFromProps(\n    props: OpModeViewProps,\n    state: OpModeViewState,\n  ) {\n    if (props.activeOpMode !== STOP_OP_MODE) {\n      return {\n        selectedOpMode: props.activeOpMode,\n      };\n    } else if (\n      state.selectedOpMode === '' ||\n      props.opModeList.indexOf(state.selectedOpMode) === -1\n    ) {\n      return {\n        selectedOpMode: props.opModeList[0] || '',\n      };\n    } else {\n      return {};\n    }\n  }\n\n  onChange(evt: ChangeEvent<HTMLSelectElement>) {\n    this.setState({\n      selectedOpMode: evt.target.value,\n    });\n  }\n\n  renderInitButton() {\n    return (\n      <ActionButton\n        className=\"bg-blue-200 border-blue-300\"\n        onClick={() => this.props.initOpMode(this.state.selectedOpMode)}\n      >\n        Init\n      </ActionButton>\n    );\n  }\n\n  renderStartButton() {\n    return (\n      <ActionButton\n        className=\"bg-green-200 border-green-300\"\n        onClick={() => this.props.startOpMode()}\n      >\n        Start\n      </ActionButton>\n    );\n  }\n\n  renderStopButton() {\n    return (\n      <ActionButton\n        className=\"bg-red-200 border-red-300\"\n        onClick={() => this.props.stopOpMode()}\n      >\n        Stop\n      </ActionButton>\n    );\n  }\n\n  renderButtons() {\n    const { activeOpMode, activeOpModeStatus, opModeList } = this.props;\n\n    if (opModeList.length === 0) {\n      return null;\n    } else if (activeOpMode === STOP_OP_MODE) {\n      return this.renderInitButton();\n    } else if (activeOpModeStatus === OpModeStatus.INIT) {\n      return (\n        <span>\n          {this.renderStartButton()}\n          {this.renderStopButton()}\n        </span>\n      );\n    } else if (activeOpModeStatus === OpModeStatus.RUNNING) {\n      return this.renderStopButton();\n    } else if (activeOpModeStatus === OpModeStatus.STOPPED) {\n      return null;\n    } else {\n      return <p>Unknown op mode status: {activeOpModeStatus}</p>;\n    }\n  }\n\n  render() {\n    const {\n      available,\n      activeOpMode,\n      opModeList,\n      warningMessage,\n      errorMessage,\n    } = this.props;\n\n    const { gamepad1Connected, gamepad2Connected } = this.props;\n\n    if (!available) {\n      return (\n        <BaseView isUnlocked={this.props.isUnlocked}>\n          <BaseViewHeading isDraggable={this.props.isDraggable}>\n            Op Mode\n          </BaseViewHeading>\n          <BaseViewBody className=\"flex-center\">\n            <h3 className=\"text-md text-center\">\n              Op mode controls have not initialized\n            </h3>\n          </BaseViewBody>\n        </BaseView>\n      );\n    }\n\n    return (\n      <BaseView isUnlocked={this.props.isUnlocked}>\n        <div className=\"flex\">\n          <BaseViewHeading isDraggable={this.props.isDraggable}>\n            Op Mode\n          </BaseViewHeading>\n          <BaseViewIcons>\n            <BaseViewIcon>\n              <GamepadIcon\n                className=\"w-6 h-6\"\n                style={{\n                  opacity: gamepad1Connected ? 1.0 : 0.3,\n                }}\n              />\n            </BaseViewIcon>\n            <BaseViewIcon>\n              <GamepadIcon\n                className=\"w-6 h-6\"\n                style={{\n                  opacity: gamepad2Connected ? 1.0 : 0.3,\n                }}\n              />\n            </BaseViewIcon>\n          </BaseViewIcons>\n        </div>\n        <BaseViewBody>\n          <select\n            className=\"bg-gray-200 rounded p-1 pr-6 m-1 mr-2 border border-gray-300 shadow-md disabled:shadow-none disabled:text-gray-600 transition\"\n            value={this.state.selectedOpMode}\n            disabled={activeOpMode !== STOP_OP_MODE || opModeList.length === 0}\n            onChange={this.onChange}\n          >\n            {opModeList.length === 0 ? (\n              <option>Loading...</option>\n            ) : (\n              opModeList\n                .sort()\n                .map((opMode: string) => <option key={opMode}>{opMode}</option>)\n            )}\n          </select>\n          {this.renderButtons()}\n          {errorMessage !== '' && (\n            <p className=\"error mt-5 ml-1\">Error: {errorMessage}</p>\n          )}\n          {warningMessage !== '' && (\n            <p className=\"warning mt-5 ml-1\">Warning: {warningMessage}</p>\n          )}\n        </BaseViewBody>\n      </BaseView>\n    );\n  }\n}\n\nexport default connector(OpModeView);\n","import {\n  InitOpModeAction,\n  INIT_OP_MODE,\n  StartOpModeAction,\n  START_OP_MODE,\n  StopOpModeAction,\n  STOP_OP_MODE,\n} from '../types';\n\nexport const initOpMode = (opModeName: string): InitOpModeAction => ({\n  type: INIT_OP_MODE,\n  opModeName,\n});\n\nexport const startOpMode = (): StartOpModeAction => ({\n  type: START_OP_MODE,\n});\n\nexport const stopOpMode = (): StopOpModeAction => ({\n  type: STOP_OP_MODE,\n});\n","import React, { ReactElement } from 'react';\nimport styled from 'styled-components';\n\nimport { WithChildren } from '../../typeHelpers';\n\ntype RadialFabProps = {\n  isOpen: boolean;\n  isShowing: boolean;\n\n  icon: string;\n\n  customClassName: string;\n\n  width?: string;\n  height?: string;\n\n  bottom?: string;\n  right?: string;\n\n  clickEvent: () => void;\n};\n\nconst FixedContainer = styled.div<RadialFabProps>`\n  position: fixed;\n  bottom: ${({ bottom, height, isShowing }) =>\n    isShowing ? bottom : `calc(${bottom} - (${height} * 2)) `};\n  right: ${({ right }) => right};\n\n  transition: bottom 300ms ease;\n`;\n\nconst FloatingButton = styled.button.attrs<RadialFabProps>(\n  ({ customClassName }) => ({\n    className: `focus:outline-none focus:ring-2 focus:ring-opacity-50 flex-center transition ${customClassName}`,\n  }),\n)<RadialFabProps>`\n  width: ${({ width }) => width};\n  height: ${({ height }) => height};\n\n  border-radius: 50%;\n\n  padding: 0;\n\n  border: none;\n  outline: none !important;\n\n  transition: 300ms ease;\n`;\n\nconst CreateIcon = styled.img`\n  width: 1.95em;\n  color: white;\n`;\n\nconst RadialFab = (props: WithChildren<RadialFabProps>) => {\n  return (\n    <FixedContainer {...props}>\n      <FloatingButton {...props} onClick={props.clickEvent}>\n        <CreateIcon src={props.icon} />\n      </FloatingButton>\n      {React.Children.map(props.children, (e) =>\n        React.cloneElement(e as ReactElement, { isOpen: props.isOpen }),\n      )}\n    </FixedContainer>\n  );\n};\n\nRadialFab.defaultProps = {\n  width: '4em',\n  height: '4em',\n  bottom: '2em',\n  right: '2em',\n};\n\nexport default RadialFab;\n","import styled from 'styled-components';\n\nimport { WithChildren } from '../../typeHelpers';\nimport useDelayedTooltip from '../../hooks/useDelayedTooltip';\n\ntype RadialFabChildProps = {\n  customClass?: string;\n\n  fineAdjustIconX?: string;\n  fineAdjustIconY?: string;\n\n  angle: number;\n  openMargin?: string;\n\n  isOpen?: boolean;\n\n  toolTipText?: string;\n\n  clickEvent?: (e: React.MouseEvent) => void;\n};\n\nconst ButtonContainer = styled.button.attrs<RadialFabChildProps>(\n  ({ customClass }) => ({\n    className: `top-1/2 left-1/2 rounded-full outline-none focus:outline-none relative flex-center transition ${customClass}`,\n  }),\n)<RadialFabChildProps>`\n  /* Not sure why but removing this and replacing it with the tailwind absolute class breaks the button */\n  position: absolute;\n\n  transform: ${({ angle, openMargin, isOpen }) => {\n    const displacementX = `calc(${\n      isOpen ? Math.cos(angle) : 0\n    } * ${openMargin} - 50%)`;\n    const displacementY = `calc(${\n      isOpen ? Math.sin(angle) : 0\n    } * ${openMargin} - 50%)`;\n\n    return `translate(${displacementX}, ${displacementY})`;\n  }};\n\n  z-index: -1;\n`;\n\nconst Icon = styled.div<RadialFabChildProps>`\n  transition: transform 300ms ease;\n\n  transform: ${({ fineAdjustIconX, fineAdjustIconY, isOpen }) =>\n    `translate(${fineAdjustIconX}, ${fineAdjustIconY}) rotate(${\n      isOpen ? 0 : 90\n    }deg)`};\n`;\n\nconst ToolTip = styled.span.attrs<{ isShowing: boolean }>(({ isShowing }) => ({\n  className: `rounded-md px-3 py-1 absolute w-max bg-gray-800 bg-opacity-80 text-white text-sm pointer-events-none transform transition ${\n    isShowing ? '-translate-y-11 opacity-100' : '-translate-y-9 opacity-0'\n  }`,\n}))<{ isShowing: boolean }>``;\n\nconst RadialFabChild = (props: WithChildren<RadialFabChildProps>) => {\n  const { isShowingTooltip, ref } = useDelayedTooltip(0.5);\n\n  return (\n    <ButtonContainer {...props} onClick={props.clickEvent} ref={ref}>\n      <Icon {...props}>{props.children}</Icon>\n      {props.toolTipText !== '' && (\n        <ToolTip isShowing={isShowingTooltip}>{props.toolTipText}</ToolTip>\n      )}\n    </ButtonContainer>\n  );\n};\n\nRadialFabChild.defaultProps = {\n  fineAdjustIconX: '0',\n  fineAdjustIconY: '0',\n\n  openMargin: '0',\n\n  toolTipText: '',\n\n  isOpen: false,\n};\n\nexport default RadialFabChild;\n","import { useEffect, useState, useRef, useCallback } from 'react';\n\nexport default function useDelayedTooltip(delay: number) {\n  const [isShowingTooltip, setIsShowingTooltip] = useState(false);\n  const isMouseStillIn = useRef(false);\n\n  const timeoutTimer = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const ref = useRef<HTMLElement | null>(null);\n  const setRef = useCallback(\n    (node) => {\n      const onMouseEnter = () => {\n        isMouseStillIn.current = true;\n\n        if (timeoutTimer.current !== null) clearInterval(timeoutTimer.current);\n\n        timeoutTimer.current = setTimeout(() => {\n          if (isMouseStillIn.current) {\n            setIsShowingTooltip(true);\n          } else {\n            setIsShowingTooltip(false);\n          }\n        }, delay * 1000);\n      };\n      const onMouseLeave = () => {\n        isMouseStillIn.current = false;\n        setIsShowingTooltip(false);\n      };\n\n      if (ref.current !== null) {\n        ref.current?.removeEventListener('mouseenter', onMouseEnter);\n        ref.current?.removeEventListener('focusin', onMouseEnter);\n        ref.current?.removeEventListener('mouseleave', onMouseLeave);\n        ref.current?.removeEventListener('focusout', onMouseLeave);\n      }\n\n      if (node) {\n        node.addEventListener('mouseenter', onMouseEnter);\n        node.addEventListener('focusin', onMouseEnter);\n        node.addEventListener('mouseleave', onMouseLeave);\n        node.addEventListener('focusout', onMouseLeave);\n      }\n\n      ref.current = node;\n    },\n    [delay],\n  );\n\n  useEffect(() => {\n    return () => {\n      if (timeoutTimer.current !== null) clearTimeout(timeoutTimer.current);\n    };\n  }, []);\n\n  return { isShowingTooltip, ref: setRef };\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 3.2\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n});\n\nfunction SvgCamera(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCamera);\nexport default __webpack_public_path__ + \"static/media/camera.08dd70fb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0,0h24v24H0V0z\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"\n}));\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.d05dea52.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"none\",\n  height: 24,\n  width: 24\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14,12l-2,2l-2-2l2-2L14,12z M12,6l2.12,2.12l2.5-2.5L12,1L7.38,5.62l2.5,2.5L12,6z M6,12l2.12-2.12l-2.5-2.5L1,12 l4.62,4.62l2.5-2.5L6,12z M18,12l-2.12,2.12l2.5,2.5L23,12l-4.62-4.62l-2.5,2.5L18,12z M12,18l-2.12-2.12l-2.5,2.5L12,23l4.62-4.62 l-2.5-2.5L12,18z\"\n}));\n\nfunction SvgApi(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgApi);\nexport default __webpack_public_path__ + \"static/media/api.86b9b7b1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z\"\n});\n\nfunction SvgSubject(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubject);\nexport default __webpack_public_path__ + \"static/media/subject.3761f33b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z\"\n});\n\nfunction SvgWidgets(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWidgets);\nexport default __webpack_public_path__ + \"static/media/widgets.aa267ef5.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\n\nimport { ConfigurableView } from '../enums/ConfigurableView';\n\nimport { ReactComponent as CameraIcon } from '../assets/icons/camera.svg';\nimport { ReactComponent as SettingsIcon } from '../assets/icons/settings.svg';\nimport { ReactComponent as ChartIcon } from '../assets/icons/chart.svg';\nimport { ReactComponent as ApiIcon } from '../assets/icons/api.svg';\nimport { ReactComponent as SubjectIcon } from '../assets/icons/subject.svg';\nimport { ReactComponent as WidgetIcon } from '../assets/icons/widgets.svg';\n\ntype ViewPickerProps = {\n  isOpen: boolean;\n\n  bottom: string;\n  right: string;\n\n  clickEvent: (item: ConfigurableView) => void;\n};\n\nconst Container = styled.div.attrs({\n  className: 'pointer-events-none grid grid-cols-2 gap-x-6 gap-y-5',\n})<ViewPickerProps>`\n  position: fixed;\n  bottom: ${({ bottom }) => bottom};\n  right: ${({ right }) => right};\n`;\n\nconst CardButton = styled.button.attrs<{\n  isOpen: boolean;\n  customStyles: string;\n}>(({ isOpen, customStyles }) => ({\n  className: `rounded bg-white border border-gray-300 hover:border-gray-400 shadow-md hover:shadow-lg flex justify-start items-center px-4 py-4 transform transition\n    hover:-translate-y-0.5 focus:-translate-y-0.5 focus:border-0 focus:outline-none ring-2 ring-transparent ${\n      isOpen\n        ? 'pointer-events-auto opacity-100 scale-100'\n        : 'pointer-events-none opacity-0 scale-75'\n    } ${customStyles}`,\n}))<{\n  isOpen: boolean;\n  customStyles: string;\n  index: number;\n}>`\n  transition-delay: ${({ index }) => `${8 * Math.pow(index, 1.5)}ms`};\n`;\n\nconst listContent = [\n  {\n    title: 'OpMode View',\n    view: ConfigurableView.OPMODE_VIEW,\n    icon: <WidgetIcon className=\"w-6 h-6\" />,\n    customStyles: 'focus:ring-red-600',\n    iconBg: 'bg-red-500',\n  },\n  {\n    title: 'Field View',\n    view: ConfigurableView.FIELD_VIEW,\n    icon: <ApiIcon className=\"w-7 h-7 transform rotate-45\" />,\n    customStyles: 'focus:ring-blue-600',\n    iconBg: 'bg-blue-500',\n  },\n  {\n    title: 'Graph View',\n    view: ConfigurableView.GRAPH_VIEW,\n    icon: <ChartIcon className=\"text-white w-6 h-6\" />,\n    customStyles: 'focus:ring-green-600',\n    iconBg: 'bg-green-500',\n  },\n  {\n    title: 'Config View',\n    view: ConfigurableView.CONFIG_VIEW,\n    icon: <SettingsIcon className=\"w-6 h-6\" />,\n    customStyles: 'focus:ring-orange-600',\n    iconBg: 'bg-orange-500',\n  },\n  {\n    title: 'Telemetry View',\n    view: ConfigurableView.TELEMETRY_VIEW,\n    icon: <SubjectIcon className=\"w-6 h-6\" />,\n    customStyles: 'focus:ring-yellow-600',\n    iconBg: 'bg-yellow-500',\n  },\n  {\n    title: 'Camera View',\n    view: ConfigurableView.CAMERA_VIEW,\n    icon: <CameraIcon className=\"w-5 h-5\" />,\n    customStyles: 'focus:ring-purple-600',\n    iconBg: 'bg-purple-500',\n  },\n];\n\nconst ViewPicker = (props: ViewPickerProps) => {\n  return (\n    <Container {...props}>\n      {listContent.map((item, index) => (\n        <CardButton\n          key={item.title}\n          {...props}\n          index={index}\n          customStyles={item.customStyles}\n          onClick={() => props.clickEvent(item.view)}\n          disabled={!props.isOpen}\n        >\n          <div className={`w-8 h-8  rounded mr-3 flex-center ${item.iconBg}`}>\n            {React.cloneElement(item.icon)}\n          </div>\n          <div className=\"flex flex-col items-start\">\n            <h3 className=\"text-lg mt-0 leading-4 font-medium\">{item.title}</h3>\n          </div>\n        </CardButton>\n      ))}\n    </Container>\n  );\n};\n\nexport default ViewPicker;\n","import { useReducer, useMemo } from 'react';\nimport { isEqual } from 'lodash';\n\nenum StateHistoryCommand {\n  INITIALIZE,\n  APPEND,\n  UNDO,\n  REDO,\n}\n\nexport default function useUndoHistory<T>(\n  initialHead: T,\n): [\n  T,\n  {\n    initialize: (payload: T) => void;\n    append: (payload: T) => void;\n    undo: () => void;\n    redo: () => void;\n  },\n] {\n  type StateHistoryAction =\n    | {\n        type: StateHistoryCommand.INITIALIZE;\n        payload: T;\n      }\n    | {\n        type: StateHistoryCommand.APPEND;\n        payload: T;\n      }\n    | { type: StateHistoryCommand.UNDO }\n    | { type: StateHistoryCommand.REDO };\n\n  type StateHistoryReducerState = {\n    history: T[];\n    currentHistoryPosition: number;\n  };\n\n  const stateHistoryReducer = (\n    state: StateHistoryReducerState,\n    action: StateHistoryAction,\n  ): StateHistoryReducerState => {\n    switch (action.type) {\n      case StateHistoryCommand.INITIALIZE: {\n        return {\n          history: [action.payload],\n          currentHistoryPosition: 0,\n        };\n      }\n      case StateHistoryCommand.APPEND: {\n        if (state.history.length !== 0) {\n          if (\n            isEqual(state.history[state.currentHistoryPosition], action.payload)\n          ) {\n            return state;\n          }\n        }\n\n        return {\n          history: [\n            ...state.history.slice(0, state.currentHistoryPosition + 1),\n            action.payload,\n          ],\n          currentHistoryPosition: state.currentHistoryPosition + 1,\n        };\n      }\n      case StateHistoryCommand.UNDO: {\n        if (state.currentHistoryPosition <= 0) return state;\n\n        return {\n          ...state,\n          currentHistoryPosition: state.currentHistoryPosition - 1,\n        };\n      }\n      case StateHistoryCommand.REDO: {\n        if (state.currentHistoryPosition >= state.history.length - 1)\n          return state;\n\n        return {\n          ...state,\n          currentHistoryPosition: state.currentHistoryPosition + 1,\n        };\n      }\n    }\n  };\n\n  const [{ history, currentHistoryPosition }, dispatch] = useReducer(\n    stateHistoryReducer,\n    {\n      history: [initialHead],\n      currentHistoryPosition: 0,\n    },\n  );\n\n  // Requires a useMemo or it causes an infinite loop in useEffect dependencies\n  const initialize = useMemo(\n    () => (payload: T) =>\n      dispatch({ type: StateHistoryCommand.INITIALIZE, payload }),\n    [dispatch],\n  );\n  const append = useMemo(\n    () => (payload: T) =>\n      dispatch({ type: StateHistoryCommand.APPEND, payload }),\n    [dispatch],\n  );\n  const undo = useMemo(\n    () => () => dispatch({ type: StateHistoryCommand.UNDO }),\n    [dispatch],\n  );\n  const redo = useMemo(\n    () => () => dispatch({ type: StateHistoryCommand.REDO }),\n    [dispatch],\n  );\n\n  return [history[currentHistoryPosition], { initialize, append, undo, redo }];\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\",\n  fill: \"currentColor\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgAdd(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#fff\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdd);\nexport default __webpack_public_path__ + \"static/media/add.b673a700.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z\"\n});\n\nfunction SvgDeleteSweep(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeleteSweep);\nexport default __webpack_public_path__ + \"static/media/delete_sweep.f5a0e29f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n});\n\nfunction SvgDeleteX(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeleteX);\nexport default __webpack_public_path__ + \"static/media/delete_x.9264620e.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/lock.66258c45.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"\n});\n\nfunction SvgRemoveCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveCircle);\nexport default __webpack_public_path__ + \"static/media/remove_circle.d4398935.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n});\n\nfunction SvgRemoveCircleOutline(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"white\",\n    width: \"18px\",\n    height: \"18px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveCircleOutline);\nexport default __webpack_public_path__ + \"static/media/remove_circle_outline.3b2ffebf.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/create.e965ddf9.svg\";","import React, { ReactElement, useState, useEffect, useRef } from 'react';\nimport RGL, { WidthProvider, Layout } from 'react-grid-layout';\nimport { v4 as uuidv4 } from 'uuid';\nimport styled from 'styled-components';\n\nimport 'react-grid-layout/css/styles.css';\nimport 'react-resizable/css/styles.css';\n\nimport { ConfigurableView } from '../enums/ConfigurableView';\nimport GraphView from '../containers/GraphView';\nimport FieldView from '../containers/FieldView';\nimport ConfigView from '../containers/ConfigView';\nimport TelemetryView from '../containers/TelemetryView';\nimport CameraView from '../containers/CameraView';\nimport OpModeView from '../containers/OpModeView';\n\nimport RadialFab from './RadialFab/RadialFab';\nimport RadialFabChild from './RadialFab/RadialFabChild';\nimport ViewPicker from './ViewPicker';\n\nimport useMouseIdleListener from '../hooks/useMouseIdleListener';\nimport useUndoHistory from '../hooks/useUndoHistory';\n\nimport { ReactComponent as AddIcon } from '../assets/icons/add.svg';\nimport { ReactComponent as DeleteSweepIcon } from '../assets/icons/delete_sweep.svg';\nimport { ReactComponent as DeleteXIcon } from '../assets/icons/delete_x.svg';\nimport LockIconURL from '../assets/icons/lock.svg';\nimport { ReactComponent as RemoveCircleIcon } from '../assets/icons/remove_circle.svg';\nimport { ReactComponent as RemoveCircleOutlineIcon } from '../assets/icons/remove_circle_outline.svg';\nimport CreateIconURL from '../assets/icons/create.svg';\n\nfunction maxArray(a: number[], b: number[]) {\n  if (a.length !== b.length) {\n    throw new Error('cannot compare arrays with different lengths');\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] > b[i]) {\n      return a;\n    } else if (b[i] > a[i]) {\n      return b;\n    }\n  }\n  return a;\n}\n\nfunction intervalsIntersect([a, b]: number[], [c, d]: number[]) {\n  return Math.max(a, c) < Math.min(b, d);\n}\n\nconst VIEW_MAP: { [key in ConfigurableView]: ReactElement } = {\n  [ConfigurableView.FIELD_VIEW]: <FieldView />,\n  [ConfigurableView.GRAPH_VIEW]: <GraphView />,\n  [ConfigurableView.CONFIG_VIEW]: <ConfigView />,\n  [ConfigurableView.TELEMETRY_VIEW]: <TelemetryView />,\n  [ConfigurableView.CAMERA_VIEW]: <CameraView />,\n  [ConfigurableView.OPMODE_VIEW]: <OpModeView />,\n};\n\nconst LOCAL_STORAGE_LAYOUT_KEY = 'configurableLayoutStorage';\n\nconst GRID_COL = 12;\nconst GRID_ROW_HEIGHT = 60;\nconst GRID_MARGIN = 10;\nconst GRID_ITEM_MIN_WIDTH = 3;\nconst GRID_DOT_PADDING = 10;\n\nconst ReactGridLayout = WidthProvider(RGL);\n\nconst Container = styled.div.attrs<{ isLayoutLocked: boolean }>(\n  ({ isLayoutLocked }) => ({\n    className: `${\n      !isLayoutLocked ? 'bg-gray-100' : 'bg-white'\n    } p-2 transition-colors`,\n  }),\n)<{ isLayoutLocked: boolean; bgGridSize: number }>`\n  position: relative;\n\n  height: calc(100vh - 52px);\n\n  overflow-x: hidden;\n  overflow-y: scroll;\n  padding-bottom: 1em;\n\n  background-image: ${(props) =>\n    !props.isLayoutLocked\n      ? `radial-gradient(#94a3b8 calc((0.5rem + ${GRID_DOT_PADDING}px) - 17px), transparent 0)`\n      : ''};\n  background-size: ${(props) => `${props.bgGridSize}px  ${props.bgGridSize}px`};\n  background-position: ${`calc(0.5rem + ${GRID_DOT_PADDING}px) calc(0.5rem + ${GRID_DOT_PADDING}px - 5px)`};\n`;\n\ntype GridItem = {\n  id: string;\n  view: ConfigurableView;\n  layout: GridItemLayout;\n};\n\ntype GridItemLayout = {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n  minW: number;\n  isDraggable: boolean;\n  isResizable: boolean;\n};\n\nconst HEIGHT_BREAKPOINTS = {\n  MEDIUM: 730,\n  TALL: 1200,\n};\n\nconst DEFAULT_GRID: GridItem[] = [\n  {\n    id: uuidv4(),\n    view: ConfigurableView.FIELD_VIEW,\n    layout: {\n      x: 0,\n      y: 0,\n      w: 4,\n      h: 9,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.GRAPH_VIEW,\n    layout: {\n      x: 4,\n      y: 0,\n      w: 4,\n      h: 9,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.CONFIG_VIEW,\n    layout: {\n      x: 8,\n      y: 0,\n      w: 4,\n      h: 7,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.TELEMETRY_VIEW,\n    layout: {\n      x: 8,\n      y: 7,\n      w: 4,\n      h: 2,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n];\n\nconst DEFAULT_GRID_MEDIUM: GridItem[] = [\n  {\n    id: uuidv4(),\n    view: ConfigurableView.FIELD_VIEW,\n    layout: {\n      x: 0,\n      y: 0,\n      w: 4,\n      h: 13,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.GRAPH_VIEW,\n    layout: {\n      x: 4,\n      y: 0,\n      w: 4,\n      h: 13,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.CONFIG_VIEW,\n    layout: {\n      x: 8,\n      y: 0,\n      w: 4,\n      h: 11,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.TELEMETRY_VIEW,\n    layout: {\n      x: 8,\n      y: 11,\n      w: 4,\n      h: 2,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n];\n\nconst DEFAULT_GRID_TALL: GridItem[] = [\n  {\n    id: uuidv4(),\n    view: ConfigurableView.FIELD_VIEW,\n    layout: {\n      x: 0,\n      y: 0,\n      w: 4,\n      h: 18,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.GRAPH_VIEW,\n    layout: {\n      x: 4,\n      y: 0,\n      w: 4,\n      h: 18,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.CONFIG_VIEW,\n    layout: {\n      x: 8,\n      y: 0,\n      w: 4,\n      h: 14,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n  {\n    id: uuidv4(),\n    view: ConfigurableView.TELEMETRY_VIEW,\n    layout: {\n      x: 8,\n      y: 11,\n      w: 4,\n      h: 4,\n      minW: GRID_ITEM_MIN_WIDTH,\n      isDraggable: true,\n      isResizable: true,\n    },\n  },\n];\n\nexport default function ConfigurableLayout() {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const gridWrapperRef = useRef<HTMLDivElement>(null);\n\n  const [isLayoutLocked, setIsLayoutLocked] = useState(true);\n  const [isInDeleteMode, setIsInDeleteMode] = useState(false);\n  const [isShowingViewPicker, setIsShowingViewPicker] = useState(false);\n\n  const [gridBgSize, setGridBgSize] = useState(40);\n\n  const [\n    gridItems,\n    {\n      initialize: initializeGrid,\n      append: setGrid,\n      undo: undoGrid,\n      redo: redoGrid,\n    },\n  ] = useUndoHistory<GridItem[]>([]);\n\n  const isFabIdle = useMouseIdleListener({\n    bottom: '0',\n    right: '0',\n    width: '14em',\n    height: '13em',\n  });\n\n  useEffect(() => {\n    const containerResizerObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        if (entry.target === gridWrapperRef.current) {\n          const width =\n            gridWrapperRef.current.clientWidth - 2 * GRID_DOT_PADDING;\n          setGridBgSize(\n            width / ((GRID_COL / 4) * Math.floor(width / 300) + 1) / 3,\n          );\n        }\n      }\n    });\n\n    if (gridWrapperRef.current !== null)\n      containerResizerObserver.observe(gridWrapperRef.current);\n\n    return () => {\n      containerResizerObserver.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    const initialLayoutStorageValue = window.localStorage.getItem(\n      LOCAL_STORAGE_LAYOUT_KEY,\n    );\n\n    const newGridItems = (() => {\n      if (initialLayoutStorageValue !== null) {\n        return JSON.parse(initialLayoutStorageValue) as GridItem[];\n      } else {\n        // This assumes that containerRef isn't null on render\n        // This works completely fine now as containerRef is set\n        // Right now refs are guaranteed to be set before componentDidMount\n        // https://stackoverflow.com/a/50019873/3360147\n        // However, I don't know if this works with concurrent mode\n        // Refs aren't very safe in concurrent mode\n        // This project doesn't use concurrent mode since it's in beta\n        // Check back here if concurrent mode is ever enabled\n        // Solution then is to use something like useCallback similar to the useDelayedTooltip hook\n        const height = containerRef.current?.clientHeight;\n\n        if (height) {\n          if (height > HEIGHT_BREAKPOINTS.TALL) {\n            return DEFAULT_GRID_TALL;\n          } else if (height > HEIGHT_BREAKPOINTS.MEDIUM) {\n            return DEFAULT_GRID_MEDIUM;\n          } else {\n            return DEFAULT_GRID;\n          }\n        } else {\n          return DEFAULT_GRID;\n        }\n      }\n    })();\n\n    newGridItems.forEach((e) => {\n      e.layout.isResizable = false;\n      e.layout.isDraggable = false;\n    });\n\n    initializeGrid(newGridItems);\n  }, [initializeGrid]);\n\n  useEffect(() => {\n    const keyDownListener = (e: KeyboardEvent) => {\n      if (!isLayoutLocked) {\n        if (navigator.platform.indexOf('Mac') > -1) {\n          if (e.metaKey && e.key === 'z') {\n            if (e.shiftKey) {\n              redoGrid();\n            } else {\n              undoGrid();\n            }\n          } else {\n            if (e.ctrlKey && e.key === 'z') {\n              undoGrid();\n            } else if (e.ctrlKey && e.key === 'y') {\n              redoGrid();\n            }\n          }\n        }\n      }\n    };\n\n    document.addEventListener('keydown', keyDownListener);\n\n    return () => {\n      document.removeEventListener('keydown', keyDownListener);\n    };\n  }, [isLayoutLocked, undoGrid, redoGrid]);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      LOCAL_STORAGE_LAYOUT_KEY,\n      JSON.stringify([...gridItems]),\n    );\n  }, [gridItems]);\n\n  const addItem = (item: ConfigurableView) => {\n    const ITEM_WIDTH = 4;\n    const ITEM_HEIGHT = 4;\n\n    // find the bottom, right grid item and tentatively place the new item to its right with bottoms aligned\n    let [newItemBotMin, newItemLeft] = gridItems\n      .map((e) => [e.layout.y + e.layout.h, e.layout.x + e.layout.w])\n      .reduce(maxArray, [0, 0]);\n\n    // if this placement puts the new item off the screen, push it to the row below\n    if (newItemLeft + ITEM_WIDTH > GRID_COL) {\n      newItemLeft = 0;\n      newItemBotMin += ITEM_HEIGHT;\n    }\n\n    // find the minimum top for the new item to avoid intersecting items above\n    const newItemTopMin = gridItems\n      .filter((e) =>\n        intervalsIntersect(\n          [newItemLeft, newItemLeft + ITEM_WIDTH],\n          [e.layout.x, e.layout.x + e.layout.w],\n        ),\n      )\n      .map((e) => e.layout.y + e.layout.h)\n      .reduce((bottom, acc) => Math.max(bottom, acc), 0);\n\n    // adjust the original new item bottom if necessary given the minimum top\n    const newItemTop = Math.max(newItemBotMin - ITEM_HEIGHT, newItemTopMin);\n\n    setGrid([\n      ...gridItems,\n      {\n        id: uuidv4(),\n        view: item,\n        layout: {\n          x: newItemLeft,\n          y: newItemTop,\n          w: ITEM_WIDTH,\n          h: ITEM_HEIGHT,\n          minW: GRID_ITEM_MIN_WIDTH,\n          isDraggable: !isLayoutLocked,\n          isResizable: !isLayoutLocked,\n        },\n      },\n    ]);\n  };\n\n  const removeItem = (id: string) => {\n    setGrid(gridItems.filter((e) => e.id !== id));\n  };\n\n  const clickFAB = () => {\n    const toBeLocked = !isLayoutLocked;\n\n    setIsLayoutLocked(toBeLocked);\n    setGrid(\n      gridItems.map((i) => {\n        i.layout = {\n          ...i.layout,\n          isResizable: !toBeLocked,\n          isDraggable: !toBeLocked,\n        };\n        return i;\n      }),\n    );\n\n    if (toBeLocked) {\n      setIsShowingViewPicker(false);\n      setIsInDeleteMode(false);\n    }\n  };\n\n  const onLayoutChange = (layout: Layout[]) => {\n    const newGrid = gridItems.map((e) => {\n      const newLayoutValue = layout.find((item) => item.i === e.id);\n      if (newLayoutValue != null) {\n        const newLayout = {\n          x: newLayoutValue.x,\n          y: newLayoutValue.y,\n          w: newLayoutValue.w,\n          h: newLayoutValue.h,\n          minW: newLayoutValue.minW ?? GRID_ITEM_MIN_WIDTH,\n          isDraggable: newLayoutValue.isDraggable ?? true,\n          isResizable: newLayoutValue.isResizable ?? true,\n        };\n\n        e = { ...e, layout: newLayout };\n      }\n\n      return e;\n    });\n\n    setGrid(newGrid);\n  };\n\n  return (\n    <Container\n      ref={containerRef}\n      isLayoutLocked={isLayoutLocked}\n      bgGridSize={gridBgSize}\n    >\n      {gridItems.length === 0 && (\n        <div\n          className={`text-center mt-16 p-12 transition-colors ${\n            isLayoutLocked ? 'bg-white' : 'bg-gray-100'\n          }`}\n        >\n          <h3 className=\"text-2xl\">Your custom layout is empty!</h3>\n          <p className=\"text-gray-600 mt-3\">\n            Press the floating pencil icon near the bottom right\n            <br />\n            and then click the green plus button to create your own layouts!\n          </p>\n        </div>\n      )}\n      <div ref={gridWrapperRef}>\n        <ReactGridLayout\n          className=\"layout\"\n          cols={GRID_COL}\n          resizeHandles={['se']}\n          draggableHandle=\".grab-handle\"\n          compactType={null}\n          rowHeight={\n            isLayoutLocked ? GRID_ROW_HEIGHT + GRID_MARGIN : GRID_ROW_HEIGHT\n          }\n          layout={gridItems.map((item) => ({ i: item.id, ...item.layout }))}\n          onLayoutChange={onLayoutChange}\n          margin={isLayoutLocked ? [0, 0] : [GRID_MARGIN, GRID_MARGIN]}\n        >\n          {gridItems.map((item) => (\n            <div key={item.id}>\n              {React.cloneElement(VIEW_MAP[item.view], {\n                isDraggable: item.layout.isDraggable,\n                isUnlocked: !isLayoutLocked,\n              })}\n              <div\n                className={`absolute top-0 left-0 w-full h-full bg-yellow-300 bg-opacity-50 flex-center rounded transition ${\n                  isInDeleteMode\n                    ? 'pointer-events opacity-100'\n                    : 'pointer-events-none opacity-0'\n                }`}\n              >\n                <button\n                  className=\"p-4 border-4 border-yellow-600 rounded-full bg-opacity-50 opacity-50 focus:outline-none focus:ring focus:ring-yellow-800\"\n                  onClick={() => {\n                    removeItem(item.id);\n                  }}\n                  disabled={!isInDeleteMode}\n                >\n                  <DeleteXIcon className=\"text-yellow-600 w-20 h-20\" />\n                </button>\n              </div>\n            </div>\n          ))}\n        </ReactGridLayout>\n      </div>\n      <RadialFab\n        width=\"4em\"\n        height=\"4em\"\n        bottom=\"2em\"\n        right=\"3.5em\"\n        isOpen={!isLayoutLocked}\n        isShowing={!(isFabIdle && isLayoutLocked)}\n        clickEvent={clickFAB}\n        icon={!isLayoutLocked ? LockIconURL : CreateIconURL}\n        customClassName={`${\n          !isLayoutLocked\n            ? `bg-gray-500 focus:ring-4 focus:ring-gray-600 shadow-gray-900-md-prominent hover:shadow-gray-900-lg-prominent`\n            : `bg-red-500 focus:ring-4 focus:ring-red-600 shadow-red-500-md-prominent hover:shadow-red-500-lg-prominent`\n        }`}\n      >\n        <RadialFabChild\n          customClass=\"w-12 h-12 bg-green-500 border border-green-600 shadow-green-500-md-prominent hover:shadow-green-500-lg-prominent focus:ring focus:ring-green-600\"\n          angle={(-80 * Math.PI) / 180}\n          openMargin=\"5em\"\n          fineAdjustIconX=\"2%\"\n          fineAdjustIconY=\"2%\"\n          toolTipText=\"Add Item\"\n          clickEvent={() => setIsShowingViewPicker(!isShowingViewPicker)}\n        >\n          <AddIcon className=\"text-white w-6 h-6\" />\n        </RadialFabChild>\n        <RadialFabChild\n          customClass={`w-12 h-12 border shadow-orange-500-md-prominent hover:shadow-orange-500-lg-prominent focus:ring ${\n            isInDeleteMode\n              ? 'bg-orange-500 border-yellow-600 focus:ring-yellow-300'\n              : 'bg-yellow-500 border-yellow-600 focus:ring-orange-300'\n          }`}\n          angle={(-135 * Math.PI) / 180}\n          openMargin=\"5em\"\n          fineAdjustIconX=\"0\"\n          fineAdjustIconY=\"0\"\n          toolTipText=\"Delete Item\"\n          clickEvent={() => setIsInDeleteMode(!isInDeleteMode)}\n        >\n          {isInDeleteMode ? (\n            <RemoveCircleOutlineIcon className=\"w-5 h-5\" />\n          ) : (\n            <RemoveCircleIcon className=\"w-5 h-5\" />\n          )}\n        </RadialFabChild>\n        <RadialFabChild\n          customClass=\"w-12 h-12 bg-indigo-500 border border-indigo-600 shadow-indigo-500-md-prominent hover:shadow-indigo-500-lg-prominent focus:ring focus:ring-indigo-300\"\n          angle={(170 * Math.PI) / 180}\n          openMargin=\"5em\"\n          fineAdjustIconX=\"8%\"\n          fineAdjustIconY=\"-2%\"\n          toolTipText=\"Clear Layout\"\n          clickEvent={() => setGrid([])}\n        >\n          <DeleteSweepIcon className=\"w-5 h-5\" />\n        </RadialFabChild>\n      </RadialFab>\n      <ViewPicker\n        isOpen={isShowingViewPicker}\n        bottom=\"13em\"\n        right=\"1.5em\"\n        clickEvent={addItem}\n      />\n    </Container>\n  );\n}\n","import { useEffect, useState, useRef } from 'react';\n\ntype Props = {\n  top?: string;\n  bottom?: string;\n  left?: string;\n  right?: string;\n\n  width: string;\n  height: string;\n\n  timeout?: number;\n};\n\nexport default function useMouseIdleListener(props: Props) {\n  const [isIdle, setIsIdle] = useState(false);\n\n  const timeoutTimer = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const [listenerElement] = useState(() => {\n    const el = document.createElement('div');\n    el.style.position = 'fixed';\n    if (props.top) el.style.top = props.top;\n    if (props.bottom) el.style.bottom = props.bottom ?? '';\n    if (props.left) el.style.left = props.bottom ?? '';\n    if (props.right) el.style.right = props.right ?? '';\n    el.style.width = props.width;\n    el.style.height = props.height;\n    el.style.pointerEvents = 'none';\n\n    return el;\n  });\n\n  useEffect(() => {\n    const listenMouseEvents = (e: MouseEvent) => {\n      if (\n        e.clientX > listenerElement.offsetLeft &&\n        e.clientY > listenerElement.offsetTop &&\n        e.clientX < listenerElement.offsetLeft + listenerElement.clientWidth &&\n        e.clientY < listenerElement.offsetTop + listenerElement.clientHeight\n      ) {\n        const timeout = props.timeout ?? 5000;\n\n        if (timeoutTimer.current !== null) clearInterval(timeoutTimer.current);\n\n        timeoutTimer.current = setTimeout(() => setIsIdle(true), timeout);\n        setIsIdle(false);\n      }\n    };\n\n    document.body.appendChild(listenerElement);\n    document.body.addEventListener('mousemove', listenMouseEvents);\n\n    return () => {\n      document.body.removeChild(listenerElement);\n      document.body.removeEventListener('mousemove', listenMouseEvents);\n      if (timeoutTimer.current !== null) clearTimeout(timeoutTimer.current);\n    };\n  }, [listenerElement, props.timeout]);\n\n  return isIdle;\n}\n","import React from 'react';\n\nimport { Values } from '../typeHelpers';\n\nimport TileGrid from '../components/TileGrid';\nimport Tile from '../components/Tile';\nimport ConfigurableLayout from '../components/ConfigurableLayout';\n\nimport OpModeView from '../containers/OpModeView';\nimport CameraView from '../containers/CameraView';\nimport GraphView from '../containers/GraphView';\nimport ConfigView from '../containers/ConfigView';\nimport TelemetryView from '../containers/TelemetryView';\nimport FieldView from '../containers/FieldView';\n\nconst LayoutPreset = {\n  DEFAULT: 'DEFAULT',\n  FIELD: 'FIELD',\n  GRAPH: 'GRAPH',\n  ORIGINAL: 'ORIGINAL',\n  CONFIGURABLE: 'CONFIGURABLE',\n} as const;\n\ntype Layout = {\n  name: string;\n  content: JSX.Element;\n};\n\nconst LAYOUT_DETAILS: { [key in Values<typeof LayoutPreset>]: Layout } = {\n  [LayoutPreset.DEFAULT]: {\n    name: 'Default',\n    content: (\n      <TileGrid gridTemplate=\"220px calc(60% - 220px) 40% / 30% 40% 30%\">\n        <Tile row=\"1 / span 1\" col={1}>\n          <OpModeView />\n        </Tile>\n        <Tile row=\"2 / span 2\" col={1}>\n          <CameraView />\n        </Tile>\n        <Tile row=\"1 / span 3\" col={2}>\n          <GraphView />\n        </Tile>\n        <Tile row=\"1 / span 2\" col={3}>\n          <ConfigView />\n        </Tile>\n        <Tile row={3} col={3}>\n          <TelemetryView />\n        </Tile>\n      </TileGrid>\n    ),\n  },\n  [LayoutPreset.FIELD]: {\n    name: 'Field',\n    content: (\n      <TileGrid gridTemplate=\"220px calc(60% - 220px) 40% / 30% 40% 30%\">\n        <Tile row=\"1 / span 1\" col={1}>\n          <OpModeView />\n        </Tile>\n        <Tile row=\"2 / span 2\" col={1}>\n          <FieldView />\n        </Tile>\n        <Tile row=\"1 / span 3\" col={2}>\n          <GraphView />\n        </Tile>\n        <Tile row=\"1 / span 2\" col={3}>\n          <ConfigView />\n        </Tile>\n        <Tile row={3} col={3}>\n          <TelemetryView />\n        </Tile>\n      </TileGrid>\n    ),\n  },\n  [LayoutPreset.GRAPH]: {\n    name: 'Graph',\n    content: (\n      <TileGrid gridTemplate=\"100% / 50% 50%\">\n        <Tile row={1} col={1}>\n          <GraphView />\n        </Tile>\n        <Tile row={1} col={2}>\n          <GraphView />\n        </Tile>\n      </TileGrid>\n    ),\n  },\n  [LayoutPreset.ORIGINAL]: {\n    name: 'Original',\n    content: (\n      <TileGrid gridTemplate=\"60% 40% / 65% 35%\">\n        <Tile row=\"1 / span 2\" col={1}>\n          <GraphView />\n        </Tile>\n        <Tile row={1} col={2}>\n          <ConfigView />\n        </Tile>\n        <Tile row={2} col={2}>\n          <TelemetryView />\n        </Tile>\n      </TileGrid>\n    ),\n  },\n  [LayoutPreset.CONFIGURABLE]: {\n    name: 'Custom',\n    content: <ConfigurableLayout />,\n  },\n};\n\nexport default Object.freeze({\n  ...LayoutPreset,\n\n  getName: (preset: Values<typeof LayoutPreset>) => LAYOUT_DETAILS[preset].name,\n\n  getContent: (preset: Values<typeof LayoutPreset>) =>\n    LAYOUT_DETAILS[preset]?.content ??\n    LAYOUT_DETAILS[LayoutPreset.DEFAULT].content,\n});\n\nexport type LayoutPresetType = Values<typeof LayoutPreset>;\n","import { Dispatch } from 'redux';\n\nimport {\n  CONNECT,\n  DISCONNECT,\n  ConnectAction,\n  DisconnectAction,\n  ReceiveConnectionStatusAction,\n  ReceiveOpModeListAction,\n  ReceivePingTimeAction,\n  RECEIVE_CONNECTION_STATUS,\n  RECEIVE_PING_TIME,\n} from '../types';\nimport { receiveOpModeList } from './status';\n\nexport const connect = (host: string, port: string): ConnectAction => ({\n  type: CONNECT,\n  host,\n  port,\n});\n\nexport const disconnect = (): DisconnectAction => ({\n  type: DISCONNECT,\n});\n\nexport const receivePingTime = (pingTime: number): ReceivePingTimeAction => ({\n  type: RECEIVE_PING_TIME,\n  pingTime,\n});\n\nexport const receiveConnectionStatus = (isConnected: boolean) => (\n  dispatch: Dispatch<ReceiveConnectionStatusAction | ReceiveOpModeListAction>,\n) => {\n  dispatch({\n    type: RECEIVE_CONNECTION_STATUS,\n    isConnected,\n  });\n\n  if (!isConnected) {\n    dispatch(receiveOpModeList([]));\n  }\n};\n","import {\n  StatusState,\n  GetRobotStatusAction,\n  ReceiveOpModeListAction,\n  ReceiveRobotStatusAction,\n  GET_ROBOT_STATUS,\n  RECEIVE_OP_MODE_LIST,\n  RECEIVE_ROBOT_STATUS,\n} from '../types';\n\nexport const getRobotStatus = (): GetRobotStatusAction => ({\n  type: GET_ROBOT_STATUS,\n});\n\nexport const receiveRobotStatus = (\n  status: StatusState,\n): ReceiveRobotStatusAction => ({\n  type: RECEIVE_ROBOT_STATUS,\n  status,\n});\n\nexport const receiveOpModeList = (\n  opModeList: string[],\n): ReceiveOpModeListAction => ({\n  type: RECEIVE_OP_MODE_LIST,\n  opModeList,\n});\n","import { LayoutPresetType } from '../../enums/LayoutPreset';\nimport {\n  GetLayoutPresetAction,\n  ReceiveLayoutPresetAction,\n  SaveLayoutPresetAction,\n  GET_LAYOUT_PRESET,\n  RECEIVE_LAYOUT_PRESET,\n  SAVE_LAYOUT_PRESET,\n} from '../types';\n\nexport const saveLayoutPreset = (\n  preset: LayoutPresetType,\n): SaveLayoutPresetAction => ({\n  type: SAVE_LAYOUT_PRESET,\n  preset,\n});\n\nexport const receiveLayoutPreset = (\n  preset: LayoutPresetType,\n): ReceiveLayoutPresetAction => ({\n  type: RECEIVE_LAYOUT_PRESET,\n  preset,\n});\n\nexport const getLayoutPreset = (): GetLayoutPresetAction => ({\n  type: GET_LAYOUT_PRESET,\n});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.01 21.49L23.64 7c-.45-.34-4.93-4-11.64-4C5.28 3 .81 6.66.36 7l11.63 14.49.01.01.01-.01z\",\n  fillOpacity: 0.3\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.53 10.95l8.46 10.54.01.01.01-.01 8.46-10.54C20.04 10.62 16.81 8 12 8c-4.81 0-8.04 2.62-8.47 2.95z\"\n});\n\nfunction SvgWifi(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#FFFFFF\",\n    height: 48,\n    viewBox: \"0 0 24 24\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWifi);\nexport default __webpack_public_path__ + \"static/media/wifi.841c3629.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.64 7c-.45-.34-4.93-4-11.64-4-1.5 0-2.89.19-4.15.48L18.18 13.8 23.64 7zm-6.6 8.22L3.27 1.44 2 2.72l2.05 2.06C1.91 5.76.59 6.82.36 7l11.63 14.49.01.01.01-.01 3.9-4.86 3.32 3.32 1.27-1.27-3.46-3.46z\"\n});\n\nfunction SvgWifiOff(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#FFFFFF\",\n    height: 48,\n    viewBox: \"0 0 24 24\",\n    width: 48,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWifiOff);\nexport default __webpack_public_path__ + \"static/media/wifi_off.4768a3a1.svg\";\nexport { ForwardRef as ReactComponent };","import { isEqual } from 'lodash';\nimport { Dispatch } from 'redux';\nimport {\n  GamepadConnectedAction,\n  GamepadDisonnectedAction,\n  ReceiveGamepadStateAction,\n  GAMEPAD_CONNECTED,\n  GAMEPAD_DISCONNECTED,\n  RECEIVE_GAMEPAD_STATE,\n  GamepadState,\n} from '../types';\n\nexport const gamepadConnected = (user: number): GamepadConnectedAction => ({\n  type: GAMEPAD_CONNECTED,\n  user,\n});\n\nexport const gamepadDisconnected = (\n  user: number,\n): GamepadDisonnectedAction => ({\n  type: GAMEPAD_DISCONNECTED,\n  user,\n});\n\nexport const receiveGamepadState = (\n  gamepad1: GamepadState,\n  gamepad2: GamepadState,\n): ReceiveGamepadStateAction => ({\n  type: RECEIVE_GAMEPAD_STATE,\n  gamepad1,\n  gamepad2,\n});\n\n/*\nTo save bandwidth, new gamepad states are only sent if they differ from the previous.\nHowever, the dash regardless still sends gamepad messages at the rate below to feed\nthe watchdog on the RC (to reset the gamepads in case the connection is cut abruptly).\n*/\nconst MAX_GAMEPAD_MS = 150;\n\nlet lastGamepad1: GamepadState;\nlet lastGamepad2: GamepadState;\nlet lastGamepadTimestamp: number;\n\nexport const sendGamepadState = (\n  gamepad1: GamepadState,\n  gamepad2: GamepadState,\n) => (dispatch: Dispatch<ReceiveGamepadStateAction>) => {\n  const timestamp = Date.now();\n  if (\n    !isEqual(lastGamepad1, gamepad1) ||\n    !isEqual(lastGamepad2, gamepad2) ||\n    timestamp - lastGamepadTimestamp < MAX_GAMEPAD_MS\n  ) {\n    dispatch(receiveGamepadState(gamepad1, gamepad2));\n\n    lastGamepad1 = gamepad1;\n    lastGamepad2 = gamepad2;\n    lastGamepadTimestamp = timestamp;\n  }\n};\n","import { Middleware } from 'redux';\n\nimport { RootState, AppThunkAction, AppThunkDispatch } from './../reducers';\nimport { getRobotStatus } from '../actions/status';\nimport {\n  connect,\n  receiveConnectionStatus,\n  receivePingTime,\n} from '../actions/socket';\nimport {\n  CONNECT,\n  DISCONNECT,\n  GET_CONFIG,\n  GET_ROBOT_STATUS,\n  INIT_OP_MODE,\n  RECEIVE_GAMEPAD_STATE,\n  RECEIVE_ROBOT_STATUS,\n  SAVE_CONFIG,\n  START_OP_MODE,\n  STOP_OP_MODE,\n} from '../types';\n\nlet socket: WebSocket;\nlet statusSentTime: number;\n\nconst robotStatusLoop = (): AppThunkAction => (\n  dispatch: AppThunkDispatch,\n  getState: () => RootState,\n) => {\n  const { isConnected } = getState().socket;\n\n  if (!isConnected) {\n    return;\n  }\n\n  statusSentTime = Date.now();\n\n  dispatch(getRobotStatus());\n\n  setTimeout(() => {\n    dispatch(robotStatusLoop());\n  }, 1000);\n};\n\nconst socketMiddleware: Middleware<Record<string, unknown>, RootState> = (\n  store,\n) => (next) => (action) => {\n  switch (action.type) {\n    case CONNECT:\n      socket = new WebSocket(`ws://${action.host}:${action.port}`);\n\n      socket.onmessage = (evt) => {\n        const msg = JSON.parse(evt.data);\n        store.dispatch(msg);\n      };\n\n      socket.onopen = () => {\n        (store.dispatch as AppThunkDispatch)(receiveConnectionStatus(true));\n\n        (store.dispatch as AppThunkDispatch)(robotStatusLoop());\n      };\n\n      socket.onclose = () => {\n        (store.dispatch as AppThunkDispatch)(receiveConnectionStatus(false));\n\n        setTimeout(\n          () => store.dispatch(connect(action.host, action.port)),\n          500,\n        );\n      };\n\n      break;\n    case DISCONNECT:\n      socket.close();\n      break;\n    case RECEIVE_ROBOT_STATUS: {\n      const pingTime = Date.now() - statusSentTime;\n      store.dispatch(receivePingTime(pingTime));\n\n      next(action);\n      break;\n    }\n    // messages forwarded to the server\n    case RECEIVE_GAMEPAD_STATE:\n    case GET_ROBOT_STATUS:\n    case SAVE_CONFIG:\n    case GET_CONFIG:\n    case INIT_OP_MODE:\n    case START_OP_MODE:\n    case STOP_OP_MODE: {\n      const { isConnected } = store.getState().socket;\n\n      if (isConnected) {\n        socket.send(JSON.stringify(action));\n      }\n\n      next(action);\n\n      break;\n    }\n    default:\n      next(action);\n\n      break;\n  }\n};\n\nexport default socketMiddleware;\n","import React, { Component } from 'react';\nimport { connect as reduxConnect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport LayoutPreset from '../enums/LayoutPreset';\nimport { connect, disconnect } from '../store/actions/socket';\nimport { saveLayoutPreset, getLayoutPreset } from '../store/actions/settings';\n\nimport { ReactComponent as ConnectedIcon } from '../assets/icons/wifi.svg';\nimport { ReactComponent as DisconnectedIcon } from '../assets/icons/wifi_off.svg';\n\nclass Dashboard extends Component {\n  componentDidMount() {\n    this.props.dispatch(\n      connect(\n        process.env.REACT_APP_HOST || window.location.hostname,\n        process.env.REACT_APP_PORT,\n      ),\n    );\n    this.props.dispatch(getLayoutPreset());\n  }\n\n  componentWillUnmount() {\n    this.props.dispatch(disconnect());\n  }\n\n  render() {\n    return (\n      <div\n        className=\"flex flex-col\"\n        style={{ width: '100vw', height: '100vh' }}\n      >\n        <header className=\"flex justify-between items-center bg-blue-600 px-3 py-1 text-white\">\n          <h1 className=\"text-2xl font-medium\">FTC Dashboard</h1>\n          <div className=\"flex-center\">\n            <select\n              className=\"text-black text-sm rounded mx-2 py-1 bg-blue-100 border-blue-300 focus:ring focus:ring-blue-200\"\n              value={this.props.layoutPreset}\n              onChange={(evt) =>\n                this.props.dispatch(saveLayoutPreset(evt.target.value))\n              }\n            >\n              {Object.keys(LayoutPreset)\n                .filter((key) => typeof LayoutPreset[key] === 'string')\n                .map((key) => (\n                  <option key={key} value={key}>\n                    {LayoutPreset.getName(key)}\n                  </option>\n                ))}\n            </select>\n            {this.props.isConnected && (\n              <p\n                className=\"mx-2\"\n                style={{\n                  width: '60px',\n                  textAlign: 'right',\n                }}\n              >\n                {this.props.pingTime}ms\n              </p>\n            )}\n            {this.props.isConnected ? (\n              <ConnectedIcon className=\"ml-4 w-10 h-10\" />\n            ) : (\n              <DisconnectedIcon className=\"ml-4 w-10 h-10\" />\n            )}\n          </div>\n        </header>\n        {LayoutPreset.getContent(this.props.layoutPreset)}\n      </div>\n    );\n  }\n}\n\nDashboard.propTypes = {\n  isConnected: PropTypes.bool.isRequired,\n  pingTime: PropTypes.number.isRequired,\n  layoutPreset: PropTypes.oneOf(Object.keys(LayoutPreset)).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = ({ socket, settings }) => ({\n  isConnected: socket.isConnected,\n  pingTime: socket.pingTime,\n  layoutPreset: settings.layoutPreset,\n});\n\nexport default reduxConnect(mapStateToProps)(Dashboard);\n","/**\n * Notes on the PS4 gamepad:\n *\n * Dualshock 4 controller seems to report itself as \"Wireless Controller (STANDARD GAMEPAD Vendor: 054c Product: xxxx)\"\n * The ID prepends \"DUALSHOCK 4\" only on bluetooth. The product ID seems to differ between Gen 1 & 2 of the controller.\n * The values listed in gamepad-tester.com seem to correspond with the values listed here: https://wiki.gentoo.org/wiki/Sony_DualShock\n * 05c4 for Gen 1 and 09cc for Gen 2\n * However, gamepad-tester.com also has a number of variants that don't follow the naming scheme but still contain strings\n * in their ID's that correspond to the vendor/product ID for the Dualshocks\n * So it's probably best to identify by checking if PID/VID is in the gamepad.id\n */\n\nimport { Values } from '../typeHelpers';\n\nconst GamepadType = {\n  LOGITECH_DUAL_ACTION: 'LOGITECH_DUAL_ACTION',\n  XBOX_360: 'XBOX_360',\n  SONY_DUALSHOCK_4: 'SONY_DUALSHOCK_4',\n  UNKNOWN: 'UNKNOWN',\n} as const;\n\nconst SONY_VID = '054c';\nconst DUALSHOCK_GEN_1_PID = '09cc';\nconst DUALSHOCK_GEN_2_PID = '05c4';\n\n// https://github.com/OpenFTC/Extracted-RC/blob/6720cf8b4296c90b6ea4638752c2df4a52b043b9/Hardware/src/main/java/com/qualcomm/hardware/sony/SonyGamepadPS4.java#L145\nconst ETPACK_VID = '7545';\nconst ETPACK_PID = '104';\n\nexport default {\n  ...GamepadType,\n\n  getFromGamepad: (gamepad: Gamepad) => {\n    if (gamepad.id.search('Logitech Dual Action') !== -1) {\n      return GamepadType.LOGITECH_DUAL_ACTION;\n    } else if (gamepad.id.search('Xbox 360') !== -1) {\n      return GamepadType.XBOX_360;\n    } else if (\n      gamepad.id.search(SONY_VID) !== -1 &&\n      gamepad.id.search(\n        new RegExp(`${DUALSHOCK_GEN_1_PID}|${DUALSHOCK_GEN_2_PID}`, 'i'),\n      ) !== -1\n    ) {\n      return GamepadType.SONY_DUALSHOCK_4;\n    } else if (\n      gamepad.id.search(\n        new RegExp(`(?=.*${ETPACK_VID})(?=.*${ETPACK_PID})`, 'i'),\n      ) !== -1\n    ) {\n      return GamepadType.SONY_DUALSHOCK_4;\n    } else {\n      return GamepadType.UNKNOWN;\n    }\n  },\n\n  getJoystickDeadzone: (gamepadType: Values<typeof GamepadType>) => {\n    switch (gamepadType) {\n      case GamepadType.LOGITECH_DUAL_ACTION:\n        return 0.06;\n      case GamepadType.XBOX_360:\n        return 0.15;\n      case GamepadType.SONY_DUALSHOCK_4:\n        return 0.04;\n      default:\n        return 0.2;\n    }\n  },\n\n  isSupported: (gamepadType: Values<typeof GamepadType>) =>\n    gamepadType !== GamepadType.UNKNOWN,\n} as const;\n","import { Middleware } from 'redux';\n\n/*\n * Some of this gamepad logic is based on FTC Team 731's robotics simulator.\n * https://github.com/nicholasday/robotics-simulator\n */\n\nimport {\n  gamepadConnected,\n  gamepadDisconnected,\n  sendGamepadState,\n} from '../actions/gamepad';\nimport GamepadType from '../../enums/GamepadType';\nimport { GamepadState } from '../types';\nimport { AppThunkDispatch, RootState } from '../reducers';\n\nconst scale = (\n  value: number,\n  oldMin: number,\n  oldMax: number,\n  newMin: number,\n  newMax: number,\n) => newMin + ((value - oldMin) * (newMax - newMin)) / (oldMax - oldMin);\n\n// based on the corresponding function in the SDK Gamepad\nconst cleanMotionValues = (\n  value: number,\n  joystickDeadzone = 0.2,\n  maxMotionRange = 1.0,\n) => {\n  // apply deadzone\n  if (-joystickDeadzone < value && value < joystickDeadzone) return 0;\n\n  // apply trim\n  if (value > maxMotionRange) return maxMotionRange;\n  if (value < -maxMotionRange) return maxMotionRange;\n\n  // scale values between deadzone and trim to 0 and max range\n  if (value > 0) {\n    return scale(value, joystickDeadzone, maxMotionRange, 0, maxMotionRange);\n  } else {\n    return scale(value, -joystickDeadzone, -maxMotionRange, 0, -maxMotionRange);\n  }\n};\n\nconst REST_GAMEPAD_STATE: GamepadState = {\n  left_stick_x: 0,\n  left_stick_y: 0,\n  right_stick_x: 0,\n  right_stick_y: 0,\n\n  dpad_up: false,\n  dpad_down: false,\n  dpad_left: false,\n  dpad_right: false,\n\n  a: false,\n  b: false,\n  x: false,\n  y: false,\n\n  guide: false,\n  start: false,\n  back: false,\n\n  left_bumper: false,\n  right_bumper: false,\n\n  left_stick_button: false,\n  right_stick_button: false,\n\n  left_trigger: 0,\n  right_trigger: 0,\n};\n\nconst extractGamepadState = (gamepad: Gamepad) => {\n  const type = GamepadType.getFromGamepad(gamepad);\n  if (!GamepadType.isSupported(type)) {\n    throw new Error('Unable to extract state from unsupported gamepad.');\n  }\n\n  switch (type) {\n    case GamepadType.LOGITECH_DUAL_ACTION:\n      return {\n        left_stick_x: cleanMotionValues(-gamepad.axes[1]),\n        left_stick_y: cleanMotionValues(gamepad.axes[2]),\n        right_stick_x: cleanMotionValues(-gamepad.axes[3]),\n        right_stick_y: cleanMotionValues(gamepad.axes[4]),\n\n        dpad_up: gamepad.buttons[12].pressed,\n        dpad_down: gamepad.buttons[13].pressed,\n        dpad_left: gamepad.buttons[14].pressed,\n        dpad_right: gamepad.buttons[15].pressed,\n\n        a: gamepad.buttons[1].pressed,\n        b: gamepad.buttons[2].pressed,\n        x: gamepad.buttons[0].pressed,\n        y: gamepad.buttons[3].pressed,\n\n        guide: false,\n        start: gamepad.buttons[9].pressed,\n        back: gamepad.buttons[8].pressed,\n\n        left_bumper: gamepad.buttons[4].pressed,\n        right_bumper: gamepad.buttons[5].pressed,\n\n        left_stick_button: gamepad.buttons[10].pressed,\n        right_stick_button: gamepad.buttons[11].pressed,\n\n        left_trigger: gamepad.buttons[6].value,\n        right_trigger: gamepad.buttons[7].value,\n      };\n    case GamepadType.XBOX_360:\n      return {\n        // same as SONY_DUALSHOCK_4 except guide and touchpad buttons\n        // tested with generic controller id='Xbox 360 Controller (XInput STANDARD GAMEPAD)' and mapping='standard'\n        // on Win10/Chrome v88 and Edge v87\n        // USB ID=24C6, PID=530A\n        left_stick_x: cleanMotionValues(gamepad.axes[0]),\n        left_stick_y: cleanMotionValues(gamepad.axes[1]),\n        right_stick_x: cleanMotionValues(gamepad.axes[3]),\n        right_stick_y: cleanMotionValues(gamepad.axes[4]),\n\n        dpad_up: gamepad.buttons[12].pressed,\n        dpad_down: gamepad.buttons[13].pressed,\n        dpad_left: gamepad.buttons[14].pressed,\n        dpad_right: gamepad.buttons[15].pressed,\n\n        a: gamepad.buttons[0].pressed,\n        b: gamepad.buttons[1].pressed,\n        x: gamepad.buttons[2].pressed,\n        y: gamepad.buttons[3].pressed,\n\n        guide: false,\n        start: gamepad.buttons[9].pressed,\n        back: gamepad.buttons[8].pressed,\n\n        left_bumper: gamepad.buttons[4].pressed,\n        right_bumper: gamepad.buttons[5].pressed,\n\n        left_stick_button: gamepad.buttons[10].pressed,\n        right_stick_button: gamepad.buttons[11].pressed,\n        left_trigger: gamepad.buttons[6].value,\n        right_trigger: gamepad.buttons[7].value,\n      };\n    case GamepadType.SONY_DUALSHOCK_4:\n      return {\n        left_stick_x: cleanMotionValues(gamepad.axes[0]),\n        left_stick_y: cleanMotionValues(gamepad.axes[1]),\n        right_stick_x: cleanMotionValues(gamepad.axes[2]),\n        right_stick_y: cleanMotionValues(gamepad.axes[3]),\n\n        dpad_up: gamepad.buttons[12].pressed,\n        dpad_down: gamepad.buttons[13].pressed,\n        dpad_left: gamepad.buttons[14].pressed,\n        dpad_right: gamepad.buttons[15].pressed,\n\n        a: gamepad.buttons[0].pressed,\n        b: gamepad.buttons[1].pressed,\n        x: gamepad.buttons[2].pressed,\n        y: gamepad.buttons[3].pressed,\n\n        guide: gamepad.buttons[16].pressed,\n        start: gamepad.buttons[9].pressed,\n        back: gamepad.buttons[8].pressed,\n\n        left_bumper: gamepad.buttons[4].pressed,\n        right_bumper: gamepad.buttons[5].pressed,\n\n        left_stick_button: gamepad.buttons[10].pressed,\n        right_stick_button: gamepad.buttons[11].pressed,\n        left_trigger: gamepad.buttons[6].value,\n        right_trigger: gamepad.buttons[7].value,\n\n        touchpad: gamepad.buttons[17].pressed,\n      };\n    default:\n      throw new Error(`Unable to handle support gamepad of type ${type}`);\n  }\n};\n\nlet gamepad1Index = -1;\nlet gamepad2Index = -1;\n\nconst gamepadMiddleware: Middleware<Record<string, unknown>, RootState> = (\n  store,\n) => {\n  function updateGamepads() {\n    const gamepads = navigator.getGamepads();\n    if (gamepads.length === 0) {\n      setTimeout(updateGamepads, 500);\n      return;\n    }\n\n    // check for Start-A/Start-B\n    for (const gamepad of navigator.getGamepads()) {\n      if (gamepad === null || !gamepad.connected) {\n        continue;\n      }\n\n      const gamepadType = GamepadType.getFromGamepad(gamepad);\n      if (!GamepadType.isSupported(gamepadType)) {\n        continue;\n      }\n\n      const gamepadState = extractGamepadState(gamepad);\n\n      // update gamepad 1 & 2 associations\n      if (gamepadState.start && gamepadState.a) {\n        gamepad1Index = gamepad.index;\n\n        store.dispatch(gamepadConnected(1));\n\n        if (gamepad2Index === gamepad1Index) {\n          store.dispatch(gamepadDisconnected(2));\n\n          gamepad2Index = -1;\n        }\n      } else if (gamepadState.start && gamepadState.b) {\n        gamepad2Index = gamepad.index;\n\n        store.dispatch(gamepadConnected(2));\n\n        if (gamepad1Index === gamepad2Index) {\n          store.dispatch(gamepadDisconnected(1));\n\n          gamepad1Index = -1;\n        }\n      }\n\n      // actually dispatch motion events\n      let gamepad1State;\n      if (gamepad1Index !== -1) {\n        const gamepad = gamepads[gamepad1Index];\n\n        if (gamepad) {\n          gamepad1State = extractGamepadState(gamepad);\n        } else {\n          gamepad1State = REST_GAMEPAD_STATE;\n        }\n      } else {\n        gamepad1State = REST_GAMEPAD_STATE;\n      }\n\n      let gamepad2State;\n      if (gamepad2Index !== -1) {\n        const gamepad = gamepads[gamepad2Index];\n\n        if (gamepad) {\n          gamepad2State = extractGamepadState(gamepad);\n        } else {\n          gamepad2State = REST_GAMEPAD_STATE;\n        }\n      } else {\n        gamepad2State = REST_GAMEPAD_STATE;\n      }\n\n      (store.dispatch as AppThunkDispatch)(\n        sendGamepadState(gamepad1State, gamepad2State),\n      );\n    }\n\n    requestAnimationFrame(updateGamepads);\n  }\n\n  window.addEventListener('gamepaddisconnected', (evt: Event) => {\n    // Required because lib.dom.d.ts doesn't have proper types for the gamepad events\n    // Looks like it's fixed but currently not merged in the version we are using\n    // See: https://github.com/microsoft/TypeScript/issues/39425 & https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/925\n    const { gamepad } = evt as GamepadEvent;\n\n    if (gamepad1Index === gamepad.index) {\n      store.dispatch(gamepadDisconnected(gamepad1Index));\n\n      gamepad1Index = -1;\n    } else if (gamepad2Index === gamepad.index) {\n      store.dispatch(gamepadDisconnected(gamepad2Index));\n\n      gamepad2Index = -1;\n    }\n  });\n\n  updateGamepads();\n\n  return (next) => (action) => next(action);\n};\n\nexport default gamepadMiddleware;\n","import { Middleware } from 'redux';\n\nimport LayoutPreset, { LayoutPresetType } from '../../enums/LayoutPreset';\nimport { GET_LAYOUT_PRESET, SAVE_LAYOUT_PRESET } from '../types';\nimport { receiveLayoutPreset } from '../actions/settings';\nimport { RootState } from '../reducers';\n\nconst LAYOUT_PRESET_KEY = 'layoutPreset';\n\nconst storageMiddleware: Middleware<Record<string, unknown>, RootState> = (\n  store,\n) => (next) => (action) => {\n  switch (action.type) {\n    case GET_LAYOUT_PRESET: {\n      const preset =\n        localStorage.getItem(LAYOUT_PRESET_KEY) || LayoutPreset.DEFAULT;\n\n      store.dispatch(receiveLayoutPreset(preset as LayoutPresetType));\n\n      break;\n    }\n    case SAVE_LAYOUT_PRESET: {\n      localStorage.setItem(LAYOUT_PRESET_KEY, action.preset);\n\n      store.dispatch(receiveLayoutPreset(action.preset));\n\n      break;\n    }\n    default:\n      next(action);\n\n      break;\n  }\n};\n\nexport default storageMiddleware;\n","import { ReceiveTelemetryAction, RECEIVE_TELEMETRY, Telemetry } from '../types';\n\nconst initialState: Telemetry = [\n  {\n    timestamp: 0,\n    data: {},\n    log: [],\n    fieldOverlay: {\n      ops: [],\n    },\n  },\n];\n\nconst telemetryReducer = (\n  state = initialState,\n  action: ReceiveTelemetryAction,\n) => {\n  switch (action.type) {\n    case RECEIVE_TELEMETRY:\n      return action.telemetry;\n    default:\n      return state;\n  }\n};\n\nexport default telemetryReducer;\n","import {\n  SocketState,\n  ReceiveConnectionStatusAction,\n  ReceivePingTimeAction,\n  RECEIVE_CONNECTION_STATUS,\n  RECEIVE_PING_TIME,\n} from '../types';\n\nconst initialState: SocketState = {\n  isConnected: false,\n  pingTime: 0,\n};\n\nconst socketReducer = (\n  state = initialState,\n  action: ReceivePingTimeAction | ReceiveConnectionStatusAction,\n) => {\n  switch (action.type) {\n    case RECEIVE_PING_TIME:\n      return {\n        ...state,\n        pingTime: action.pingTime,\n      };\n    case RECEIVE_CONNECTION_STATUS:\n      return {\n        ...state,\n        isConnected: action.isConnected,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default socketReducer;\n","import { cloneDeep } from 'lodash';\nimport VariableType from '../../enums/VariableType';\nimport {\n  Config,\n  ConfigCustom,\n  ConfigState,\n  ConfigVariable,\n  ReceiveConfigAction,\n  RefreshConfigAction,\n  SaveConfigAction,\n  UpdateConfigAction,\n  RECEIVE_CONFIG,\n  REFRESH_CONFIG,\n  SAVE_CONFIG,\n  UPDATE_CONFIG,\n} from '../types';\n\nconst receiveConfig = (baseConfig: Config, newConfig: Config) => {\n  if (newConfig.__type === VariableType.CUSTOM) {\n    const mergedConfig: ConfigCustom = {\n      __type: VariableType.CUSTOM,\n      __value: {},\n    };\n\n    // iterate over the keys in the new config\n    // we treat this as the master config; it's from the server\n    for (const key of Object.keys(newConfig.__value)) {\n      let newBaseValue = {} as Config;\n      if (typeof baseConfig.__value === 'object') {\n        newBaseValue = (<ConfigCustom>baseConfig).__value[key];\n      } else {\n        newBaseValue = {} as Config;\n      }\n\n      mergedConfig.__value[key] = receiveConfig(\n        newBaseValue,\n        newConfig.__value[key],\n      );\n    }\n    return mergedConfig;\n  } else {\n    baseConfig = <ConfigVariable>baseConfig;\n\n    if (baseConfig.__modified) {\n      return {\n        __type: newConfig.__type,\n        __value: newConfig.__value,\n        __newValue: baseConfig.__newValue,\n        __valid: baseConfig.__valid,\n        __modified: true,\n        __enumClass: newConfig.__enumClass,\n        __enumValues: newConfig.__enumValues,\n      };\n    } else {\n      return {\n        __type: newConfig.__type,\n        __value: newConfig.__value,\n        __newValue: newConfig.__value,\n        __valid: true,\n        __modified: false,\n        __enumClass: newConfig.__enumClass,\n        __enumValues: newConfig.__enumValues,\n      };\n    }\n  }\n};\n\nconst updateConfig = (\n  baseConfig: Config,\n  configDiff: Config,\n  modified: boolean,\n): Config => {\n  if (baseConfig.__type === VariableType.CUSTOM) {\n    const mergedConfig: ConfigCustom = {\n      __type: VariableType.CUSTOM,\n      __value: {},\n    };\n\n    // iterate over the base config keys; the diff\n    // is only a subset of those\n    for (const key of Object.keys(baseConfig.__value)) {\n      if (typeof configDiff.__value === 'object' && key in configDiff.__value) {\n        // if the config diff has the key, recurse\n        mergedConfig.__value[key] = updateConfig(\n          baseConfig.__value[key],\n          configDiff.__value[key],\n          modified,\n        );\n      } else {\n        // otherwise just clone the base config\n        mergedConfig.__value[key] = cloneDeep(baseConfig.__value[key]);\n      }\n    }\n\n    return mergedConfig as Config;\n  } else {\n    let validValue = true;\n    if (typeof configDiff.__value !== 'object') {\n      validValue = (configDiff as ConfigVariable).__valid;\n    }\n\n    // update the value based on the config diff\n    return {\n      __type: baseConfig.__type,\n      __value: baseConfig.__value,\n      __newValue: configDiff.__value,\n      __valid: validValue,\n      __modified: modified,\n      __enumClass: baseConfig.__enumClass,\n      __enumValues: baseConfig.__enumValues,\n    } as Config;\n  }\n};\n\nconst refreshConfig = (config: Config) => {\n  if (config.__type === VariableType.CUSTOM) {\n    const refreshedConfig: ConfigCustom = {\n      __type: VariableType.CUSTOM,\n      __value: {},\n    };\n\n    for (const key of Object.keys(config.__value)) {\n      refreshedConfig.__value[key] = refreshConfig(config.__value[key]);\n    }\n\n    return refreshedConfig;\n  } else {\n    return {\n      __type: config.__type,\n      __value: config.__value,\n      __newValue: config.__value,\n      __valid: true,\n      __modified: false,\n      __enumClass: config.__enumClass,\n      __enumValues: config.__enumValues,\n    };\n  }\n};\n\nconst initialState: ConfigState = {\n  configRoot: {} as Config,\n};\n\nconst configReducer = (\n  state: ConfigState = initialState,\n  action:\n    | ReceiveConfigAction\n    | UpdateConfigAction\n    | SaveConfigAction\n    | RefreshConfigAction,\n) => {\n  switch (action.type) {\n    case RECEIVE_CONFIG:\n      return {\n        ...state,\n        configRoot: receiveConfig(state.configRoot, action.configRoot),\n      };\n    case UPDATE_CONFIG:\n      return {\n        ...state,\n        configRoot: updateConfig(state.configRoot, action.configDiff, true),\n      };\n    case SAVE_CONFIG:\n      return {\n        ...state,\n        configRoot: updateConfig(state.configRoot, action.configDiff, false),\n      };\n    case REFRESH_CONFIG:\n      return {\n        ...state,\n        configRoot: refreshConfig(state.configRoot),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default configReducer;\n","import OpModeStatus from '../../enums/OpModeStatus';\nimport {\n  ReceiveOpModeListAction,\n  ReceiveRobotStatusAction,\n  RECEIVE_OP_MODE_LIST,\n  RECEIVE_ROBOT_STATUS,\n  StatusState,\n} from '../types';\n\nconst initialState: StatusState = {\n  available: false,\n  activeOpMode: '',\n  activeOpModeStatus: OpModeStatus.STOPPED,\n  opModeList: [],\n  warningMessage: '',\n  errorMessage: '',\n};\n\nconst statusReducer = (\n  state = initialState,\n  action: ReceiveRobotStatusAction | ReceiveOpModeListAction,\n) => {\n  switch (action.type) {\n    case RECEIVE_ROBOT_STATUS:\n      return {\n        ...state,\n        ...action.status,\n      };\n    case RECEIVE_OP_MODE_LIST:\n      return {\n        ...state,\n        opModeList: action.opModeList,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default statusReducer;\n","import { CameraState, ReceiveImageAction, RECEIVE_IMAGE } from '../types';\n\nconst initialState: CameraState = {\n  imageStr: '',\n};\n\nconst cameraReducer = (\n  state: CameraState = initialState,\n  action: ReceiveImageAction,\n): CameraState => {\n  switch (action.type) {\n    case RECEIVE_IMAGE:\n      return {\n        ...state,\n        imageStr: action.imageString,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default cameraReducer;\n","import LayoutPreset from '../../enums/LayoutPreset';\n\nimport {\n  SettingState,\n  ReceiveLayoutPresetAction,\n  RECEIVE_LAYOUT_PRESET,\n} from '../types';\n\nconst initialState: SettingState = {\n  layoutPreset: LayoutPreset.DEFAULT,\n};\n\nconst settingsReducer = (\n  state: SettingState = initialState,\n  action: ReceiveLayoutPresetAction,\n) => {\n  switch (action.type) {\n    case RECEIVE_LAYOUT_PRESET:\n      return {\n        ...state,\n        layoutPreset: action.preset,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default settingsReducer;\n","import {\n  GamepadConnectedAction,\n  GamepadConnectionState,\n  GamepadDisonnectedAction,\n  GAMEPAD_CONNECTED,\n  GAMEPAD_DISCONNECTED,\n} from '../types';\n\nconst initialState: GamepadConnectionState = {\n  gamepad1Connected: false,\n  gamepad2Connected: false,\n};\n\nconst gamepadReducer = (\n  state: GamepadConnectionState = initialState,\n  action: GamepadConnectedAction | GamepadDisonnectedAction,\n): GamepadConnectionState => {\n  switch (action.type) {\n    case GAMEPAD_CONNECTED:\n      if (action.user === 1) {\n        return {\n          ...state,\n          gamepad1Connected: true,\n        };\n      } else {\n        return {\n          ...state,\n          gamepad2Connected: true,\n        };\n      }\n    case GAMEPAD_DISCONNECTED:\n      if (action.user === 1) {\n        return {\n          ...state,\n          gamepad1Connected: false,\n        };\n      } else {\n        return {\n          ...state,\n          gamepad2Connected: false,\n        };\n      }\n    default:\n      return state;\n  }\n};\n\nexport default gamepadReducer;\n","import { ThunkAction, ThunkDispatch } from 'redux-thunk';\nimport { Action, combineReducers } from 'redux';\n\nimport telemetryReducer from './telemetry';\nimport socketReducer from './socket';\nimport configReducer from './config';\nimport statusReducer from './status';\nimport cameraReducer from './camera';\nimport settingsReducer from './settings';\nimport gamepadReducer from './gamepad';\n\nconst rootReducer = combineReducers({\n  telemetry: telemetryReducer,\n  socket: socketReducer,\n  config: configReducer,\n  status: statusReducer,\n  camera: cameraReducer,\n  settings: settingsReducer,\n  gamepad: gamepadReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport type AppThunkAction<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n\nexport type AppThunkDispatch<ReturnType = void> = ThunkDispatch<\n  RootState,\n  ReturnType,\n  Action\n>;\n\nexport default rootReducer;\n","import { applyMiddleware, createStore } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport thunk from 'redux-thunk';\n\nimport gamepadMiddleware from './middleware/gamepadMiddleware';\nimport socketMiddleware from './middleware/socketMiddleware';\nimport storageMiddleware from './middleware/storageMiddleware';\nimport rootReducer from './reducers';\nimport {\n  GET_ROBOT_STATUS,\n  RECEIVE_PING_TIME,\n  RECEIVE_ROBOT_STATUS,\n  RECEIVE_TELEMETRY,\n} from './types';\n\nconst HIDDEN_ACTIONS = [\n  RECEIVE_PING_TIME,\n  RECEIVE_TELEMETRY,\n  RECEIVE_ROBOT_STATUS,\n  GET_ROBOT_STATUS,\n];\n\nconst configureStore = () => {\n  const middlewares = [\n    thunk,\n    gamepadMiddleware,\n    socketMiddleware,\n    storageMiddleware,\n  ];\n\n  if (process.env.NODE_ENV === 'development') {\n    const logger = createLogger({\n      predicate: (getState, action) =>\n        HIDDEN_ACTIONS.indexOf(action.type) === -1,\n    });\n\n    middlewares.push(logger);\n  }\n\n  return createStore(rootReducer, applyMiddleware(...middlewares));\n};\n\nexport default configureStore;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport Dashboard from './containers/Dashboard';\nimport configureStore from './store/configureStore';\nimport './index.css';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <Dashboard />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}